# TinyMUSH movement system tests
# Format: command | expected substring
# Blank lines and lines starting with # are ignored.
# If no expected substring is provided, any non-empty output counts as OK.

# Setup: Create test objects, rooms and exits for movement testing
@dig TestRoom1 | TestRoom1 created
@dig TestRoom2 | TestRoom2 created
@create TestBox | TestBox created as object
@set TestBox=ENTER_OK | Set.

# Create exits between rooms
@open north;n=#2 | Opened
@link north=#2 | Linked
@teleport me=#2 | TestRoom1
@open south;s=#0 | Opened
@link south=#0 | Linked
@teleport me=#0 | Limbo

# Test goto/move (using exits)
north | TestRoom1
south | Limbo

# Test @teleport with room numbers
@teleport me=#2 | TestRoom1
@teleport me=#0 | Limbo
@create MovableBox | MovableBox created
@teleport MovableBox=#2 | Teleported

# Test get command
@teleport me=#2 | TestRoom1
get MovableBox | Taken
inventory | MovableBox

# Test drop command
drop MovableBox | Dropped
look | MovableBox

# Test give command (give money)
@teleport me=#0 | Limbo
@teleport TestBox=#0 | Teleported
get TestBox | Taken
give TestBox=10 | You give
score | Pennies

# Test enter command
@ealias TestBox=box;b | Set.
drop TestBox | Dropped
enter TestBox | TestBox
look | TestBox

# Test leave command
@lalias TestBox=out;o | Set.
leave | Limbo

# Test home command
@teleport me=#2 | TestRoom1
get MovableBox | Taken
home | There's no place like home
look | Limbo
