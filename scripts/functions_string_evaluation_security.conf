# TinyMUSH Regression Tests - Evaluation and Security Functions
# Functions: @@(), ansi(), decrypt(), encrypt(), esc(), escape(), lit(), nescape(), nsecure(), null(), s(), secure(), subeval(), stripansi(), stripchars(), translate()
# Format: command | expected substring

# Comment/blanking helpers
think strlen(@@(1+1)) | 0
think strlen(null(hello)) | 0

# ANSI helpers (strip to verify content)
think ansi(r,Hi) | Hi
think stripansi(ansi(r,Test)) | Test
think translate(ansi(r,Red),0) | Red

# Encryption round-trip
think decrypt(encrypt(secret,key),key) | secret

# Escaping and securing unsafe strings
think esc(a%[b%]) | a\[b\]
think escape(a%[b%]) | \a\[b\]
think nescape(a%[b%]) | \a\%\[b\%\]
think secure(a;b) | a b
think nsecure(a;b) | a b

# Literal / pronoun substitution helpers
think lit([name(me)]) | [name(me)]
think s(%n is here) | Wizard
think subeval(%n is here) | Wizard

# Strip characters
think stripchars(Here we are. Saving the day again?, ?.,) | Here we are  Saving the day again
