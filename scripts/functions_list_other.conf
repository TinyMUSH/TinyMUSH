# List utility function tests
# Format: command | expected substring

# words() - count words in a list
think [words(foo bar baz)] | 3
think [words()] | 0
think [words(single)] | 1
think [words(one two three four five)] | 5
think [words(foo-bar-baz,-)] | 3

# lpos() - find positions of characters in string (0-indexed)
think [lpos(a-bc-def-g,-)] | 1 4 8
think [lpos(hello world, )] | 5
think [lpos(test,e)] | 1
think [lpos(mississippi,s)] | 2 3 5 6
think [lpos(foo bar baz, ,+)] | 3+7
think [lpos(no-match,x)] |

# itemize() - format list as English series
think [itemize(apple)] | apple
think [itemize(apple banana)] | apple and banana
think [itemize(apple banana cherry)] | apple, banana, and cherry
think [itemize(a b c d)] | a, b, c, and d
think [itemize(one two, ,or)] | one or two
think [itemize(x y z, ,,;)] | x; y; z
think [itemize(foo-bar-baz,-)] | foo, bar, and baz

# tokens() - extract quoted tokens from a string (extracts ALL tokens including non-quoted)
think [tokens(say "hello world")] | say hello world
think [tokens(This is "a test" of tokens)] | This is a test of tokens
think [tokens(one "two three" four "five")] | one two three four five
think [tokens("first" and "second")] | first and second
think [tokens(no quotes here)] | no quotes here

# delimit() - extract attribute value with custom delimiter (uses ^ as default input delim)
&TEST me=foo^bar^baz
think [delimit(me/TEST,::,^)] | foo::bar::baz
&DATA me=one^two^three^four
think [delimit(me/DATA, - ,^)] | one-two-three-four
&SINGLE me=value
think [delimit(me/SINGLE,++,^)] | value
&EMPTY me=a^^c
think [delimit(me/EMPTY,+,^)] | a++c
