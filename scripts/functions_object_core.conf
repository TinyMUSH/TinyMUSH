# TinyMUSH Regression Tests - Object Functions (core subset)
# Read docs before use; tests target stable behaviors in a fresh DB.

# Seed: create a couple of things in the current room
@create ObjA=10
@create ObjB=10

# Type and basic identity
think type(me) | PLAYER
think type(here) | ROOM
think gt(strlen(name(me)),0) | 1
think gt(strlen(fullname(me)),0) | 1
think gt(strlen(flags(me)),0) | 1

# Ownership and dbrefs
think owner(me) | #1
think loc(me) | #0
think room(me) | #0
think where(me) | #0
think isdbref(num(me)) | 1

# Flag logic
think hasflag(me,wizard) | 1
think andflags(me,W) | 1
think orflags(me,P W) | 1
think hastype(me,PLAYER) | 1

# Contents and exits
think gte(words(lcon(here)),1) | 1
think exit(here) | #-1

# Control and visibility
think controls(me,me) | 1
think controls(me,here) | 1
think sees(me,here) | 1
think visible(me,me) | 1
think findable(me,me) | 1
think writable(me,me) | 0

# Timestamps and counters
think isnum(idle(me)) | 1
think isnum(lastaccess(me)) | 1
think isnum(lastmod(me)) | 1
think isnum(money(me)) | 1
# home(dbref) returns a dbref
think isdbref(home(me)) | 1

# Sessions and ports
think gt(strlen(session(me)),0) | 1
think gt(strlen(ports()),0) | 1
think gt(strlen(ps()),0)

# Zones and search
think zone(here) | #-1
think gt(strlen(search()),0) | 1

# WHO variants (accept any output)
think gt(strlen(lwho()),0) | 1
think zwho()
