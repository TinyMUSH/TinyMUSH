<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.12.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>TinyMUSH: src/netmush/funiter.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">TinyMUSH<span id="projectnumber">&#160;3.3</span>
   </div>
   <div id="projectbrief">TinyMUSH Server</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.12.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search',false);
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){ initResizable(false); });
/* @license-end */
</script>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li><li class="navelem"><a class="el" href="dir_d49c5bdcdc946239a893bf2d58085e26.html">netmush</a></li>  </ul>
</div>
</div><!-- top -->
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle"><div class="title">funiter.c File Reference</div></div>
</div><!--header-->
<div class="contents">

<p>Iterator-style built-ins for looping, mapping, and folding over lists/attributes.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &quot;config.h&quot;</code><br />
<code>#include &quot;<a class="el" href="constants_8h_source.html">constants.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="typedefs_8h_source.html">typedefs.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="macros_8h_source.html">macros.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="externs_8h_source.html">externs.h</a>&quot;</code><br />
<code>#include &quot;prototypes.h&quot;</code><br />
<code>#include &lt;stdbool.h&gt;</code><br />
<code>#include &lt;string.h&gt;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for funiter.c:</div>
<div class="dyncontent">
<div class="center"><img src="funiter_8c__incl.png" border="0" usemap="#asrc_2netmush_2funiter_8c" alt=""/></div>
<map name="asrc_2netmush_2funiter_8c" id="asrc_2netmush_2funiter_8c">
<area shape="rect" title="Iterator&#45;style built&#45;ins for looping, mapping, and folding over lists/attributes." alt="" coords="237,5,380,31"/>
<area shape="rect" title=" " alt="" coords="5,79,71,105"/>
<area shape="poly" title=" " alt="" coords="263,34,87,81,85,75,262,29"/>
<area shape="rect" href="constants_8h.html" title="Global numeric and string constants for flags, limits, and parser tokens." alt="" coords="95,79,184,105"/>
<area shape="poly" title=" " alt="" coords="281,34,183,75,181,70,279,29"/>
<area shape="rect" href="typedefs_8h.html" title="Core typedefs for dbrefs, flags, buffers, and engine data structures." alt="" coords="338,153,418,178"/>
<area shape="poly" title=" " alt="" coords="305,32,295,66,294,85,299,103,316,125,338,142,335,147,312,129,294,106,289,86,290,65,300,30"/>
<area shape="rect" title=" " alt="" coords="155,226,228,252"/>
<area shape="poly" title=" " alt="" coords="305,33,207,214,202,211,300,30"/>
<area shape="rect" href="macros_8h.html" title="Engine&#45;wide macros for memory tracking, flag checks, logging, and utilities." alt="" coords="309,79,383,105"/>
<area shape="poly" title=" " alt="" coords="317,30,335,64,330,66,312,32"/>
<area shape="rect" href="externs_8h.html" title="Shared extern declarations and globals used across the game engine." alt="" coords="407,79,480,105"/>
<area shape="poly" title=" " alt="" coords="333,29,408,69,406,74,330,34"/>
<area shape="rect" href="prototypes_8h_source.html" title=" " alt="" coords="504,79,596,105"/>
<area shape="poly" title=" " alt="" coords="350,29,495,72,494,77,349,34"/>
<area shape="rect" title=" " alt="" coords="620,79,683,105"/>
<area shape="poly" title=" " alt="" coords="376,29,605,76,604,81,375,34"/>
<area shape="rect" title=" " alt="" coords="112,153,167,178"/>
<area shape="poly" title=" " alt="" coords="142,105,142,137,137,137,137,105"/>
<area shape="rect" title=" " alt="" coords="344,226,407,252"/>
<area shape="poly" title=" " alt="" coords="380,179,379,211,374,211,375,178"/>
<area shape="rect" title=" " alt="" coords="511,226,570,252"/>
<area shape="poly" title=" " alt="" coords="407,176,500,217,498,222,405,181"/>
<area shape="poly" title=" " alt="" coords="347,181,238,223,236,218,345,176"/>
<area shape="rect" title=" " alt="" coords="431,226,488,252"/>
<area shape="poly" title=" " alt="" coords="394,177,436,214,433,218,390,181"/>
<area shape="rect" title=" " alt="" coords="594,226,674,252"/>
<area shape="poly" title=" " alt="" coords="419,176,580,220,578,225,418,181"/>
<area shape="rect" title=" " alt="" coords="698,226,783,252"/>
<area shape="poly" title=" " alt="" coords="419,173,432,176,684,223,683,228,431,181,418,178"/>
<area shape="poly" title=" " alt="" coords="522,108,422,149,420,144,520,103"/>
<area shape="poly" title=" " alt="" coords="570,103,588,117,604,136,613,157,611,179,596,202,576,219,573,215,592,198,606,177,608,158,599,139,584,121,567,107"/>
<area shape="poly" title=" " alt="" coords="578,103,607,123,631,151,640,182,641,211,635,211,635,182,626,154,603,127,575,108"/>
<area shape="poly" title=" " alt="" coords="575,103,613,124,653,151,690,182,722,213,718,217,687,186,650,155,610,128,573,108"/>
<area shape="rect" title=" " alt="" coords="443,153,505,178"/>
<area shape="poly" title=" " alt="" coords="539,107,500,144,496,140,535,103"/>
<area shape="rect" title=" " alt="" coords="530,153,597,178"/>
<area shape="poly" title=" " alt="" coords="555,104,561,137,556,138,550,105"/>
<area shape="rect" href="ansi_8h_source.html" title=" " alt="" coords="258,153,314,178"/>
<area shape="poly" title=" " alt="" coords="505,108,329,155,328,149,503,103"/>
<area shape="poly" title=" " alt="" coords="303,177,350,214,347,219,299,181"/>
<area shape="poly" title=" " alt="" coords="272,181,221,219,218,215,268,177"/>
<area shape="rect" title=" " alt="" coords="252,226,320,252"/>
<area shape="poly" title=" " alt="" coords="289,179,289,211,283,211,283,179"/>
</map>
</div>
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a85efc70aa7e1252e7e110e34cf2fae3e" id="r_a85efc70aa7e1252e7e110e34cf2fae3e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a85efc70aa7e1252e7e110e34cf2fae3e">perform_loop</a> (char *buff, char **bufc, dbref player, dbref caller, dbref cause, char *fargs[], int nfargs, char *cargs[], int ncargs)</td></tr>
<tr class="memdesc:a85efc70aa7e1252e7e110e34cf2fae3e"><td class="mdescLeft">&#160;</td><td class="mdescRight">backwards-compatible looping constructs: LOOP, PARSE  <br /></td></tr>
<tr class="separator:a85efc70aa7e1252e7e110e34cf2fae3e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a40e45085ea58217100ce1a7f68c069c0" id="r_a40e45085ea58217100ce1a7f68c069c0"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a40e45085ea58217100ce1a7f68c069c0">perform_iter</a> (char *buff, char **bufc, dbref player, dbref caller, dbref cause, char *fargs[], int nfargs, char *cargs[], int ncargs)</td></tr>
<tr class="memdesc:a40e45085ea58217100ce1a7f68c069c0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Looping constructs.  <br /></td></tr>
<tr class="separator:a40e45085ea58217100ce1a7f68c069c0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a01b4cd7ae25e54860211b54004d76565" id="r_a01b4cd7ae25e54860211b54004d76565"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a01b4cd7ae25e54860211b54004d76565">fun_ilev</a> (char *buff, char **bufc, dbref player <a class="el" href="typedefs_8h.html#ad6e0fca9cb4682ac2a9b32277cbe94b6">__attribute__</a>((unused)), dbref caller <a class="el" href="typedefs_8h.html#ad6e0fca9cb4682ac2a9b32277cbe94b6">__attribute__</a>((unused)), dbref cause <a class="el" href="typedefs_8h.html#ad6e0fca9cb4682ac2a9b32277cbe94b6">__attribute__</a>((unused)), char *fargs[] <a class="el" href="typedefs_8h.html#ad6e0fca9cb4682ac2a9b32277cbe94b6">__attribute__</a>((unused)), int nfargs <a class="el" href="typedefs_8h.html#ad6e0fca9cb4682ac2a9b32277cbe94b6">__attribute__</a>((unused)), char *cargs[] <a class="el" href="typedefs_8h.html#ad6e0fca9cb4682ac2a9b32277cbe94b6">__attribute__</a>((unused)), int ncargs <a class="el" href="typedefs_8h.html#ad6e0fca9cb4682ac2a9b32277cbe94b6">__attribute__</a>((unused)))</td></tr>
<tr class="memdesc:a01b4cd7ae25e54860211b54004d76565"><td class="mdescLeft">&#160;</td><td class="mdescRight">Obtain nested iter tokens (#!)  <br /></td></tr>
<tr class="separator:a01b4cd7ae25e54860211b54004d76565"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4fe8ce20616950f067a9f354710c1132" id="r_a4fe8ce20616950f067a9f354710c1132"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a4fe8ce20616950f067a9f354710c1132">fun_inum</a> (char *buff, char **bufc, dbref player <a class="el" href="typedefs_8h.html#ad6e0fca9cb4682ac2a9b32277cbe94b6">__attribute__</a>((unused)), dbref caller <a class="el" href="typedefs_8h.html#ad6e0fca9cb4682ac2a9b32277cbe94b6">__attribute__</a>((unused)), dbref cause <a class="el" href="typedefs_8h.html#ad6e0fca9cb4682ac2a9b32277cbe94b6">__attribute__</a>((unused)), char *fargs[], int nfargs <a class="el" href="typedefs_8h.html#ad6e0fca9cb4682ac2a9b32277cbe94b6">__attribute__</a>((unused)), char *cargs[] <a class="el" href="typedefs_8h.html#ad6e0fca9cb4682ac2a9b32277cbe94b6">__attribute__</a>((unused)), int ncargs <a class="el" href="typedefs_8h.html#ad6e0fca9cb4682ac2a9b32277cbe94b6">__attribute__</a>((unused)))</td></tr>
<tr class="memdesc:a4fe8ce20616950f067a9f354710c1132"><td class="mdescLeft">&#160;</td><td class="mdescRight">Obtain nested iter tokens (#@)  <br /></td></tr>
<tr class="separator:a4fe8ce20616950f067a9f354710c1132"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3abc3bd29dcb42310ebfda065b20892c" id="r_a3abc3bd29dcb42310ebfda065b20892c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a3abc3bd29dcb42310ebfda065b20892c">fun_itext</a> (char *buff, char **bufc, dbref player <a class="el" href="typedefs_8h.html#ad6e0fca9cb4682ac2a9b32277cbe94b6">__attribute__</a>((unused)), dbref caller <a class="el" href="typedefs_8h.html#ad6e0fca9cb4682ac2a9b32277cbe94b6">__attribute__</a>((unused)), dbref cause <a class="el" href="typedefs_8h.html#ad6e0fca9cb4682ac2a9b32277cbe94b6">__attribute__</a>((unused)), char *fargs[], int nfargs <a class="el" href="typedefs_8h.html#ad6e0fca9cb4682ac2a9b32277cbe94b6">__attribute__</a>((unused)), char *cargs[] <a class="el" href="typedefs_8h.html#ad6e0fca9cb4682ac2a9b32277cbe94b6">__attribute__</a>((unused)), int ncargs <a class="el" href="typedefs_8h.html#ad6e0fca9cb4682ac2a9b32277cbe94b6">__attribute__</a>((unused)))</td></tr>
<tr class="memdesc:a3abc3bd29dcb42310ebfda065b20892c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Obtain nested iter tokens (##)  <br /></td></tr>
<tr class="separator:a3abc3bd29dcb42310ebfda065b20892c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a16f0bb65e688a5b73053c560f0ec74ce" id="r_a16f0bb65e688a5b73053c560f0ec74ce"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a16f0bb65e688a5b73053c560f0ec74ce">fun_itext2</a> (char *buff, char **bufc, dbref player <a class="el" href="typedefs_8h.html#ad6e0fca9cb4682ac2a9b32277cbe94b6">__attribute__</a>((unused)), dbref caller <a class="el" href="typedefs_8h.html#ad6e0fca9cb4682ac2a9b32277cbe94b6">__attribute__</a>((unused)), dbref cause <a class="el" href="typedefs_8h.html#ad6e0fca9cb4682ac2a9b32277cbe94b6">__attribute__</a>((unused)), char *fargs[], int nfargs <a class="el" href="typedefs_8h.html#ad6e0fca9cb4682ac2a9b32277cbe94b6">__attribute__</a>((unused)), char *cargs[] <a class="el" href="typedefs_8h.html#ad6e0fca9cb4682ac2a9b32277cbe94b6">__attribute__</a>((unused)), int ncargs <a class="el" href="typedefs_8h.html#ad6e0fca9cb4682ac2a9b32277cbe94b6">__attribute__</a>((unused)))</td></tr>
<tr class="memdesc:a16f0bb65e688a5b73053c560f0ec74ce"><td class="mdescLeft">&#160;</td><td class="mdescRight">Two-list version of iter.  <br /></td></tr>
<tr class="separator:a16f0bb65e688a5b73053c560f0ec74ce"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2b95ff9b059b8a4752c49c3a090d07f5" id="r_a2b95ff9b059b8a4752c49c3a090d07f5"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a2b95ff9b059b8a4752c49c3a090d07f5">fun_ibreak</a> (char *buff <a class="el" href="typedefs_8h.html#ad6e0fca9cb4682ac2a9b32277cbe94b6">__attribute__</a>((unused)), char **bufc <a class="el" href="typedefs_8h.html#ad6e0fca9cb4682ac2a9b32277cbe94b6">__attribute__</a>((unused)), dbref player <a class="el" href="typedefs_8h.html#ad6e0fca9cb4682ac2a9b32277cbe94b6">__attribute__</a>((unused)), dbref caller <a class="el" href="typedefs_8h.html#ad6e0fca9cb4682ac2a9b32277cbe94b6">__attribute__</a>((unused)), dbref cause <a class="el" href="typedefs_8h.html#ad6e0fca9cb4682ac2a9b32277cbe94b6">__attribute__</a>((unused)), char *fargs[], int nfargs <a class="el" href="typedefs_8h.html#ad6e0fca9cb4682ac2a9b32277cbe94b6">__attribute__</a>((unused)), char *cargs[] <a class="el" href="typedefs_8h.html#ad6e0fca9cb4682ac2a9b32277cbe94b6">__attribute__</a>((unused)), int ncargs <a class="el" href="typedefs_8h.html#ad6e0fca9cb4682ac2a9b32277cbe94b6">__attribute__</a>((unused)))</td></tr>
<tr class="memdesc:a2b95ff9b059b8a4752c49c3a090d07f5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Break out of an iter.  <br /></td></tr>
<tr class="separator:a2b95ff9b059b8a4752c49c3a090d07f5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a349537cbdd46c19d8876c897c4d28628" id="r_a349537cbdd46c19d8876c897c4d28628"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a349537cbdd46c19d8876c897c4d28628">fun_fold</a> (char *buff, char **bufc, dbref player, dbref caller, dbref cause, char *fargs[], int nfargs, char *cargs[], int ncargs)</td></tr>
<tr class="memdesc:a349537cbdd46c19d8876c897c4d28628"><td class="mdescLeft">&#160;</td><td class="mdescRight">iteratively eval an attrib with a list of arguments and an optional base case. With no base case, the first list element is passed as %0 and the second is %1. The attrib is then evaluated with these args, the result is then used as %0 and the next arg is %1 and so it goes as there are elements left in the list. The optinal base case gives the user a nice starting point.  <br /></td></tr>
<tr class="separator:a349537cbdd46c19d8876c897c4d28628"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2836a44aa5e9ac4655c4ae6382d1467a" id="r_a2836a44aa5e9ac4655c4ae6382d1467a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a2836a44aa5e9ac4655c4ae6382d1467a">handle_filter</a> (char *buff, char **bufc, dbref player, dbref caller, dbref cause, char *fargs[], int nfargs, char *cargs[], int ncargs)</td></tr>
<tr class="memdesc:a2836a44aa5e9ac4655c4ae6382d1467a"><td class="mdescLeft">&#160;</td><td class="mdescRight">iteratively perform a function with a list of arguments and return the arg, if the function evaluates to TRUE using the arg.  <br /></td></tr>
<tr class="separator:a2836a44aa5e9ac4655c4ae6382d1467a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6e9614ddd8aa8bf943c55d7721f4b474" id="r_a6e9614ddd8aa8bf943c55d7721f4b474"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a6e9614ddd8aa8bf943c55d7721f4b474">fun_map</a> (char *buff, char **bufc, dbref player, dbref caller, dbref cause, char *fargs[], int nfargs, char *cargs[], int ncargs)</td></tr>
<tr class="memdesc:a6e9614ddd8aa8bf943c55d7721f4b474"><td class="mdescLeft">&#160;</td><td class="mdescRight">Iteratively evaluate an attribute with a list of arguments.  <br /></td></tr>
<tr class="separator:a6e9614ddd8aa8bf943c55d7721f4b474"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0e3c992a7a03ab49aeec20ddae8bc869" id="r_a0e3c992a7a03ab49aeec20ddae8bc869"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a0e3c992a7a03ab49aeec20ddae8bc869">fun_mix</a> (char *buff, char **bufc, dbref player, dbref caller, dbref cause, char *fargs[], int nfargs, char *cargs[], int ncargs)</td></tr>
<tr class="memdesc:a0e3c992a7a03ab49aeec20ddae8bc869"><td class="mdescLeft">&#160;</td><td class="mdescRight">Like map, but operates on two lists or more lists simultaneously, passing the elements as %0, %1, %2, etc.  <br /></td></tr>
<tr class="separator:a0e3c992a7a03ab49aeec20ddae8bc869"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a46a333894466b9e7a32cd35d4c07df93" id="r_a46a333894466b9e7a32cd35d4c07df93"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a46a333894466b9e7a32cd35d4c07df93">fun_step</a> (char *buff, char **bufc, dbref player, dbref caller, dbref cause, char *fargs[], int nfargs, char *cargs[], int ncargs)</td></tr>
<tr class="memdesc:a46a333894466b9e7a32cd35d4c07df93"><td class="mdescLeft">&#160;</td><td class="mdescRight">A little like a fusion of iter() and mix(), it takes elements of a list X at a time and passes them into a single function as %0, %1, etc. step(&lt;attribute&gt;,&lt;list&gt;,&lt;step size&gt;,&lt;delim&gt;,&lt;outdelim&gt;)  <br /></td></tr>
<tr class="separator:a46a333894466b9e7a32cd35d4c07df93"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a04e27776148036b94dd0f4c318971ef0" id="r_a04e27776148036b94dd0f4c318971ef0"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a04e27776148036b94dd0f4c318971ef0">fun_foreach</a> (char *buff, char **bufc, dbref player, dbref caller, dbref cause, char *fargs[], int nfargs, char *cargs[] <a class="el" href="typedefs_8h.html#ad6e0fca9cb4682ac2a9b32277cbe94b6">__attribute__</a>((unused)), int ncargs <a class="el" href="typedefs_8h.html#ad6e0fca9cb4682ac2a9b32277cbe94b6">__attribute__</a>((unused)))</td></tr>
<tr class="memdesc:a04e27776148036b94dd0f4c318971ef0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Like map(), but it operates on a string, rather than on a list, calling a user-defined function for each character in the string. No delimiter is inserted between the results.  <br /></td></tr>
<tr class="separator:a04e27776148036b94dd0f4c318971ef0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3ee25b59ff222dd772b7c8f85a057501" id="r_a3ee25b59ff222dd772b7c8f85a057501"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a3ee25b59ff222dd772b7c8f85a057501">fun_munge</a> (char *buff, char **bufc, dbref player, dbref caller, dbref cause, char *fargs[], int nfargs, char *cargs[], int ncargs)</td></tr>
<tr class="memdesc:a3ee25b59ff222dd772b7c8f85a057501"><td class="mdescLeft">&#160;</td><td class="mdescRight">Combines two lists in an arbitrary manner.  <br /></td></tr>
<tr class="separator:a3ee25b59ff222dd772b7c8f85a057501"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa9fd24e104b67517a3a9cd293d31f877" id="r_aa9fd24e104b67517a3a9cd293d31f877"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aa9fd24e104b67517a3a9cd293d31f877">fun_while</a> (char *buff, char **bufc, dbref player, dbref caller, dbref cause, char *fargs[], int nfargs, char *cargs[], int ncargs)</td></tr>
<tr class="memdesc:aa9fd24e104b67517a3a9cd293d31f877"><td class="mdescLeft">&#160;</td><td class="mdescRight">Evaluate a list until a termination condition is met: while(EVAL_FN,CONDITION_FN,foo|flibble|baz|meep,1,|,-) where EVAL_FN is "[strlen(%0)]" and CONDITION_FN is "[strmatch(%0,baz)]" would result in '3-7-3' being returned. The termination condition is an EXACT not wild match.  <br /></td></tr>
<tr class="separator:aa9fd24e104b67517a3a9cd293d31f877"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Iterator-style built-ins for looping, mapping, and folding over lists/attributes. </p>
<dl class="section author"><dt>Author</dt><dd>TinyMUSH development team (<a href="https://github.com/TinyMUSH">https://github.com/TinyMUSH</a>) </dd></dl>
<dl class="section version"><dt>Version</dt><dd>4.0</dd></dl>
<dl class="section copyright"><dt>Copyright</dt><dd>Copyright (C) 1989-2025 TinyMUSH development team. You may distribute under the terms the Artistic License, as specified in the COPYING file. </dd></dl>
</div><h2 class="groupheader">Function Documentation</h2>
<a id="a349537cbdd46c19d8876c897c4d28628" name="a349537cbdd46c19d8876c897c4d28628"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a349537cbdd46c19d8876c897c4d28628">&#9670;&#160;</a></span>fun_fold()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void fun_fold </td>
          <td>(</td>
          <td class="paramtype">char *</td>          <td class="paramname"><span class="paramname"><em>buff</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char **</td>          <td class="paramname"><span class="paramname"><em>bufc</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">dbref</td>          <td class="paramname"><span class="paramname"><em>player</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">dbref</td>          <td class="paramname"><span class="paramname"><em>caller</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">dbref</td>          <td class="paramname"><span class="paramname"><em>cause</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *</td>          <td class="paramname"><span class="paramname"><em>fargs</em></span>[], </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>nfargs</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *</td>          <td class="paramname"><span class="paramname"><em>cargs</em></span>[], </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>ncargs</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>iteratively eval an attrib with a list of arguments and an optional base case. With no base case, the first list element is passed as %0 and the second is %1. The attrib is then evaluated with these args, the result is then used as %0 and the next arg is %1 and so it goes as there are elements left in the list. The optinal base case gives the user a nice starting point. </p>
<blockquote class="doxtable">
<p>&zwj;&amp;REP_NUM object=[%0][repeat(%1,%1)] say fold(OBJECT/REP_NUM,1 2 3 4 5,-&gt;) You say "-&gt;122333444455555" </p>
</blockquote>
<dl class="section note"><dt>Note</dt><dd>To use added list separator, you must use base case!</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">buff</td><td>Output buffer </td></tr>
    <tr><td class="paramname">bufc</td><td>Output buffer tracker </td></tr>
    <tr><td class="paramname">player</td><td>DBref of player </td></tr>
    <tr><td class="paramname">caller</td><td>DBref of caller </td></tr>
    <tr><td class="paramname">cause</td><td>DBref of cause </td></tr>
    <tr><td class="paramname">fargs</td><td>Function arguments </td></tr>
    <tr><td class="paramname">nfargs</td><td>Number of function arguments </td></tr>
    <tr><td class="paramname">cargs</td><td>Command arguments </td></tr>
    <tr><td class="paramname">ncargs</td><td>Number of command arguments </td></tr>
  </table>
  </dd>
</dl>
<p>We need two to four arguments only</p>
<p>Two possibilities for the first arg: &lt;obj&gt;/&lt;attr&gt; and &lt;attr&gt;.</p>
<p>Evaluate it using the rest of the passed function args</p>
<p>may as well handle first case now</p>

</div>
</div>
<a id="a04e27776148036b94dd0f4c318971ef0" name="a04e27776148036b94dd0f4c318971ef0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a04e27776148036b94dd0f4c318971ef0">&#9670;&#160;</a></span>fun_foreach()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void fun_foreach </td>
          <td>(</td>
          <td class="paramtype">char *</td>          <td class="paramname"><span class="paramname"><em>buff</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char **</td>          <td class="paramname"><span class="paramname"><em>bufc</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">dbref</td>          <td class="paramname"><span class="paramname"><em>player</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">dbref</td>          <td class="paramname"><span class="paramname"><em>caller</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">dbref</td>          <td class="paramname"><span class="paramname"><em>cause</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *</td>          <td class="paramname"><span class="paramname"><em>fargs</em></span>[], </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>nfargs</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *cargs[]</td>          <td class="paramname"><span class="paramname"><em>__attribute__</em></span>(unused), </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int ncargs </td>          <td class="paramname"><span class="paramname"><em>__attribute__</em></span>(unused)&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Like map(), but it operates on a string, rather than on a list, calling a user-defined function for each character in the string. No delimiter is inserted between the results. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">buff</td><td>Output buffer </td></tr>
    <tr><td class="paramname">bufc</td><td>Output buffer tracker </td></tr>
    <tr><td class="paramname">player</td><td>DBref of player </td></tr>
    <tr><td class="paramname">caller</td><td>DBref of caller </td></tr>
    <tr><td class="paramname">cause</td><td>DBref of cause </td></tr>
    <tr><td class="paramname">fargs</td><td>Function arguments </td></tr>
    <tr><td class="paramname">nfargs</td><td>Number of function arguments </td></tr>
    <tr><td class="paramname">cargs</td><td>Not used </td></tr>
    <tr><td class="paramname">ncargs</td><td>Not used </td></tr>
  </table>
  </dd>
</dl>
<p>first letter in string is 0, not 1</p>
<p>Look for a start token.</p>
<p>Skip to the next character. Don't copy the start token.</p>
<p>We've found an end token. Skip over it. Note that it's possible to have a start and end token next to one another.</p>

</div>
</div>
<a id="a2b95ff9b059b8a4752c49c3a090d07f5" name="a2b95ff9b059b8a4752c49c3a090d07f5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2b95ff9b059b8a4752c49c3a090d07f5">&#9670;&#160;</a></span>fun_ibreak()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void fun_ibreak </td>
          <td>(</td>
          <td class="paramtype">char *buff </td>          <td class="paramname"><span class="paramname"><em>__attribute__</em></span>(unused), </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char **bufc </td>          <td class="paramname"><span class="paramname"><em>__attribute__</em></span>(unused), </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">dbref player </td>          <td class="paramname"><span class="paramname"><em>__attribute__</em></span>(unused), </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">dbref caller </td>          <td class="paramname"><span class="paramname"><em>__attribute__</em></span>(unused), </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">dbref cause </td>          <td class="paramname"><span class="paramname"><em>__attribute__</em></span>(unused), </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *</td>          <td class="paramname"><span class="paramname"><em>fargs</em></span>[], </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int nfargs </td>          <td class="paramname"><span class="paramname"><em>__attribute__</em></span>(unused), </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *cargs[]</td>          <td class="paramname"><span class="paramname"><em>__attribute__</em></span>(unused), </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int ncargs </td>          <td class="paramname"><span class="paramname"><em>__attribute__</em></span>(unused)&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Break out of an iter. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">buff</td><td>Not used </td></tr>
    <tr><td class="paramname">bufc</td><td>Not used </td></tr>
    <tr><td class="paramname">player</td><td>Not used </td></tr>
    <tr><td class="paramname">caller</td><td>Not used </td></tr>
    <tr><td class="paramname">cause</td><td>Not used </td></tr>
    <tr><td class="paramname">fargs</td><td>Function arguments </td></tr>
    <tr><td class="paramname">nfargs</td><td>Not used </td></tr>
    <tr><td class="paramname">cargs</td><td>Not used </td></tr>
    <tr><td class="paramname">ncargs</td><td>Not used </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a01b4cd7ae25e54860211b54004d76565" name="a01b4cd7ae25e54860211b54004d76565"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a01b4cd7ae25e54860211b54004d76565">&#9670;&#160;</a></span>fun_ilev()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void fun_ilev </td>
          <td>(</td>
          <td class="paramtype">char *</td>          <td class="paramname"><span class="paramname"><em>buff</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char **</td>          <td class="paramname"><span class="paramname"><em>bufc</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">dbref player </td>          <td class="paramname"><span class="paramname"><em>__attribute__</em></span>(unused), </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">dbref caller </td>          <td class="paramname"><span class="paramname"><em>__attribute__</em></span>(unused), </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">dbref cause </td>          <td class="paramname"><span class="paramname"><em>__attribute__</em></span>(unused), </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *fargs[]</td>          <td class="paramname"><span class="paramname"><em>__attribute__</em></span>(unused), </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int nfargs </td>          <td class="paramname"><span class="paramname"><em>__attribute__</em></span>(unused), </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *cargs[]</td>          <td class="paramname"><span class="paramname"><em>__attribute__</em></span>(unused), </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int ncargs </td>          <td class="paramname"><span class="paramname"><em>__attribute__</em></span>(unused)&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Obtain nested iter tokens (#!) </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">buff</td><td>Output buffer </td></tr>
    <tr><td class="paramname">bufc</td><td>Output buffer tracker </td></tr>
    <tr><td class="paramname">player</td><td>Not used </td></tr>
    <tr><td class="paramname">caller</td><td>Not used </td></tr>
    <tr><td class="paramname">cause</td><td>Not used </td></tr>
    <tr><td class="paramname">fargs</td><td>Not used </td></tr>
    <tr><td class="paramname">nfargs</td><td>Not used </td></tr>
    <tr><td class="paramname">cargs</td><td>Not used </td></tr>
    <tr><td class="paramname">ncargs</td><td>Not used </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a4fe8ce20616950f067a9f354710c1132" name="a4fe8ce20616950f067a9f354710c1132"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4fe8ce20616950f067a9f354710c1132">&#9670;&#160;</a></span>fun_inum()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void fun_inum </td>
          <td>(</td>
          <td class="paramtype">char *</td>          <td class="paramname"><span class="paramname"><em>buff</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char **</td>          <td class="paramname"><span class="paramname"><em>bufc</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">dbref player </td>          <td class="paramname"><span class="paramname"><em>__attribute__</em></span>(unused), </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">dbref caller </td>          <td class="paramname"><span class="paramname"><em>__attribute__</em></span>(unused), </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">dbref cause </td>          <td class="paramname"><span class="paramname"><em>__attribute__</em></span>(unused), </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *</td>          <td class="paramname"><span class="paramname"><em>fargs</em></span>[], </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int nfargs </td>          <td class="paramname"><span class="paramname"><em>__attribute__</em></span>(unused), </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *cargs[]</td>          <td class="paramname"><span class="paramname"><em>__attribute__</em></span>(unused), </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int ncargs </td>          <td class="paramname"><span class="paramname"><em>__attribute__</em></span>(unused)&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Obtain nested iter tokens (#@) </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">buff</td><td>Output buffer </td></tr>
    <tr><td class="paramname">bufc</td><td>Output buffer tracker </td></tr>
    <tr><td class="paramname">player</td><td>Not used </td></tr>
    <tr><td class="paramname">caller</td><td>Not used </td></tr>
    <tr><td class="paramname">cause</td><td>Not used </td></tr>
    <tr><td class="paramname">fargs</td><td>Function arguments </td></tr>
    <tr><td class="paramname">nfargs</td><td>Not used </td></tr>
    <tr><td class="paramname">cargs</td><td>Not used </td></tr>
    <tr><td class="paramname">ncargs</td><td>Not used </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a3abc3bd29dcb42310ebfda065b20892c" name="a3abc3bd29dcb42310ebfda065b20892c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3abc3bd29dcb42310ebfda065b20892c">&#9670;&#160;</a></span>fun_itext()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void fun_itext </td>
          <td>(</td>
          <td class="paramtype">char *</td>          <td class="paramname"><span class="paramname"><em>buff</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char **</td>          <td class="paramname"><span class="paramname"><em>bufc</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">dbref player </td>          <td class="paramname"><span class="paramname"><em>__attribute__</em></span>(unused), </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">dbref caller </td>          <td class="paramname"><span class="paramname"><em>__attribute__</em></span>(unused), </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">dbref cause </td>          <td class="paramname"><span class="paramname"><em>__attribute__</em></span>(unused), </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *</td>          <td class="paramname"><span class="paramname"><em>fargs</em></span>[], </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int nfargs </td>          <td class="paramname"><span class="paramname"><em>__attribute__</em></span>(unused), </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *cargs[]</td>          <td class="paramname"><span class="paramname"><em>__attribute__</em></span>(unused), </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int ncargs </td>          <td class="paramname"><span class="paramname"><em>__attribute__</em></span>(unused)&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Obtain nested iter tokens (##) </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">buff</td><td>Output buffer </td></tr>
    <tr><td class="paramname">bufc</td><td>Output buffer tracker </td></tr>
    <tr><td class="paramname">player</td><td>Not used </td></tr>
    <tr><td class="paramname">caller</td><td>Not used </td></tr>
    <tr><td class="paramname">cause</td><td>Not used </td></tr>
    <tr><td class="paramname">fargs</td><td>Function arguments </td></tr>
    <tr><td class="paramname">nfargs</td><td>Not used </td></tr>
    <tr><td class="paramname">cargs</td><td>Not used </td></tr>
    <tr><td class="paramname">ncargs</td><td>Not used </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a16f0bb65e688a5b73053c560f0ec74ce" name="a16f0bb65e688a5b73053c560f0ec74ce"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a16f0bb65e688a5b73053c560f0ec74ce">&#9670;&#160;</a></span>fun_itext2()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void fun_itext2 </td>
          <td>(</td>
          <td class="paramtype">char *</td>          <td class="paramname"><span class="paramname"><em>buff</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char **</td>          <td class="paramname"><span class="paramname"><em>bufc</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">dbref player </td>          <td class="paramname"><span class="paramname"><em>__attribute__</em></span>(unused), </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">dbref caller </td>          <td class="paramname"><span class="paramname"><em>__attribute__</em></span>(unused), </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">dbref cause </td>          <td class="paramname"><span class="paramname"><em>__attribute__</em></span>(unused), </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *</td>          <td class="paramname"><span class="paramname"><em>fargs</em></span>[], </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int nfargs </td>          <td class="paramname"><span class="paramname"><em>__attribute__</em></span>(unused), </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *cargs[]</td>          <td class="paramname"><span class="paramname"><em>__attribute__</em></span>(unused), </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int ncargs </td>          <td class="paramname"><span class="paramname"><em>__attribute__</em></span>(unused)&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Two-list version of iter. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">buff</td><td>Output buffer </td></tr>
    <tr><td class="paramname">bufc</td><td>Output buffer tracker </td></tr>
    <tr><td class="paramname">player</td><td>Not used </td></tr>
    <tr><td class="paramname">caller</td><td>Not used </td></tr>
    <tr><td class="paramname">cause</td><td>Not used </td></tr>
    <tr><td class="paramname">fargs</td><td>Function arguments </td></tr>
    <tr><td class="paramname">nfargs</td><td>Not used </td></tr>
    <tr><td class="paramname">cargs</td><td>Not used </td></tr>
    <tr><td class="paramname">ncargs</td><td>Not used </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a6e9614ddd8aa8bf943c55d7721f4b474" name="a6e9614ddd8aa8bf943c55d7721f4b474"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6e9614ddd8aa8bf943c55d7721f4b474">&#9670;&#160;</a></span>fun_map()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void fun_map </td>
          <td>(</td>
          <td class="paramtype">char *</td>          <td class="paramname"><span class="paramname"><em>buff</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char **</td>          <td class="paramname"><span class="paramname"><em>bufc</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">dbref</td>          <td class="paramname"><span class="paramname"><em>player</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">dbref</td>          <td class="paramname"><span class="paramname"><em>caller</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">dbref</td>          <td class="paramname"><span class="paramname"><em>cause</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *</td>          <td class="paramname"><span class="paramname"><em>fargs</em></span>[], </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>nfargs</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *</td>          <td class="paramname"><span class="paramname"><em>cargs</em></span>[], </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>ncargs</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Iteratively evaluate an attribute with a list of arguments. </p>
<blockquote class="doxtable">
<p>&zwj;&amp;DIV_TWO object=fdiv(%0,2) say map(1 2 3 4 5,object/div_two) You say "0.5 1 1.5 2 2.5" say map(object/div_two,1-2-3-4-5,-) You say "0.5-1-1.5-2-2.5" </p>
</blockquote>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">buff</td><td>Output buffer </td></tr>
    <tr><td class="paramname">bufc</td><td>Output buffer tracker </td></tr>
    <tr><td class="paramname">player</td><td>DBref of player </td></tr>
    <tr><td class="paramname">caller</td><td>DBref of caller </td></tr>
    <tr><td class="paramname">cause</td><td>DBref of cause </td></tr>
    <tr><td class="paramname">fargs</td><td>Function arguments </td></tr>
    <tr><td class="paramname">nfargs</td><td>Number of function arguments </td></tr>
    <tr><td class="paramname">cargs</td><td>Command arguments </td></tr>
    <tr><td class="paramname">ncargs</td><td>Number of command arguments </td></tr>
  </table>
  </dd>
</dl>
<p>If we don't have anything for a second arg, don't bother.</p>
<p>Two possibilities for the second arg: &lt;obj&gt;/&lt;attr&gt; and &lt;attr&gt;.</p>
<p>now process the list one element at a time</p>

</div>
</div>
<a id="a0e3c992a7a03ab49aeec20ddae8bc869" name="a0e3c992a7a03ab49aeec20ddae8bc869"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0e3c992a7a03ab49aeec20ddae8bc869">&#9670;&#160;</a></span>fun_mix()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void fun_mix </td>
          <td>(</td>
          <td class="paramtype">char *</td>          <td class="paramname"><span class="paramname"><em>buff</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char **</td>          <td class="paramname"><span class="paramname"><em>bufc</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">dbref</td>          <td class="paramname"><span class="paramname"><em>player</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">dbref</td>          <td class="paramname"><span class="paramname"><em>caller</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">dbref</td>          <td class="paramname"><span class="paramname"><em>cause</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *</td>          <td class="paramname"><span class="paramname"><em>fargs</em></span>[], </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>nfargs</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *</td>          <td class="paramname"><span class="paramname"><em>cargs</em></span>[], </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>ncargs</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Like map, but operates on two lists or more lists simultaneously, passing the elements as %0, %1, %2, etc. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">buff</td><td>Output buffer </td></tr>
    <tr><td class="paramname">bufc</td><td>Output buffer tracker </td></tr>
    <tr><td class="paramname">player</td><td>DBref of player </td></tr>
    <tr><td class="paramname">caller</td><td>DBref of caller </td></tr>
    <tr><td class="paramname">cause</td><td>DBref of cause </td></tr>
    <tr><td class="paramname">fargs</td><td>Function arguments </td></tr>
    <tr><td class="paramname">nfargs</td><td>Number of function arguments </td></tr>
    <tr><td class="paramname">cargs</td><td>Command arguments </td></tr>
    <tr><td class="paramname">ncargs</td><td>Number of command arguments </td></tr>
  </table>
  </dd>
</dl>
<p>Check to see if we have an appropriate number of arguments. If there are more than three arguments, the last argument is ALWAYS assumed to be a delimiter.</p>
<p>Get the attribute, check the permissions.</p>
<p>process the lists, one element at a time.</p>

</div>
</div>
<a id="a3ee25b59ff222dd772b7c8f85a057501" name="a3ee25b59ff222dd772b7c8f85a057501"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3ee25b59ff222dd772b7c8f85a057501">&#9670;&#160;</a></span>fun_munge()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void fun_munge </td>
          <td>(</td>
          <td class="paramtype">char *</td>          <td class="paramname"><span class="paramname"><em>buff</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char **</td>          <td class="paramname"><span class="paramname"><em>bufc</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">dbref</td>          <td class="paramname"><span class="paramname"><em>player</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">dbref</td>          <td class="paramname"><span class="paramname"><em>caller</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">dbref</td>          <td class="paramname"><span class="paramname"><em>cause</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *</td>          <td class="paramname"><span class="paramname"><em>fargs</em></span>[], </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>nfargs</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *</td>          <td class="paramname"><span class="paramname"><em>cargs</em></span>[], </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>ncargs</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Combines two lists in an arbitrary manner. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">buff</td><td>Output buffer </td></tr>
    <tr><td class="paramname">bufc</td><td>Output buffer tracker </td></tr>
    <tr><td class="paramname">player</td><td>DBref of player </td></tr>
    <tr><td class="paramname">caller</td><td>DBref of caller </td></tr>
    <tr><td class="paramname">cause</td><td>DBref of cause </td></tr>
    <tr><td class="paramname">fargs</td><td>Function arguments </td></tr>
    <tr><td class="paramname">nfargs</td><td>Number of function arguments </td></tr>
    <tr><td class="paramname">cargs</td><td>Not used </td></tr>
    <tr><td class="paramname">ncargs</td><td>Not used </td></tr>
  </table>
  </dd>
</dl>
<p>Find our object and attribute</p>
<p>Copy our lists and chop them up.</p>
<p>Call the u-function with the first list as %0. Pass the input separator as %1, which makes sorting, etc. easier.</p>
<p>Now that we have our result, put it back into array form. Search through list1 until we find the element position, then copy the corresponding element from list2.</p>

</div>
</div>
<a id="a46a333894466b9e7a32cd35d4c07df93" name="a46a333894466b9e7a32cd35d4c07df93"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a46a333894466b9e7a32cd35d4c07df93">&#9670;&#160;</a></span>fun_step()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void fun_step </td>
          <td>(</td>
          <td class="paramtype">char *</td>          <td class="paramname"><span class="paramname"><em>buff</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char **</td>          <td class="paramname"><span class="paramname"><em>bufc</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">dbref</td>          <td class="paramname"><span class="paramname"><em>player</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">dbref</td>          <td class="paramname"><span class="paramname"><em>caller</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">dbref</td>          <td class="paramname"><span class="paramname"><em>cause</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *</td>          <td class="paramname"><span class="paramname"><em>fargs</em></span>[], </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>nfargs</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *</td>          <td class="paramname"><span class="paramname"><em>cargs</em></span>[], </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>ncargs</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>A little like a fusion of iter() and mix(), it takes elements of a list X at a time and passes them into a single function as %0, %1, etc. step(&lt;attribute&gt;,&lt;list&gt;,&lt;step size&gt;,&lt;delim&gt;,&lt;outdelim&gt;) </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">buff</td><td>Output buffer </td></tr>
    <tr><td class="paramname">bufc</td><td>Output buffer tracker </td></tr>
    <tr><td class="paramname">player</td><td>DBref of player </td></tr>
    <tr><td class="paramname">caller</td><td>DBref of caller </td></tr>
    <tr><td class="paramname">cause</td><td>DBref of cause </td></tr>
    <tr><td class="paramname">fargs</td><td>Function arguments </td></tr>
    <tr><td class="paramname">nfargs</td><td>Number of function arguments </td></tr>
    <tr><td class="paramname">cargs</td><td>Command arguments </td></tr>
    <tr><td class="paramname">ncargs</td><td>Number of command arguments </td></tr>
  </table>
  </dd>
</dl>
<p>Get attribute. Check permissions.</p>

</div>
</div>
<a id="aa9fd24e104b67517a3a9cd293d31f877" name="aa9fd24e104b67517a3a9cd293d31f877"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa9fd24e104b67517a3a9cd293d31f877">&#9670;&#160;</a></span>fun_while()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void fun_while </td>
          <td>(</td>
          <td class="paramtype">char *</td>          <td class="paramname"><span class="paramname"><em>buff</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char **</td>          <td class="paramname"><span class="paramname"><em>bufc</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">dbref</td>          <td class="paramname"><span class="paramname"><em>player</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">dbref</td>          <td class="paramname"><span class="paramname"><em>caller</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">dbref</td>          <td class="paramname"><span class="paramname"><em>cause</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *</td>          <td class="paramname"><span class="paramname"><em>fargs</em></span>[], </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>nfargs</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *</td>          <td class="paramname"><span class="paramname"><em>cargs</em></span>[], </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>ncargs</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Evaluate a list until a termination condition is met: while(EVAL_FN,CONDITION_FN,foo|flibble|baz|meep,1,|,-) where EVAL_FN is "[strlen(%0)]" and CONDITION_FN is "[strmatch(%0,baz)]" would result in '3-7-3' being returned. The termination condition is an EXACT not wild match. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">buff</td><td>Output buffer </td></tr>
    <tr><td class="paramname">bufc</td><td>Output buffer tracker </td></tr>
    <tr><td class="paramname">player</td><td>DBref of player </td></tr>
    <tr><td class="paramname">caller</td><td>DBref of caller </td></tr>
    <tr><td class="paramname">cause</td><td>DBref of cause </td></tr>
    <tr><td class="paramname">fargs</td><td>Function arguments </td></tr>
    <tr><td class="paramname">nfargs</td><td>Number of function arguments </td></tr>
    <tr><td class="paramname">cargs</td><td>Not used </td></tr>
    <tr><td class="paramname">ncargs</td><td>Not used </td></tr>
  </table>
  </dd>
</dl>
<p>If our third arg is null (empty list), don't bother.</p>
<p>Our first and second args can be &lt;obj&gt;/&lt;attr&gt; or just &lt;attr&gt;. Use them if we can access them, otherwise return an empty string.</p>
<p>If our evaluation and condition are the same, we can save ourselves some time later. There are two possibilities: we have the exact same obj/attr pair, or the attributes contain identical text.</p>
<p>Process the list one element at a time.</p>

</div>
</div>
<a id="a2836a44aa5e9ac4655c4ae6382d1467a" name="a2836a44aa5e9ac4655c4ae6382d1467a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2836a44aa5e9ac4655c4ae6382d1467a">&#9670;&#160;</a></span>handle_filter()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void handle_filter </td>
          <td>(</td>
          <td class="paramtype">char *</td>          <td class="paramname"><span class="paramname"><em>buff</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char **</td>          <td class="paramname"><span class="paramname"><em>bufc</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">dbref</td>          <td class="paramname"><span class="paramname"><em>player</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">dbref</td>          <td class="paramname"><span class="paramname"><em>caller</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">dbref</td>          <td class="paramname"><span class="paramname"><em>cause</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *</td>          <td class="paramname"><span class="paramname"><em>fargs</em></span>[], </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>nfargs</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *</td>          <td class="paramname"><span class="paramname"><em>cargs</em></span>[], </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>ncargs</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>iteratively perform a function with a list of arguments and return the arg, if the function evaluates to TRUE using the arg. </p>
<blockquote class="doxtable">
<p>&zwj;&amp;IS_ODD object=mod(%0,2) say filter(object/is_odd,1 2 3 4 5) You say "1 3 5" say filter(object/is_odd,1-2-3-4-5,-) You say "1-3-5" </p>
</blockquote>
<dl class="section note"><dt>Note</dt><dd>If you specify a separator it is used to delimit returned list</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">buff</td><td>Output buffer </td></tr>
    <tr><td class="paramname">bufc</td><td>Output buffer tracker </td></tr>
    <tr><td class="paramname">player</td><td>DBref of player </td></tr>
    <tr><td class="paramname">caller</td><td>DBref of caller </td></tr>
    <tr><td class="paramname">cause</td><td>DBref of cause </td></tr>
    <tr><td class="paramname">fargs</td><td>Function arguments </td></tr>
    <tr><td class="paramname">nfargs</td><td>Number of function arguments </td></tr>
    <tr><td class="paramname">cargs</td><td>Command arguments </td></tr>
    <tr><td class="paramname">ncargs</td><td>Number of command arguments </td></tr>
  </table>
  </dd>
</dl>
<p>&lt; 0 is filter(), 1 is filterbool()</p>
<p>Two possibilities for the first arg: &lt;obj&gt;/&lt;attr&gt; and &lt;attr&gt;.</p>
<p>Now iteratively eval the attrib with the argument list</p>

</div>
</div>
<a id="a40e45085ea58217100ce1a7f68c069c0" name="a40e45085ea58217100ce1a7f68c069c0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a40e45085ea58217100ce1a7f68c069c0">&#9670;&#160;</a></span>perform_iter()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void perform_iter </td>
          <td>(</td>
          <td class="paramtype">char *</td>          <td class="paramname"><span class="paramname"><em>buff</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char **</td>          <td class="paramname"><span class="paramname"><em>bufc</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">dbref</td>          <td class="paramname"><span class="paramname"><em>player</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">dbref</td>          <td class="paramname"><span class="paramname"><em>caller</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">dbref</td>          <td class="paramname"><span class="paramname"><em>cause</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *</td>          <td class="paramname"><span class="paramname"><em>fargs</em></span>[], </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>nfargs</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *</td>          <td class="paramname"><span class="paramname"><em>cargs</em></span>[], </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>ncargs</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Looping constructs. </p>
<dl class="section note"><dt>Note</dt><dd>iter() and list() parse an expression, substitute elements of a list, one at a time, using the '##' replacement token. Uses of these functions can be nested. In older versions of MUSH, these functions could not be nested. parse() and loop() exist for reasons of backwards compatibility, since the peculiarities of the way substitutions were done in the string replacements make it necessary to provide some way of doing backwards compatibility, in order to avoid breaking a lot of code that relies upon particular patterns of necessary escaping.</dd></dl>
<p>whentrue() and whenfalse() work similarly to iter(). whentrue() loops as long as the expression evaluates to true. whenfalse() loops as long as the expression evaluates to false.</p>
<p>istrue() and isfalse() are inline filterbool() equivalents returning the elements of the list which are true or false, respectively.</p>
<p>iter2(), list2(), etc. are two-list versions of all of the above.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">buff</td><td>Output buffer </td></tr>
    <tr><td class="paramname">bufc</td><td>Output buffer tracker </td></tr>
    <tr><td class="paramname">player</td><td>DBref of player </td></tr>
    <tr><td class="paramname">caller</td><td>DBref of caller </td></tr>
    <tr><td class="paramname">cause</td><td>DBref of cause </td></tr>
    <tr><td class="paramname">fargs</td><td>Function arguments </td></tr>
    <tr><td class="paramname">nfargs</td><td>Number of function arguments </td></tr>
    <tr><td class="paramname">cargs</td><td>Command arguments </td></tr>
    <tr><td class="paramname">ncargs</td><td>Number of command arguments </td></tr>
  </table>
  </dd>
</dl>
<p>&lt; 0 is iter(), 1 is list()</p>
<p>Enforce maximum nesting level.</p>
<p>Figure out what functionality we're getting.</p>
<p>The list argument is unevaluated. Go evaluate it.</p>
<p>Same thing for the second list arg, if we have it</p>
<p>If both lists are empty, we're done</p>
<p>we might nibble this</p>

</div>
</div>
<a id="a85efc70aa7e1252e7e110e34cf2fae3e" name="a85efc70aa7e1252e7e110e34cf2fae3e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a85efc70aa7e1252e7e110e34cf2fae3e">&#9670;&#160;</a></span>perform_loop()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void perform_loop </td>
          <td>(</td>
          <td class="paramtype">char *</td>          <td class="paramname"><span class="paramname"><em>buff</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char **</td>          <td class="paramname"><span class="paramname"><em>bufc</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">dbref</td>          <td class="paramname"><span class="paramname"><em>player</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">dbref</td>          <td class="paramname"><span class="paramname"><em>caller</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">dbref</td>          <td class="paramname"><span class="paramname"><em>cause</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *</td>          <td class="paramname"><span class="paramname"><em>fargs</em></span>[], </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>nfargs</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *</td>          <td class="paramname"><span class="paramname"><em>cargs</em></span>[], </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>ncargs</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>backwards-compatible looping constructs: LOOP, PARSE </p>
<dl class="section note"><dt>Note</dt><dd>See notes on perform_iter for the explanation.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">buff</td><td>Output buffer </td></tr>
    <tr><td class="paramname">bufc</td><td>Output buffer tracker </td></tr>
    <tr><td class="paramname">player</td><td>DBref of player </td></tr>
    <tr><td class="paramname">caller</td><td>DBref of caller </td></tr>
    <tr><td class="paramname">cause</td><td>DBref of cause </td></tr>
    <tr><td class="paramname">fargs</td><td>Function arguments </td></tr>
    <tr><td class="paramname">nfargs</td><td>Number of function arguments </td></tr>
    <tr><td class="paramname">cargs</td><td>Command arguments </td></tr>
    <tr><td class="paramname">ncargs</td><td>Number of command arguments </td></tr>
  </table>
  </dd>
</dl>
<p>&lt; 0 is parse(), 1 is loop()</p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.12.0
</small></address>
</div><!-- doc-content -->
</body>
</html>
