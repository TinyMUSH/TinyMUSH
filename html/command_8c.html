<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.12.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>TinyMUSH: src/netmush/command.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">TinyMUSH<span id="projectnumber">&#160;3.3</span>
   </div>
   <div id="projectbrief">TinyMUSH Server</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.12.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search',false);
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){ initResizable(false); });
/* @license-end */
</script>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li><li class="navelem"><a class="el" href="dir_d49c5bdcdc946239a893bf2d58085e26.html">netmush</a></li>  </ul>
</div>
</div><!-- top -->
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle"><div class="title">command.c File Reference</div></div>
</div><!--header-->
<div class="contents">

<p>Command table registration, parsing, dispatch, and execution pipeline.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &quot;config.h&quot;</code><br />
<code>#include &quot;<a class="el" href="constants_8h_source.html">constants.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="typedefs_8h_source.html">typedefs.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="macros_8h_source.html">macros.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="externs_8h_source.html">externs.h</a>&quot;</code><br />
<code>#include &quot;prototypes.h&quot;</code><br />
<code>#include &lt;stdbool.h&gt;</code><br />
<code>#include &lt;ctype.h&gt;</code><br />
<code>#include &lt;string.h&gt;</code><br />
<code>#include &lt;pcre2.h&gt;</code><br />
<code>#include &lt;sys/resource.h&gt;</code><br />
<code>#include &lt;sys/time.h&gt;</code><br />
<code>#include &lt;dlfcn.h&gt;</code><br />
<code>#include &lt;unistd.h&gt;</code><br />
<code>#include &lt;libgen.h&gt;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for command.c:</div>
<div class="dyncontent">
<div class="center"><img src="command_8c__incl.png" border="0" usemap="#asrc_2netmush_2command_8c" alt=""/></div>
<map name="asrc_2netmush_2command_8c" id="asrc_2netmush_2command_8c">
<area shape="rect" title="Command table registration, parsing, dispatch, and execution pipeline." alt="" coords="768,5,932,31"/>
<area shape="rect" title=" " alt="" coords="5,79,71,105"/>
<area shape="poly" title=" " alt="" coords="767,24,638,29,471,39,281,56,86,82,86,76,280,51,470,34,638,24,767,19"/>
<area shape="rect" href="constants_8h.html" title="Global numeric and string constants for flags, limits, and parser tokens." alt="" coords="95,79,184,105"/>
<area shape="poly" title=" " alt="" coords="768,27,515,47,359,63,202,82,200,82,199,77,202,76,358,57,514,42,767,22"/>
<area shape="rect" href="typedefs_8h.html" title="Core typedefs for dbrefs, flags, buffers, and engine data structures." alt="" coords="587,153,668,178"/>
<area shape="poly" title=" " alt="" coords="768,31,712,49,685,63,661,81,643,108,634,139,628,137,638,106,657,77,682,58,709,44,767,26"/>
<area shape="rect" title=" " alt="" coords="776,226,849,252"/>
<area shape="poly" title=" " alt="" coords="777,34,737,52,720,64,706,80,701,91,701,100,714,115,738,131,761,151,784,182,802,211,797,214,780,185,757,154,734,135,711,119,696,102,695,90,701,78,716,60,734,47,775,29"/>
<area shape="rect" title=" " alt="" coords="220,226,301,252"/>
<area shape="poly" title=" " alt="" coords="768,22,693,26,607,35,516,53,428,81,380,109,338,145,304,183,279,215,275,212,300,179,335,141,377,104,426,77,515,48,606,30,693,20,767,16"/>
<area shape="rect" href="macros_8h.html" title="Engine&#45;wide macros for memory tracking, flag checks, logging, and utilities." alt="" coords="716,79,790,105"/>
<area shape="poly" title=" " alt="" coords="835,34,783,72,779,68,832,29"/>
<area shape="rect" href="externs_8h.html" title="Shared extern declarations and globals used across the game engine." alt="" coords="813,79,887,105"/>
<area shape="poly" title=" " alt="" coords="853,31,853,63,847,63,847,31"/>
<area shape="rect" href="prototypes_8h_source.html" title=" " alt="" coords="439,79,530,105"/>
<area shape="poly" title=" " alt="" coords="788,34,546,81,545,76,787,29"/>
<area shape="rect" title=" " alt="" coords="911,79,973,105"/>
<area shape="poly" title=" " alt="" coords="867,29,916,67,913,72,864,34"/>
<area shape="rect" title=" " alt="" coords="997,79,1060,105"/>
<area shape="poly" title=" " alt="" coords="881,29,985,70,983,75,879,34"/>
<area shape="rect" title=" " alt="" coords="1085,79,1148,105"/>
<area shape="poly" title=" " alt="" coords="896,29,1071,76,1070,81,895,34"/>
<area shape="rect" title=" " alt="" coords="1172,79,1277,105"/>
<area shape="poly" title=" " alt="" coords="914,29,1157,75,1156,80,913,34"/>
<area shape="rect" title=" " alt="" coords="1302,79,1361,105"/>
<area shape="poly" title=" " alt="" coords="933,25,1093,44,1287,76,1286,81,1092,49,932,30"/>
<area shape="rect" title=" " alt="" coords="1385,79,1451,105"/>
<area shape="poly" title=" " alt="" coords="933,23,1128,42,1248,57,1370,76,1369,81,1247,62,1128,47,932,28"/>
<area shape="rect" title=" " alt="" coords="1475,79,1540,105"/>
<area shape="poly" title=" " alt="" coords="933,21,1166,38,1311,54,1460,76,1459,81,1311,59,1166,43,932,26"/>
<area shape="rect" title=" " alt="" coords="112,153,167,178"/>
<area shape="poly" title=" " alt="" coords="142,105,142,137,137,137,137,105"/>
<area shape="rect" title=" " alt="" coords="597,226,660,252"/>
<area shape="poly" title=" " alt="" coords="630,179,631,210,625,211,625,179"/>
<area shape="rect" title=" " alt="" coords="324,226,384,252"/>
<area shape="poly" title=" " alt="" coords="587,180,400,228,398,223,586,174"/>
<area shape="poly" title=" " alt="" coords="660,176,768,218,766,223,658,181"/>
<area shape="rect" title=" " alt="" coords="516,226,573,252"/>
<area shape="poly" title=" " alt="" coords="615,181,572,218,568,214,612,177"/>
<area shape="poly" title=" " alt="" coords="588,179,576,181,316,228,315,223,575,176,587,173"/>
<area shape="rect" title=" " alt="" coords="408,226,492,252"/>
<area shape="poly" title=" " alt="" coords="598,181,495,223,493,218,596,176"/>
<area shape="poly" title=" " alt="" coords="510,103,591,143,588,148,508,108"/>
<area shape="poly" title=" " alt="" coords="457,108,423,127,391,154,373,183,363,212,358,211,369,181,387,151,420,122,454,103"/>
<area shape="poly" title=" " alt="" coords="458,108,415,128,369,155,324,187,287,218,283,214,321,183,366,150,413,124,456,103"/>
<area shape="poly" title=" " alt="" coords="455,108,424,126,411,139,400,154,397,169,401,185,424,214,420,217,397,187,392,169,396,152,407,135,421,122,452,103"/>
<area shape="rect" title=" " alt="" coords="410,153,472,178"/>
<area shape="poly" title=" " alt="" coords="480,106,458,141,454,138,475,103"/>
<area shape="rect" title=" " alt="" coords="496,153,564,178"/>
<area shape="poly" title=" " alt="" coords="494,103,517,138,512,141,490,106"/>
<area shape="rect" href="ansi_8h_source.html" title=" " alt="" coords="692,153,747,178"/>
<area shape="poly" title=" " alt="" coords="525,103,678,149,676,154,524,108"/>
<area shape="poly" title=" " alt="" coords="706,181,657,219,654,215,702,177"/>
<area shape="poly" title=" " alt="" coords="737,177,787,215,783,219,734,181"/>
<area shape="rect" title=" " alt="" coords="684,226,752,252"/>
<area shape="poly" title=" " alt="" coords="722,179,721,211,716,210,716,179"/>
</map>
</div>
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="define-members" name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:acff91275abcc225454675d6dfc39a58d" id="r_acff91275abcc225454675d6dfc39a58d"><td class="memItemLeft" align="right" valign="top"><a id="acff91275abcc225454675d6dfc39a58d" name="acff91275abcc225454675d6dfc39a58d"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>PCRE2_CODE_UNIT_WIDTH</b>&#160;&#160;&#160;8</td></tr>
<tr class="separator:acff91275abcc225454675d6dfc39a58d"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a69009db0d6b4333c7321278e9c168ea5" id="r_a69009db0d6b4333c7321278e9c168ea5"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a69009db0d6b4333c7321278e9c168ea5">init_cmdtab</a> (void)</td></tr>
<tr class="memdesc:a69009db0d6b4333c7321278e9c168ea5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialize the command table.  <br /></td></tr>
<tr class="separator:a69009db0d6b4333c7321278e9c168ea5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a855f9a541e924ef6b52df935695f438f" id="r_a855f9a541e924ef6b52df935695f438f"><td class="memItemLeft" align="right" valign="top"><a id="a855f9a541e924ef6b52df935695f438f" name="a855f9a541e924ef6b52df935695f438f"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>reset_prefix_cmds</b> (void)</td></tr>
<tr class="memdesc:a855f9a541e924ef6b52df935695f438f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Reset prefix's commands. <br /></td></tr>
<tr class="separator:a855f9a541e924ef6b52df935695f438f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7d1051a9a811091ff9169c8c1fbf4a4e" id="r_a7d1051a9a811091ff9169c8c1fbf4a4e"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a7d1051a9a811091ff9169c8c1fbf4a4e">check_access</a> (dbref player, int mask)</td></tr>
<tr class="memdesc:a7d1051a9a811091ff9169c8c1fbf4a4e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check if player has access to function. Note that the calling function may also give permission denied messages on failure.  <br /></td></tr>
<tr class="separator:a7d1051a9a811091ff9169c8c1fbf4a4e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2a4b80f55be324eaa95cf1a060b2fd68" id="r_a2a4b80f55be324eaa95cf1a060b2fd68"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a2a4b80f55be324eaa95cf1a060b2fd68">check_mod_access</a> (dbref player, <a class="el" href="structexternal__funcs.html">EXTFUNCS</a> *xperms)</td></tr>
<tr class="memdesc:a2a4b80f55be324eaa95cf1a060b2fd68"><td class="mdescLeft">&#160;</td><td class="mdescRight">Go through sequence of module call-outs, treating all of them like permission checks.  <br /></td></tr>
<tr class="separator:a2a4b80f55be324eaa95cf1a060b2fd68"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acbb2dabdbaf350030b44590e2128960b" id="r_acbb2dabdbaf350030b44590e2128960b"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#acbb2dabdbaf350030b44590e2128960b">check_userdef_access</a> (dbref player, <a class="el" href="structhookentry.html">HOOKENT</a> *hookp, char *cargs[], int ncargs)</td></tr>
<tr class="memdesc:acbb2dabdbaf350030b44590e2128960b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check if user has access to command with user-def'd permissions.  <br /></td></tr>
<tr class="separator:acbb2dabdbaf350030b44590e2128960b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a45d043f5840301c68359f99ea562958d" id="r_a45d043f5840301c68359f99ea562958d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a45d043f5840301c68359f99ea562958d">process_hook</a> (<a class="el" href="structhookentry.html">HOOKENT</a> *hp, int save_globs, dbref player, dbref cause <a class="el" href="typedefs_8h.html#ad6e0fca9cb4682ac2a9b32277cbe94b6">__attribute__</a>((unused)), char *cargs[], int ncargs)</td></tr>
<tr class="memdesc:a45d043f5840301c68359f99ea562958d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Evaluate a hook.  <br /></td></tr>
<tr class="separator:a45d043f5840301c68359f99ea562958d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7e0bcbead8705576c4097f6b5797ff47" id="r_a7e0bcbead8705576c4097f6b5797ff47"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a7e0bcbead8705576c4097f6b5797ff47">call_move_hook</a> (dbref player, dbref cause, bool state)</td></tr>
<tr class="memdesc:a7e0bcbead8705576c4097f6b5797ff47"><td class="mdescLeft">&#160;</td><td class="mdescRight">Call the hooks before and after leaving a room.  <br /></td></tr>
<tr class="separator:a7e0bcbead8705576c4097f6b5797ff47"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af2a2ba388e2b9483ea0b0a2bbe25912b" id="r_af2a2ba388e2b9483ea0b0a2bbe25912b"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#af2a2ba388e2b9483ea0b0a2bbe25912b">check_cmd_access</a> (dbref player, <a class="el" href="structcmdentry.html">CMDENT</a> *cmdp, char *cargs[], int ncargs)</td></tr>
<tr class="memdesc:af2a2ba388e2b9483ea0b0a2bbe25912b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check if user has access to command.  <br /></td></tr>
<tr class="separator:af2a2ba388e2b9483ea0b0a2bbe25912b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9add97e586b676c0aef7080c2ce9a9a0" id="r_a9add97e586b676c0aef7080c2ce9a9a0"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a9add97e586b676c0aef7080c2ce9a9a0">process_cmdent</a> (<a class="el" href="structcmdentry.html">CMDENT</a> *cmdp, char *switchp, dbref player, dbref cause, bool interactive, char *arg, char *unp_command, char *cargs[], int ncargs)</td></tr>
<tr class="memdesc:a9add97e586b676c0aef7080c2ce9a9a0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Perform indicated command with passed args.  <br /></td></tr>
<tr class="separator:a9add97e586b676c0aef7080c2ce9a9a0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3fb9f2ed35ae78e9877a8236e15b852b" id="r_a3fb9f2ed35ae78e9877a8236e15b852b"><td class="memItemLeft" align="right" valign="top">char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a3fb9f2ed35ae78e9877a8236e15b852b">process_command</a> (dbref player, dbref cause, int interactive, char *command, char *args[], int nargs)</td></tr>
<tr class="memdesc:a3fb9f2ed35ae78e9877a8236e15b852b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Execute a command.  <br /></td></tr>
<tr class="separator:a3fb9f2ed35ae78e9877a8236e15b852b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aebdadbccadc7489769072221843250fb" id="r_aebdadbccadc7489769072221843250fb"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aebdadbccadc7489769072221843250fb">process_cmdline</a> (dbref player, dbref cause, char *cmdline, char *args[], int nargs, <a class="el" href="typedefs_8h.html#aee5aada2e75abf9cfff8d45524dec45c">BQUE</a> *qent)</td></tr>
<tr class="memdesc:aebdadbccadc7489769072221843250fb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Execute a semicolon/pipe-delimited series of commands.  <br /></td></tr>
<tr class="separator:aebdadbccadc7489769072221843250fb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4a1fe2c7bb860d8e68f4ea4c3624fd12" id="r_a4a1fe2c7bb860d8e68f4ea4c3624fd12"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a4a1fe2c7bb860d8e68f4ea4c3624fd12">list_cmdtable</a> (dbref player)</td></tr>
<tr class="memdesc:a4a1fe2c7bb860d8e68f4ea4c3624fd12"><td class="mdescLeft">&#160;</td><td class="mdescRight">List internal commands. Note that user-defined command permissions are ignored in this context.  <br /></td></tr>
<tr class="separator:a4a1fe2c7bb860d8e68f4ea4c3624fd12"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0506a1892977bc4d7f6aa9cda3865d52" id="r_a0506a1892977bc4d7f6aa9cda3865d52"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a0506a1892977bc4d7f6aa9cda3865d52">list_attrtable</a> (dbref player)</td></tr>
<tr class="memdesc:a0506a1892977bc4d7f6aa9cda3865d52"><td class="mdescLeft">&#160;</td><td class="mdescRight">List available attributes.  <br /></td></tr>
<tr class="separator:a0506a1892977bc4d7f6aa9cda3865d52"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a189df913aecf724c9d91da2fe88f18f5" id="r_a189df913aecf724c9d91da2fe88f18f5"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a189df913aecf724c9d91da2fe88f18f5">helper_list_cmdaccess</a> (dbref player, <a class="el" href="structcmdentry.html">CMDENT</a> *ctab)</td></tr>
<tr class="memdesc:a189df913aecf724c9d91da2fe88f18f5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Helper for the list access commands.  <br /></td></tr>
<tr class="separator:a189df913aecf724c9d91da2fe88f18f5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a58311df4c6045fdb1167ace69e8ceacd" id="r_a58311df4c6045fdb1167ace69e8ceacd"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a58311df4c6045fdb1167ace69e8ceacd">list_cmdaccess</a> (dbref player)</td></tr>
<tr class="memdesc:a58311df4c6045fdb1167ace69e8ceacd"><td class="mdescLeft">&#160;</td><td class="mdescRight">List access commands.  <br /></td></tr>
<tr class="separator:a58311df4c6045fdb1167ace69e8ceacd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2c115887bd29e7e849d685915126e3bf" id="r_a2c115887bd29e7e849d685915126e3bf"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a2c115887bd29e7e849d685915126e3bf">list_cmdswitches</a> (dbref player)</td></tr>
<tr class="memdesc:a2c115887bd29e7e849d685915126e3bf"><td class="mdescLeft">&#160;</td><td class="mdescRight">List switches for commands.  <br /></td></tr>
<tr class="separator:a2c115887bd29e7e849d685915126e3bf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2d8ee1e84ff419c3228fce47d30ad93d" id="r_a2d8ee1e84ff419c3228fce47d30ad93d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a2d8ee1e84ff419c3228fce47d30ad93d">list_attraccess</a> (dbref player)</td></tr>
<tr class="memdesc:a2d8ee1e84ff419c3228fce47d30ad93d"><td class="mdescLeft">&#160;</td><td class="mdescRight">List access to attributes.  <br /></td></tr>
<tr class="separator:a2d8ee1e84ff419c3228fce47d30ad93d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac084814520b923a64334bce5218780a6" id="r_ac084814520b923a64334bce5218780a6"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ac084814520b923a64334bce5218780a6">list_attrtypes</a> (dbref player)</td></tr>
<tr class="memdesc:ac084814520b923a64334bce5218780a6"><td class="mdescLeft">&#160;</td><td class="mdescRight">List attribute "types" (wildcards and permissions)  <br /></td></tr>
<tr class="separator:ac084814520b923a64334bce5218780a6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af09656d08f2a6cab960de5ea5d8fdec1" id="r_af09656d08f2a6cab960de5ea5d8fdec1"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#af09656d08f2a6cab960de5ea5d8fdec1">cf_access</a> (int *vp <a class="el" href="typedefs_8h.html#ad6e0fca9cb4682ac2a9b32277cbe94b6">__attribute__</a>((unused)), char *str, long extra, dbref player, char *cmd)</td></tr>
<tr class="memdesc:af09656d08f2a6cab960de5ea5d8fdec1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Change command or switch permissions.  <br /></td></tr>
<tr class="separator:af09656d08f2a6cab960de5ea5d8fdec1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a23d27c1966b79b93570c8061c470dad2" id="r_a23d27c1966b79b93570c8061c470dad2"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a23d27c1966b79b93570c8061c470dad2">cf_acmd_access</a> (int *vp <a class="el" href="typedefs_8h.html#ad6e0fca9cb4682ac2a9b32277cbe94b6">__attribute__</a>((unused)), char *str, long extra, dbref player, char *cmd)</td></tr>
<tr class="memdesc:a23d27c1966b79b93570c8061c470dad2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Change command permissions for all attr-setting cmds.  <br /></td></tr>
<tr class="separator:a23d27c1966b79b93570c8061c470dad2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3c31cf98a3f7e3af4e1ea93a5a229ee5" id="r_a3c31cf98a3f7e3af4e1ea93a5a229ee5"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a3c31cf98a3f7e3af4e1ea93a5a229ee5">cf_attr_access</a> (int *vp <a class="el" href="typedefs_8h.html#ad6e0fca9cb4682ac2a9b32277cbe94b6">__attribute__</a>((unused)), char *str, long extra, dbref player, char *cmd)</td></tr>
<tr class="memdesc:a3c31cf98a3f7e3af4e1ea93a5a229ee5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Change access on an attribute.  <br /></td></tr>
<tr class="separator:a3c31cf98a3f7e3af4e1ea93a5a229ee5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a98a2c827fa932c05b87d59ee580732a3" id="r_a98a2c827fa932c05b87d59ee580732a3"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a98a2c827fa932c05b87d59ee580732a3">cf_attr_type</a> (int *vp <a class="el" href="typedefs_8h.html#ad6e0fca9cb4682ac2a9b32277cbe94b6">__attribute__</a>((unused)), char *str, long extra, dbref player, char *cmd)</td></tr>
<tr class="memdesc:a98a2c827fa932c05b87d59ee580732a3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Define attribute flags for new user-named attributes whose names match a certain pattern.  <br /></td></tr>
<tr class="separator:a98a2c827fa932c05b87d59ee580732a3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2685fafa38ca5d2c3cc1b55df7dfeb42" id="r_a2685fafa38ca5d2c3cc1b55df7dfeb42"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a2685fafa38ca5d2c3cc1b55df7dfeb42">cf_cmd_alias</a> (int *vp, char *str, long extra <a class="el" href="typedefs_8h.html#ad6e0fca9cb4682ac2a9b32277cbe94b6">__attribute__</a>((unused)), dbref player, char *cmd)</td></tr>
<tr class="memdesc:a2685fafa38ca5d2c3cc1b55df7dfeb42"><td class="mdescLeft">&#160;</td><td class="mdescRight">Add a command alias.  <br /></td></tr>
<tr class="separator:a2685fafa38ca5d2c3cc1b55df7dfeb42"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abf82e6fecb3232a9e60fbf69438eb3fe" id="r_abf82e6fecb3232a9e60fbf69438eb3fe"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#abf82e6fecb3232a9e60fbf69438eb3fe">list_df_flags</a> (dbref player)</td></tr>
<tr class="memdesc:abf82e6fecb3232a9e60fbf69438eb3fe"><td class="mdescLeft">&#160;</td><td class="mdescRight">List default flags at create time.  <br /></td></tr>
<tr class="separator:abf82e6fecb3232a9e60fbf69438eb3fe"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afc48d4c390671b04556730ed457f9e43" id="r_afc48d4c390671b04556730ed457f9e43"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#afc48d4c390671b04556730ed457f9e43">list_costs</a> (dbref player)</td></tr>
<tr class="memdesc:afc48d4c390671b04556730ed457f9e43"><td class="mdescLeft">&#160;</td><td class="mdescRight">List the costs of things.  <br /></td></tr>
<tr class="separator:afc48d4c390671b04556730ed457f9e43"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5b4e847bec4d08e1f7e7aee4b296b74a" id="r_a5b4e847bec4d08e1f7e7aee4b296b74a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a5b4e847bec4d08e1f7e7aee4b296b74a">list_params</a> (dbref player)</td></tr>
<tr class="memdesc:a5b4e847bec4d08e1f7e7aee4b296b74a"><td class="mdescLeft">&#160;</td><td class="mdescRight">List boolean game options from mushconf. list_config: List non-boolean game options.  <br /></td></tr>
<tr class="separator:a5b4e847bec4d08e1f7e7aee4b296b74a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad7d03fe57eede4f2aef5cf3fbc281cfd" id="r_ad7d03fe57eede4f2aef5cf3fbc281cfd"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ad7d03fe57eede4f2aef5cf3fbc281cfd">list_vattrs</a> (dbref player)</td></tr>
<tr class="memdesc:ad7d03fe57eede4f2aef5cf3fbc281cfd"><td class="mdescLeft">&#160;</td><td class="mdescRight">List user-defined attributes.  <br /></td></tr>
<tr class="separator:ad7d03fe57eede4f2aef5cf3fbc281cfd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a04bffc257583bc9c1618478fd5b51d6e" id="r_a04bffc257583bc9c1618478fd5b51d6e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a04bffc257583bc9c1618478fd5b51d6e">list_hashstat</a> (dbref player, const char *tab_name, <a class="el" href="structhashtable.html">HASHTAB</a> *htab)</td></tr>
<tr class="memdesc:a04bffc257583bc9c1618478fd5b51d6e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Helper for listing information from an hash table.  <br /></td></tr>
<tr class="separator:a04bffc257583bc9c1618478fd5b51d6e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a65f28d96558c0e10b97d8ecffeb6350b" id="r_a65f28d96558c0e10b97d8ecffeb6350b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a65f28d96558c0e10b97d8ecffeb6350b">list_nhashstat</a> (dbref player, const char *tab_name, <a class="el" href="structhashtable.html">HASHTAB</a> *htab)</td></tr>
<tr class="memdesc:a65f28d96558c0e10b97d8ecffeb6350b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Helper for listing information from an nhash table.  <br /></td></tr>
<tr class="separator:a65f28d96558c0e10b97d8ecffeb6350b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac53f6275fc3dda1e16cb588144b05d0d" id="r_ac53f6275fc3dda1e16cb588144b05d0d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ac53f6275fc3dda1e16cb588144b05d0d">list_hashstats</a> (dbref player)</td></tr>
<tr class="memdesc:ac53f6275fc3dda1e16cb588144b05d0d"><td class="mdescLeft">&#160;</td><td class="mdescRight">List informations from Hash/NHash tables.  <br /></td></tr>
<tr class="separator:ac53f6275fc3dda1e16cb588144b05d0d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7738fae756acb374e7944f825d3bd7a7" id="r_a7738fae756acb374e7944f825d3bd7a7"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a7738fae756acb374e7944f825d3bd7a7">list_textfiles</a> (dbref player)</td></tr>
<tr class="memdesc:a7738fae756acb374e7944f825d3bd7a7"><td class="mdescLeft">&#160;</td><td class="mdescRight">List textfiles.  <br /></td></tr>
<tr class="separator:a7738fae756acb374e7944f825d3bd7a7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6409f1135fa85877a3d7a672d0ee3469" id="r_a6409f1135fa85877a3d7a672d0ee3469"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a6409f1135fa85877a3d7a672d0ee3469">list_db_stats</a> (dbref player)</td></tr>
<tr class="memdesc:a6409f1135fa85877a3d7a672d0ee3469"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get useful info from the DB layer about hash stats, etc.  <br /></td></tr>
<tr class="separator:a6409f1135fa85877a3d7a672d0ee3469"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a729378f07153a76c011804c6b34926c2" id="r_a729378f07153a76c011804c6b34926c2"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a729378f07153a76c011804c6b34926c2">list_process</a> (dbref player)</td></tr>
<tr class="memdesc:a729378f07153a76c011804c6b34926c2"><td class="mdescLeft">&#160;</td><td class="mdescRight">List local resource usage stats of the MUSH process. Adapted from code by Claudius@PythonMUCK, posted to the net by Howard/Dark_Lord.  <br /></td></tr>
<tr class="separator:a729378f07153a76c011804c6b34926c2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a74949a71a7a9b272b623da73e124529e" id="r_a74949a71a7a9b272b623da73e124529e"><td class="memItemLeft" align="right" valign="top"><a id="a74949a71a7a9b272b623da73e124529e" name="a74949a71a7a9b272b623da73e124529e"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>print_memory</b> (dbref player, const char *item, size_t size)</td></tr>
<tr class="separator:a74949a71a7a9b272b623da73e124529e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a67726ec13eb0c85ea98e97722cfa07c3" id="r_a67726ec13eb0c85ea98e97722cfa07c3"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a67726ec13eb0c85ea98e97722cfa07c3">list_memory</a> (dbref player)</td></tr>
<tr class="memdesc:a67726ec13eb0c85ea98e97722cfa07c3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Breaks down memory usage of the process.  <br /></td></tr>
<tr class="separator:a67726ec13eb0c85ea98e97722cfa07c3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2872c9a3d2b50116b6450dee49a51f87" id="r_a2872c9a3d2b50116b6450dee49a51f87"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a2872c9a3d2b50116b6450dee49a51f87">do_list</a> (dbref player, dbref cause <a class="el" href="typedefs_8h.html#ad6e0fca9cb4682ac2a9b32277cbe94b6">__attribute__</a>((unused)), int extra <a class="el" href="typedefs_8h.html#ad6e0fca9cb4682ac2a9b32277cbe94b6">__attribute__</a>((unused)), char *arg)</td></tr>
<tr class="memdesc:a2872c9a3d2b50116b6450dee49a51f87"><td class="mdescLeft">&#160;</td><td class="mdescRight">List information stored in internal structures.  <br /></td></tr>
<tr class="separator:a2872c9a3d2b50116b6450dee49a51f87"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="var-members" name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a513bf4101833bc5d3029fea3c3c73030" id="r_a513bf4101833bc5d3029fea3c3c73030"><td class="memItemLeft" align="right" valign="top"><a id="a513bf4101833bc5d3029fea3c3c73030" name="a513bf4101833bc5d3029fea3c3c73030"></a>
void(*&#160;</td><td class="memItemRight" valign="bottom"><b>handler_cs_no_args</b> )(dbref, dbref, int)</td></tr>
<tr class="separator:a513bf4101833bc5d3029fea3c3c73030"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a35b2969d9eb4f84fb14af5a189214565" id="r_a35b2969d9eb4f84fb14af5a189214565"><td class="memItemLeft" align="right" valign="top"><a id="a35b2969d9eb4f84fb14af5a189214565" name="a35b2969d9eb4f84fb14af5a189214565"></a>
void(*&#160;</td><td class="memItemRight" valign="bottom"><b>handler_cs_one_args</b> )(dbref, dbref, int, char *)</td></tr>
<tr class="separator:a35b2969d9eb4f84fb14af5a189214565"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0e66c1937571eedb2ce5b1ff38fbe598" id="r_a0e66c1937571eedb2ce5b1ff38fbe598"><td class="memItemLeft" align="right" valign="top"><a id="a0e66c1937571eedb2ce5b1ff38fbe598" name="a0e66c1937571eedb2ce5b1ff38fbe598"></a>
void(*&#160;</td><td class="memItemRight" valign="bottom"><b>handler_cs_one_args_unparse</b> )(dbref, char *)</td></tr>
<tr class="separator:a0e66c1937571eedb2ce5b1ff38fbe598"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a38b1177e02c0c49dfeec2434a77872de" id="r_a38b1177e02c0c49dfeec2434a77872de"><td class="memItemLeft" align="right" valign="top"><a id="a38b1177e02c0c49dfeec2434a77872de" name="a38b1177e02c0c49dfeec2434a77872de"></a>
void(*&#160;</td><td class="memItemRight" valign="bottom"><b>handler_cs_one_args_cmdargs</b> )(dbref, dbref, int, char *, char *[], int)</td></tr>
<tr class="separator:a38b1177e02c0c49dfeec2434a77872de"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abdf03b49bb8f4829246acb9da0fa82fe" id="r_abdf03b49bb8f4829246acb9da0fa82fe"><td class="memItemLeft" align="right" valign="top"><a id="abdf03b49bb8f4829246acb9da0fa82fe" name="abdf03b49bb8f4829246acb9da0fa82fe"></a>
void(*&#160;</td><td class="memItemRight" valign="bottom"><b>handler_cs_two_args</b> )(dbref, dbref, int, char *, char *)</td></tr>
<tr class="separator:abdf03b49bb8f4829246acb9da0fa82fe"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4b8fd69e5f08b4f0d9ca056d408cf815" id="r_a4b8fd69e5f08b4f0d9ca056d408cf815"><td class="memItemLeft" align="right" valign="top"><a id="a4b8fd69e5f08b4f0d9ca056d408cf815" name="a4b8fd69e5f08b4f0d9ca056d408cf815"></a>
void(*&#160;</td><td class="memItemRight" valign="bottom"><b>handler_cs_two_args_cmdargs</b> )(dbref, dbref, int, char *, char *, char *[], int)</td></tr>
<tr class="separator:a4b8fd69e5f08b4f0d9ca056d408cf815"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3afe03cac6d7af5cac19e094ae7fa88a" id="r_a3afe03cac6d7af5cac19e094ae7fa88a"><td class="memItemLeft" align="right" valign="top"><a id="a3afe03cac6d7af5cac19e094ae7fa88a" name="a3afe03cac6d7af5cac19e094ae7fa88a"></a>
void(*&#160;</td><td class="memItemRight" valign="bottom"><b>handler_cs_two_args_argv</b> )(dbref, dbref, int, char *, char *[], int)</td></tr>
<tr class="separator:a3afe03cac6d7af5cac19e094ae7fa88a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a090683a7952eac15be53cf2a2b73512f" id="r_a090683a7952eac15be53cf2a2b73512f"><td class="memItemLeft" align="right" valign="top"><a id="a090683a7952eac15be53cf2a2b73512f" name="a090683a7952eac15be53cf2a2b73512f"></a>
void(*&#160;</td><td class="memItemRight" valign="bottom"><b>handler_cs_two_args_cmdargs_argv</b> )(dbref, dbref, int, char *, char *[], int, char *[], int)</td></tr>
<tr class="separator:a090683a7952eac15be53cf2a2b73512f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4838e9e4a05db2b3dec9f05d20e6a190" id="r_a4838e9e4a05db2b3dec9f05d20e6a190"><td class="memItemLeft" align="right" valign="top"><a id="a4838e9e4a05db2b3dec9f05d20e6a190" name="a4838e9e4a05db2b3dec9f05d20e6a190"></a>
<a class="el" href="structcmdentry.html">CMDENT</a> *&#160;</td><td class="memItemRight" valign="bottom"><b>prefix_cmds</b> [256]</td></tr>
<tr class="separator:a4838e9e4a05db2b3dec9f05d20e6a190"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaa5c54f08404d41782402e73b5414687" id="r_aaa5c54f08404d41782402e73b5414687"><td class="memItemLeft" align="right" valign="top"><a id="aaa5c54f08404d41782402e73b5414687" name="aaa5c54f08404d41782402e73b5414687"></a>
<a class="el" href="structcmdentry.html">CMDENT</a> *&#160;</td><td class="memItemRight" valign="bottom"><b>goto_cmdp</b></td></tr>
<tr class="separator:aaa5c54f08404d41782402e73b5414687"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6a45b7dc80d46230f64b5ee2c635477b" id="r_a6a45b7dc80d46230f64b5ee2c635477b"><td class="memItemLeft" align="right" valign="top"><a id="a6a45b7dc80d46230f64b5ee2c635477b" name="a6a45b7dc80d46230f64b5ee2c635477b"></a>
<a class="el" href="structcmdentry.html">CMDENT</a> *&#160;</td><td class="memItemRight" valign="bottom"><b>enter_cmdp</b></td></tr>
<tr class="separator:a6a45b7dc80d46230f64b5ee2c635477b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a780a331a174598d780596870ef3ac9f6" id="r_a780a331a174598d780596870ef3ac9f6"><td class="memItemLeft" align="right" valign="top"><a id="a780a331a174598d780596870ef3ac9f6" name="a780a331a174598d780596870ef3ac9f6"></a>
<a class="el" href="structcmdentry.html">CMDENT</a> *&#160;</td><td class="memItemRight" valign="bottom"><b>leave_cmdp</b></td></tr>
<tr class="separator:a780a331a174598d780596870ef3ac9f6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa40a9f0d7fa2db3bdf529c447d3aa9f7" id="r_aa40a9f0d7fa2db3bdf529c447d3aa9f7"><td class="memItemLeft" align="right" valign="top"><a id="aa40a9f0d7fa2db3bdf529c447d3aa9f7" name="aa40a9f0d7fa2db3bdf529c447d3aa9f7"></a>
<a class="el" href="structcmdentry.html">CMDENT</a> *&#160;</td><td class="memItemRight" valign="bottom"><b>internalgoto_cmdp</b></td></tr>
<tr class="separator:aa40a9f0d7fa2db3bdf529c447d3aa9f7"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Command table registration, parsing, dispatch, and execution pipeline. </p>
<dl class="section author"><dt>Author</dt><dd>TinyMUSH development team (<a href="https://github.com/TinyMUSH">https://github.com/TinyMUSH</a>) </dd></dl>
<dl class="section version"><dt>Version</dt><dd>4.0</dd></dl>
<dl class="section copyright"><dt>Copyright</dt><dd>Copyright (C) 1989-2025 TinyMUSH development team. You may distribute under the terms the Artistic License, as specified in the COPYING file. </dd></dl>
</div><h2 class="groupheader">Function Documentation</h2>
<a id="a7e0bcbead8705576c4097f6b5797ff47" name="a7e0bcbead8705576c4097f6b5797ff47"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7e0bcbead8705576c4097f6b5797ff47">&#9670;&#160;</a></span>call_move_hook()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void call_move_hook </td>
          <td>(</td>
          <td class="paramtype">dbref</td>          <td class="paramname"><span class="paramname"><em>player</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">dbref</td>          <td class="paramname"><span class="paramname"><em>cause</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool</td>          <td class="paramname"><span class="paramname"><em>state</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Call the hooks before and after leaving a room. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">player</td><td>DBref of Player leaving </td></tr>
    <tr><td class="paramname">cause</td><td>DBref of what caused the action </td></tr>
    <tr><td class="paramname">state</td><td>True: before, False: after </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="af09656d08f2a6cab960de5ea5d8fdec1" name="af09656d08f2a6cab960de5ea5d8fdec1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af09656d08f2a6cab960de5ea5d8fdec1">&#9670;&#160;</a></span>cf_access()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int cf_access </td>
          <td>(</td>
          <td class="paramtype">int *vp </td>          <td class="paramname"><span class="paramname"><em>__attribute__</em></span>(unused), </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *</td>          <td class="paramname"><span class="paramname"><em>str</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">long</td>          <td class="paramname"><span class="paramname"><em>extra</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">dbref</td>          <td class="paramname"><span class="paramname"><em>player</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *</td>          <td class="paramname"><span class="paramname"><em>cmd</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Change command or switch permissions. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">vp</td><td></td></tr>
    <tr><td class="paramname">str</td><td></td></tr>
    <tr><td class="paramname">extra</td><td></td></tr>
    <tr><td class="paramname">player</td><td></td></tr>
    <tr><td class="paramname">cmd</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>int </dd></dl>

</div>
</div>
<a id="a23d27c1966b79b93570c8061c470dad2" name="a23d27c1966b79b93570c8061c470dad2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a23d27c1966b79b93570c8061c470dad2">&#9670;&#160;</a></span>cf_acmd_access()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int cf_acmd_access </td>
          <td>(</td>
          <td class="paramtype">int *vp </td>          <td class="paramname"><span class="paramname"><em>__attribute__</em></span>(unused), </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *</td>          <td class="paramname"><span class="paramname"><em>str</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">long</td>          <td class="paramname"><span class="paramname"><em>extra</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">dbref</td>          <td class="paramname"><span class="paramname"><em>player</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *</td>          <td class="paramname"><span class="paramname"><em>cmd</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Change command permissions for all attr-setting cmds. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">vp</td><td></td></tr>
    <tr><td class="paramname">str</td><td></td></tr>
    <tr><td class="paramname">extra</td><td></td></tr>
    <tr><td class="paramname">player</td><td></td></tr>
    <tr><td class="paramname">cmd</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>int </dd></dl>

</div>
</div>
<a id="a3c31cf98a3f7e3af4e1ea93a5a229ee5" name="a3c31cf98a3f7e3af4e1ea93a5a229ee5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3c31cf98a3f7e3af4e1ea93a5a229ee5">&#9670;&#160;</a></span>cf_attr_access()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int cf_attr_access </td>
          <td>(</td>
          <td class="paramtype">int *vp </td>          <td class="paramname"><span class="paramname"><em>__attribute__</em></span>(unused), </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *</td>          <td class="paramname"><span class="paramname"><em>str</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">long</td>          <td class="paramname"><span class="paramname"><em>extra</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">dbref</td>          <td class="paramname"><span class="paramname"><em>player</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *</td>          <td class="paramname"><span class="paramname"><em>cmd</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Change access on an attribute. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">vp</td><td></td></tr>
    <tr><td class="paramname">str</td><td></td></tr>
    <tr><td class="paramname">extra</td><td></td></tr>
    <tr><td class="paramname">player</td><td></td></tr>
    <tr><td class="paramname">cmd</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>int </dd></dl>

</div>
</div>
<a id="a98a2c827fa932c05b87d59ee580732a3" name="a98a2c827fa932c05b87d59ee580732a3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a98a2c827fa932c05b87d59ee580732a3">&#9670;&#160;</a></span>cf_attr_type()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int cf_attr_type </td>
          <td>(</td>
          <td class="paramtype">int *vp </td>          <td class="paramname"><span class="paramname"><em>__attribute__</em></span>(unused), </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *</td>          <td class="paramname"><span class="paramname"><em>str</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">long</td>          <td class="paramname"><span class="paramname"><em>extra</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">dbref</td>          <td class="paramname"><span class="paramname"><em>player</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *</td>          <td class="paramname"><span class="paramname"><em>cmd</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Define attribute flags for new user-named attributes whose names match a certain pattern. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">vp</td><td></td></tr>
    <tr><td class="paramname">str</td><td></td></tr>
    <tr><td class="paramname">extra</td><td></td></tr>
    <tr><td class="paramname">player</td><td></td></tr>
    <tr><td class="paramname">cmd</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>int </dd></dl>
<p>Split our string into the attribute pattern and privileges. Also uppercase it, while we're at it. Make sure it's not longer than an attribute name can be.</p>
<p>Create our new data blob. Make sure that we're setting the privs to something reasonable before trying to link it in. (If we're not, an error will have been logged; we don't need to do it.)</p>

</div>
</div>
<a id="a2685fafa38ca5d2c3cc1b55df7dfeb42" name="a2685fafa38ca5d2c3cc1b55df7dfeb42"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2685fafa38ca5d2c3cc1b55df7dfeb42">&#9670;&#160;</a></span>cf_cmd_alias()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int cf_cmd_alias </td>
          <td>(</td>
          <td class="paramtype">int *</td>          <td class="paramname"><span class="paramname"><em>vp</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *</td>          <td class="paramname"><span class="paramname"><em>str</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">long extra </td>          <td class="paramname"><span class="paramname"><em>__attribute__</em></span>(unused), </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">dbref</td>          <td class="paramname"><span class="paramname"><em>player</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *</td>          <td class="paramname"><span class="paramname"><em>cmd</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Add a command alias. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">vp</td><td></td></tr>
    <tr><td class="paramname">str</td><td></td></tr>
    <tr><td class="paramname">extra</td><td></td></tr>
    <tr><td class="paramname">player</td><td></td></tr>
    <tr><td class="paramname">cmd</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>int </dd></dl>
<p>we only got one argument to @alias. Bad.</p>
<p>Switch form of command aliasing: create an alias for a command + a switch</p>
<p>Look up the command</p>
<p>Look up the switch</p>
<p>Got it, create the new command table entry</p>
<p>KNOWN PROBLEM: We are not inheriting the hook that the 'original' command had &ndash; we will have to add it manually (whereas an alias of a non-switched command is just another hashtable entry for the same command pointer and therefore gets the hook). This is preferable to having to search the hashtable for hooks when a hook is deleted, though.</p>
<p>A normal (non-switch) alias</p>

</div>
</div>
<a id="a7d1051a9a811091ff9169c8c1fbf4a4e" name="a7d1051a9a811091ff9169c8c1fbf4a4e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7d1051a9a811091ff9169c8c1fbf4a4e">&#9670;&#160;</a></span>check_access()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool check_access </td>
          <td>(</td>
          <td class="paramtype">dbref</td>          <td class="paramname"><span class="paramname"><em>player</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>mask</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Check if player has access to function. Note that the calling function may also give permission denied messages on failure. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">player</td><td>Player doing the command </td></tr>
    <tr><td class="paramname">mask</td><td>Permission's mask </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>bool Permission granted or not </dd></dl>
<p>Check if we have permission to execute</p>
<p>Check for bits that we have to have. Since we know that we're not God at this point, if it is God-only, it fails. (God in combination with other stuff is implicitly checked, since we return false if we don't find the other bits.)</p>
<p>Check the things that we can't be.</p>

</div>
</div>
<a id="af2a2ba388e2b9483ea0b0a2bbe25912b" name="af2a2ba388e2b9483ea0b0a2bbe25912b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af2a2ba388e2b9483ea0b0a2bbe25912b">&#9670;&#160;</a></span>check_cmd_access()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool check_cmd_access </td>
          <td>(</td>
          <td class="paramtype">dbref</td>          <td class="paramname"><span class="paramname"><em>player</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structcmdentry.html">CMDENT</a> *</td>          <td class="paramname"><span class="paramname"><em>cmdp</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *</td>          <td class="paramname"><span class="paramname"><em>cargs</em></span>[], </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>ncargs</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Check if user has access to command. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">player</td><td>DBref of playuer </td></tr>
    <tr><td class="paramname">cmdp</td><td>Command entry </td></tr>
    <tr><td class="paramname">cargs</td><td>Command Arguments </td></tr>
    <tr><td class="paramname">ncargs</td><td>Number of arguments </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Bool User has access or not </dd></dl>

</div>
</div>
<a id="a2a4b80f55be324eaa95cf1a060b2fd68" name="a2a4b80f55be324eaa95cf1a060b2fd68"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2a4b80f55be324eaa95cf1a060b2fd68">&#9670;&#160;</a></span>check_mod_access()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool check_mod_access </td>
          <td>(</td>
          <td class="paramtype">dbref</td>          <td class="paramname"><span class="paramname"><em>player</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structexternal__funcs.html">EXTFUNCS</a> *</td>          <td class="paramname"><span class="paramname"><em>xperms</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Go through sequence of module call-outs, treating all of them like permission checks. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">player</td><td>Player doing the command </td></tr>
    <tr><td class="paramname">xperms</td><td>Extended functions list </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>bool Permission granted or not </dd></dl>

</div>
</div>
<a id="acbb2dabdbaf350030b44590e2128960b" name="acbb2dabdbaf350030b44590e2128960b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acbb2dabdbaf350030b44590e2128960b">&#9670;&#160;</a></span>check_userdef_access()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool check_userdef_access </td>
          <td>(</td>
          <td class="paramtype">dbref</td>          <td class="paramname"><span class="paramname"><em>player</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structhookentry.html">HOOKENT</a> *</td>          <td class="paramname"><span class="paramname"><em>hookp</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *</td>          <td class="paramname"><span class="paramname"><em>cargs</em></span>[], </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>ncargs</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Check if user has access to command with user-def'd permissions. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">player</td><td>Player doing the command </td></tr>
    <tr><td class="paramname">hookp</td><td>Hook entry point </td></tr>
    <tr><td class="paramname">cargs</td><td>Command argument list </td></tr>
    <tr><td class="paramname">ncargs</td><td>Number of arguments </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>bool Permission granted or not </dd></dl>
<p>We have user-defined command permissions. Go evaluate the obj/attr pair that we've been given. If that result is nonexistent, we consider it a failure. We use boolean truth here.</p>
<p>Note that unlike before and after hooks, we always preserve the registers. (When you get right down to it, this thing isn't really a hook. It's just convenient to re-use the same code that we use with hooks.)</p>

</div>
</div>
<a id="a2872c9a3d2b50116b6450dee49a51f87" name="a2872c9a3d2b50116b6450dee49a51f87"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2872c9a3d2b50116b6450dee49a51f87">&#9670;&#160;</a></span>do_list()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void do_list </td>
          <td>(</td>
          <td class="paramtype">dbref</td>          <td class="paramname"><span class="paramname"><em>player</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">dbref cause </td>          <td class="paramname"><span class="paramname"><em>__attribute__</em></span>(unused), </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int extra </td>          <td class="paramname"><span class="paramname"><em>__attribute__</em></span>(unused), </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *</td>          <td class="paramname"><span class="paramname"><em>arg</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>List information stored in internal structures. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">player</td><td>DBref of player </td></tr>
    <tr><td class="paramname">cause</td><td>DBref of cause </td></tr>
    <tr><td class="paramname">extra</td><td>Not used. </td></tr>
    <tr><td class="paramname">arg</td><td>Arguments </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a189df913aecf724c9d91da2fe88f18f5" name="a189df913aecf724c9d91da2fe88f18f5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a189df913aecf724c9d91da2fe88f18f5">&#9670;&#160;</a></span>helper_list_cmdaccess()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void helper_list_cmdaccess </td>
          <td>(</td>
          <td class="paramtype">dbref</td>          <td class="paramname"><span class="paramname"><em>player</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structcmdentry.html">CMDENT</a> *</td>          <td class="paramname"><span class="paramname"><em>ctab</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Helper for the list access commands. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">player</td><td>DBref of the player </td></tr>
    <tr><td class="paramname">ctab</td><td>Command table </td></tr>
    <tr><td class="paramname">buff</td><td>Buffer for the list </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a69009db0d6b4333c7321278e9c168ea5" name="a69009db0d6b4333c7321278e9c168ea5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a69009db0d6b4333c7321278e9c168ea5">&#9670;&#160;</a></span>init_cmdtab()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void init_cmdtab </td>
          <td>(</td>
          <td class="paramtype">void</td>          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initialize the command table. </p>
<p>Load attribute-setting commands</p>
<p>also add the __ alias form</p>
<p>Load the builtin commands, plus __ aliases</p>
<p>Set the builtin prefix commands</p>

</div>
</div>
<a id="a2d8ee1e84ff419c3228fce47d30ad93d" name="a2d8ee1e84ff419c3228fce47d30ad93d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2d8ee1e84ff419c3228fce47d30ad93d">&#9670;&#160;</a></span>list_attraccess()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void list_attraccess </td>
          <td>(</td>
          <td class="paramtype">dbref</td>          <td class="paramname"><span class="paramname"><em>player</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>List access to attributes. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">player</td><td>DBref of player </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a0506a1892977bc4d7f6aa9cda3865d52" name="a0506a1892977bc4d7f6aa9cda3865d52"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0506a1892977bc4d7f6aa9cda3865d52">&#9670;&#160;</a></span>list_attrtable()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void list_attrtable </td>
          <td>(</td>
          <td class="paramtype">dbref</td>          <td class="paramname"><span class="paramname"><em>player</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>List available attributes. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">player</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ac084814520b923a64334bce5218780a6" name="ac084814520b923a64334bce5218780a6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac084814520b923a64334bce5218780a6">&#9670;&#160;</a></span>list_attrtypes()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void list_attrtypes </td>
          <td>(</td>
          <td class="paramtype">dbref</td>          <td class="paramname"><span class="paramname"><em>player</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>List attribute "types" (wildcards and permissions) </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">player</td><td>DBref of player </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a58311df4c6045fdb1167ace69e8ceacd" name="a58311df4c6045fdb1167ace69e8ceacd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a58311df4c6045fdb1167ace69e8ceacd">&#9670;&#160;</a></span>list_cmdaccess()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void list_cmdaccess </td>
          <td>(</td>
          <td class="paramtype">dbref</td>          <td class="paramname"><span class="paramname"><em>player</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>List access commands. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">player</td><td>DBref of the player </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a2c115887bd29e7e849d685915126e3bf" name="a2c115887bd29e7e849d685915126e3bf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2c115887bd29e7e849d685915126e3bf">&#9670;&#160;</a></span>list_cmdswitches()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void list_cmdswitches </td>
          <td>(</td>
          <td class="paramtype">dbref</td>          <td class="paramname"><span class="paramname"><em>player</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>List switches for commands. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">player</td><td>DBref of the player </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a4a1fe2c7bb860d8e68f4ea4c3624fd12" name="a4a1fe2c7bb860d8e68f4ea4c3624fd12"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4a1fe2c7bb860d8e68f4ea4c3624fd12">&#9670;&#160;</a></span>list_cmdtable()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void list_cmdtable </td>
          <td>(</td>
          <td class="paramtype">dbref</td>          <td class="paramname"><span class="paramname"><em>player</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>List internal commands. Note that user-defined command permissions are ignored in this context. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">player</td><td>DBref of the player </td></tr>
  </table>
  </dd>
</dl>
<p>Players get the list of logged-out cmds too</p>

</div>
</div>
<a id="afc48d4c390671b04556730ed457f9e43" name="afc48d4c390671b04556730ed457f9e43"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afc48d4c390671b04556730ed457f9e43">&#9670;&#160;</a></span>list_costs()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void list_costs </td>
          <td>(</td>
          <td class="paramtype">dbref</td>          <td class="paramname"><span class="paramname"><em>player</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>List the costs of things. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">player</td><td>DBref of player </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a6409f1135fa85877a3d7a672d0ee3469" name="a6409f1135fa85877a3d7a672d0ee3469"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6409f1135fa85877a3d7a672d0ee3469">&#9670;&#160;</a></span>list_db_stats()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void list_db_stats </td>
          <td>(</td>
          <td class="paramtype">dbref</td>          <td class="paramname"><span class="paramname"><em>player</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get useful info from the DB layer about hash stats, etc. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">player</td><td>DBref of player </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="abf82e6fecb3232a9e60fbf69438eb3fe" name="abf82e6fecb3232a9e60fbf69438eb3fe"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abf82e6fecb3232a9e60fbf69438eb3fe">&#9670;&#160;</a></span>list_df_flags()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void list_df_flags </td>
          <td>(</td>
          <td class="paramtype">dbref</td>          <td class="paramname"><span class="paramname"><em>player</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>List default flags at create time. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">player</td><td>DBref of player </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a04bffc257583bc9c1618478fd5b51d6e" name="a04bffc257583bc9c1618478fd5b51d6e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a04bffc257583bc9c1618478fd5b51d6e">&#9670;&#160;</a></span>list_hashstat()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void list_hashstat </td>
          <td>(</td>
          <td class="paramtype">dbref</td>          <td class="paramname"><span class="paramname"><em>player</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *</td>          <td class="paramname"><span class="paramname"><em>tab_name</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structhashtable.html">HASHTAB</a> *</td>          <td class="paramname"><span class="paramname"><em>htab</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Helper for listing information from an hash table. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">player</td><td>DBref of player </td></tr>
    <tr><td class="paramname">tab_name</td><td>Hash table name </td></tr>
    <tr><td class="paramname">htab</td><td>Hash table </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ac53f6275fc3dda1e16cb588144b05d0d" name="ac53f6275fc3dda1e16cb588144b05d0d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac53f6275fc3dda1e16cb588144b05d0d">&#9670;&#160;</a></span>list_hashstats()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void list_hashstats </td>
          <td>(</td>
          <td class="paramtype">dbref</td>          <td class="paramname"><span class="paramname"><em>player</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>List informations from Hash/NHash tables. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">player</td><td>DBref of player </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a67726ec13eb0c85ea98e97722cfa07c3" name="a67726ec13eb0c85ea98e97722cfa07c3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a67726ec13eb0c85ea98e97722cfa07c3">&#9670;&#160;</a></span>list_memory()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void list_memory </td>
          <td>(</td>
          <td class="paramtype">dbref</td>          <td class="paramname"><span class="paramname"><em>player</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Breaks down memory usage of the process. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">player</td><td>DBref of player </td></tr>
  </table>
  </dd>
</dl>
<p>Calculate size of object structures</p>
<p>Calculate size of mushstate and mushconf structures</p>
<p>Calculate size of object pipelines</p>
<p>Calculate size of name caches</p>
<p>Calculate size of Raw Memory allocations</p>
<p>Calculate size of command hashtable</p>
<p>Add up all the little bits in the CMDENT.</p>
<p>Calculate size of logged-out commands hashtable</p>
<p>Calculate size of functions hashtable</p>
<p>We don't count func-&gt;name because we already got it with htab-&gt;target.s</p>
<p>Calculate size of user-defined functions hashtable</p>
<p>Calculate size of flags hashtable</p>
<p>We don't count flag-&gt;flagname because we already got it with htab-&gt;target.s</p>
<p>Calculate size of powers hashtable</p>
<p>We don't count power-&gt;powername because we already got it with htab-&gt;target.s</p>
<p>Calculate size of helpfile hashtables</p>
<p>Calculate size of vattr name hashtable</p>
<p>Calculate size of attr name hashtable</p>
<p>Calculate the size of anum_table</p>
<p>After this point, we only report if it's non-zero.</p>
<p>Calculate size of object stacks</p>
<p>Calculate the size of grids</p>
<p>Calculate the size of xvars.</p>
<p>Calculate the size of overhead associated with structures.</p>
<p>Calculate the size of data associated with structures.</p>
<p>Report end total.</p>

</div>
</div>
<a id="a65f28d96558c0e10b97d8ecffeb6350b" name="a65f28d96558c0e10b97d8ecffeb6350b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a65f28d96558c0e10b97d8ecffeb6350b">&#9670;&#160;</a></span>list_nhashstat()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void list_nhashstat </td>
          <td>(</td>
          <td class="paramtype">dbref</td>          <td class="paramname"><span class="paramname"><em>player</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *</td>          <td class="paramname"><span class="paramname"><em>tab_name</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structhashtable.html">HASHTAB</a> *</td>          <td class="paramname"><span class="paramname"><em>htab</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Helper for listing information from an nhash table. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">player</td><td>DBref of player </td></tr>
    <tr><td class="paramname">tab_name</td><td>NHash table name </td></tr>
    <tr><td class="paramname">htab</td><td>NHash table </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a5b4e847bec4d08e1f7e7aee4b296b74a" name="a5b4e847bec4d08e1f7e7aee4b296b74a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5b4e847bec4d08e1f7e7aee4b296b74a">&#9670;&#160;</a></span>list_params()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void list_params </td>
          <td>(</td>
          <td class="paramtype">dbref</td>          <td class="paramname"><span class="paramname"><em>player</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>List boolean game options from mushconf. list_config: List non-boolean game options. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">player</td><td>DBref of player </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a729378f07153a76c011804c6b34926c2" name="a729378f07153a76c011804c6b34926c2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a729378f07153a76c011804c6b34926c2">&#9670;&#160;</a></span>list_process()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void list_process </td>
          <td>(</td>
          <td class="paramtype">dbref</td>          <td class="paramname"><span class="paramname"><em>player</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>List local resource usage stats of the MUSH process. Adapted from code by Claudius@PythonMUCK, posted to the net by Howard/Dark_Lord. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">player</td><td>DBref of player </td></tr>
  </table>
  </dd>
</dl>
<p>Go display everything</p>

</div>
</div>
<a id="a7738fae756acb374e7944f825d3bd7a7" name="a7738fae756acb374e7944f825d3bd7a7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7738fae756acb374e7944f825d3bd7a7">&#9670;&#160;</a></span>list_textfiles()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void list_textfiles </td>
          <td>(</td>
          <td class="paramtype">dbref</td>          <td class="paramname"><span class="paramname"><em>player</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>List textfiles. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">player</td><td>DBref of player </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ad7d03fe57eede4f2aef5cf3fbc281cfd" name="ad7d03fe57eede4f2aef5cf3fbc281cfd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad7d03fe57eede4f2aef5cf3fbc281cfd">&#9670;&#160;</a></span>list_vattrs()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void list_vattrs </td>
          <td>(</td>
          <td class="paramtype">dbref</td>          <td class="paramname"><span class="paramname"><em>player</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>List user-defined attributes. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">player</td><td>DBref of player </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a9add97e586b676c0aef7080c2ce9a9a0" name="a9add97e586b676c0aef7080c2ce9a9a0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9add97e586b676c0aef7080c2ce9a9a0">&#9670;&#160;</a></span>process_cmdent()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void process_cmdent </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structcmdentry.html">CMDENT</a> *</td>          <td class="paramname"><span class="paramname"><em>cmdp</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *</td>          <td class="paramname"><span class="paramname"><em>switchp</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">dbref</td>          <td class="paramname"><span class="paramname"><em>player</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">dbref</td>          <td class="paramname"><span class="paramname"><em>cause</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool</td>          <td class="paramname"><span class="paramname"><em>interactive</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *</td>          <td class="paramname"><span class="paramname"><em>arg</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *</td>          <td class="paramname"><span class="paramname"><em>unp_command</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *</td>          <td class="paramname"><span class="paramname"><em>cargs</em></span>[], </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>ncargs</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Perform indicated command with passed args. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">cmdp</td><td>Command </td></tr>
    <tr><td class="paramname">switchp</td><td>Switches </td></tr>
    <tr><td class="paramname">player</td><td>DBref of player doing the command </td></tr>
    <tr><td class="paramname">cause</td><td>DBref of what caused the action </td></tr>
    <tr><td class="paramname">interactive</td><td>Is the command interractive? </td></tr>
    <tr><td class="paramname">arg</td><td>Raw Arguments </td></tr>
    <tr><td class="paramname">unp_command</td><td>Raw Commands </td></tr>
    <tr><td class="paramname">cargs</td><td>Arguments </td></tr>
    <tr><td class="paramname">ncargs</td><td>Number of arguments </td></tr>
  </table>
  </dd>
</dl>
<p>Validate arguments count to prevent buffer overflow</p>
<p>Perform object type checks.</p>
<p>Check if we have permission to execute the command</p>
<p>Check global flags</p>
<p>Check command switches. Note that there may be more than one, and that we OR all of them together along with the extra value from the command table to produce the key value in the handler call.</p>
<p>At this point we're guaranteed we're going to execute something. Let's check to see if we have a pre-command hook.</p>
<p>If the command normally has interpreted args, but the user specified, /noeval, just do EV_STRIP.</p>
<p>If the command is interpreted, or we're interactive (and the command isn't specified CS_NOINTERP), eval the args.</p>
<p>The others are obvious.</p>
<p>&lt; &lt;cmd&gt; (no args)</p>
<p>&lt; &lt;cmd&gt; &lt;arg&gt;</p>
<p>If an unparsed command, just give it to the handler</p>
<p>Interpret if necessary, but not twice for CS_ADDED</p>
<p>Call the correct handler</p>
<p>Construct the matching buffer.</p>
<p>In the case of a single-letter prefix, we want to just skip past that first letter. want to just skip past that first letter. Otherwise we want to go past the first word.</p>
<p>No args</p>
<p>Now search against the attributes, unless we can't pass the uselock.</p>
<p>Skip the '$' character, and the next</p>
<p>The command the player typed didn't match any of the wildcard patterns we have for that addcommand. We should raise an error. We DO NOT go back into trying to match other stuff &ndash; this is a 'Huh?' situation.</p>
<p>Free the buffer if one was allocated</p>
<p>Interpret ARG1</p>
<p>Handle when no '=' was specified</p>
<p>Arg2 is ARGV style. Go get the args</p>
<p>Call the correct command handler</p>
<p>Free the argument buffers</p>
<p>Arg2 is normal style. Interpret if needed</p>
<p>Call the correct command handler</p>
<p>Free the buffer, if needed</p>
<p>Free the buffer obtained by evaluating Arg1</p>
<p>And now we go do the posthook, if we have one.</p>

</div>
</div>
<a id="aebdadbccadc7489769072221843250fb" name="aebdadbccadc7489769072221843250fb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aebdadbccadc7489769072221843250fb">&#9670;&#160;</a></span>process_cmdline()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void process_cmdline </td>
          <td>(</td>
          <td class="paramtype">dbref</td>          <td class="paramname"><span class="paramname"><em>player</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">dbref</td>          <td class="paramname"><span class="paramname"><em>cause</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *</td>          <td class="paramname"><span class="paramname"><em>cmdline</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *</td>          <td class="paramname"><span class="paramname"><em>args</em></span>[], </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>nargs</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="typedefs_8h.html#aee5aada2e75abf9cfff8d45524dec45c">BQUE</a> *</td>          <td class="paramname"><span class="paramname"><em>qent</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Execute a semicolon/pipe-delimited series of commands. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">player</td><td>DBref of the player </td></tr>
    <tr><td class="paramname">cause</td><td>DBref of the cause </td></tr>
    <tr><td class="paramname">cmdline</td><td>Command </td></tr>
    <tr><td class="paramname">args</td><td>Arguments </td></tr>
    <tr><td class="paramname">nargs</td><td>Number of arguments </td></tr>
    <tr><td class="paramname">qent</td><td>Command queue. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a3fb9f2ed35ae78e9877a8236e15b852b" name="a3fb9f2ed35ae78e9877a8236e15b852b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3fb9f2ed35ae78e9877a8236e15b852b">&#9670;&#160;</a></span>process_command()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char * process_command </td>
          <td>(</td>
          <td class="paramtype">dbref</td>          <td class="paramname"><span class="paramname"><em>player</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">dbref</td>          <td class="paramname"><span class="paramname"><em>cause</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>interactive</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *</td>          <td class="paramname"><span class="paramname"><em>command</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *</td>          <td class="paramname"><span class="paramname"><em>args</em></span>[], </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>nargs</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Execute a command. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">player</td><td>DBref of player doing the command </td></tr>
    <tr><td class="paramname">cause</td><td>DBref of what caused the action </td></tr>
    <tr><td class="paramname">interactive</td><td>Is the command interractive? </td></tr>
    <tr><td class="paramname">command</td><td>Command </td></tr>
    <tr><td class="paramname">args</td><td>Arguments </td></tr>
    <tr><td class="paramname">nargs</td><td>Number of arguments </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>char* </dd></dl>
<p>Robustify player</p>
<p>Make sure player isn't going or halted</p>
<p>Reset recursion and other limits. Baseline the CPU counter.</p>
<p>We have no pointer, we should have no flags.</p>
<dl class="section warning"><dt>Warning</dt><dd>NOTE THAT THIS WILL BREAK IF "GOD" IS NOT A DBREF.</dd></dl>
<p>Eat leading whitespace, and space-compress if configured</p>
<p>Allow modules to intercept command strings.</p>
<p>Now comes the fun stuff. First check for single-letter leadins. We check these before checking HOME because they are among the most frequently executed commands, and they can never be the HOME command.</p>
<p>Check for the HOME command. You cannot do hooks on this because home is not part of the traditional command table.</p>
<p>Only check for exits if we may use the goto command</p>
<p>Check for an exit name</p>
<p>Exits literally call the 'move' command. Note that, later, when we go to matching master-room and other global-ish exits, that we also need to have move_match_more set to 'yes', or we'll match here only to encounter dead silence when we try to find the exit inside the move routine. We also need to directly find what the pointer for the move (goto) command is, since we could have @addcommand'd it (and probably did, if this conf option is on). Finally, we've got to make this look like we really did type 'goto &lt;exit&gt;', or the @addcommand will just skip over the string.</p>
<p>Execute the pre-hook for the goto command</p>
<p>Execute the post-hook for the goto command</p>
<p>Check for an exit in the master room</p>
<p>Set up a lowercase command and an arg pointer for the hashed command check. Since some types of argument processing destroy the arguments, make a copy so that we keep the original command line intact. Store the edible copy in lcbuf after the lowercased command.</p>
<p>Removed copy of the rest of the command, since it's ok to allow it to be trashed. -dcm</p>
<p>Check for a builtin command (or an alias of a builtin command)</p>
<p>We handle this specially &ndash; there is no space compression involved, so we must go back to the preserved command.</p>
<p>Check for enter and leave aliases, user-defined commands on the player, other objects where the player is, on objects in the player's inventory, and on the room that holds the player. We evaluate the command line here to allow chains of $-commands to work.</p>
<p>Idea for enter/leave aliases from R'nice@TinyTIM</p>
<p>Check for a leave alias, if we have permissions to use the 'leave' command.</p>
<p>Check for enter aliases, if we have permissions to use the 'enter' command.</p>
<p>At each of the following stages, we check to make sure that we haven't hit a match on a STOP-set object.</p>
<p>Check for $-command matches on me</p>
<p>Check for $-command matches on nearby things and on my room</p>
<p>Check for $-command matches in my inventory</p>
<p>If we didn't find anything, and we're checking local masters, do those checks. Do it for the zone of the player's location first, and then, if nothing is found, on the player's personal zone. Walking back through the parent tree stops when a match is found. Also note that these matches are done in the style of the master room: parents of the contents of the rooms aren't checked for commands. We try to maintain 2.2/MUX compatibility here, putting both sets of checks together.</p>
<p>2.2 style location</p>
<p>MUX style location</p>
<p>zone of player's location is a parent room</p>
<p>check parent room exits</p>
<p>try matching commands on area zone object</p>
<p>2.2 style player</p>
<p>MUX style player</p>
<p>if nothing matched with parent room/zone object, try matching zone commands on the player's personal zone</p>
<p>If we didn't find anything, try in the master room</p>
<p>Allow modules to intercept, if still no match. This time we pass both the lower-cased evaluated buffer and the preserved command.</p>
<p>If we still didn't find anything, tell how to get help.</p>

</div>
</div>
<a id="a45d043f5840301c68359f99ea562958d" name="a45d043f5840301c68359f99ea562958d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a45d043f5840301c68359f99ea562958d">&#9670;&#160;</a></span>process_hook()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void process_hook </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structhookentry.html">HOOKENT</a> *</td>          <td class="paramname"><span class="paramname"><em>hp</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>save_globs</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">dbref</td>          <td class="paramname"><span class="paramname"><em>player</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">dbref cause </td>          <td class="paramname"><span class="paramname"><em>__attribute__</em></span>(unused), </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *</td>          <td class="paramname"><span class="paramname"><em>cargs</em></span>[], </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>ncargs</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Evaluate a hook. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">hp</td><td>Hook Entry </td></tr>
    <tr><td class="paramname">save_globs</td><td>Save globals? </td></tr>
    <tr><td class="paramname">player</td><td>Player being evaluated </td></tr>
    <tr><td class="paramname">cause</td><td>Cause of the evaluation </td></tr>
    <tr><td class="paramname">cargs</td><td>Command arguments </td></tr>
    <tr><td class="paramname">ncargs</td><td>Number of arguments </td></tr>
  </table>
  </dd>
</dl>
<p>We know we have a non-null hook. We want to evaluate the obj/attr pair of that hook. We consider the enactor to be the player who executed the command that caused this hook to be called.</p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.12.0
</small></address>
</div><!-- doc-content -->
</body>
</html>
