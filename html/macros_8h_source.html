<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>TinyMUSH: src/macros.h Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">TinyMUSH
   &#160;<span id="projectnumber">3.3</span>
   </div>
   <div id="projectbrief">TinyMUSH Server</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">macros.h</div>  </div>
</div><!--header-->
<div class="contents">
<a href="macros_8h.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160; </div>
<div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="preprocessor">#ifndef __MACROS_H</span></div>
<div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="preprocessor">#define __MACROS_H</span></div>
<div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160; </div>
<div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;<span class="comment">// Allocation Functions</span></div>
<div class="line"><a name="l00023"></a><span class="lineno"><a class="line" href="macros_8h.html#a1f2dc397904297d0a9ba598093b19976">   23</a></span>&#160;<span class="preprocessor">#define XMALLOC(s, v) __xmalloc(s, __FILE__, __LINE__, __func__, v)</span></div>
<div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;<span class="preprocessor">#define XNMALLOC(s) __xmalloc(s, NULL, 0, NULL, NULL)</span></div>
<div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;<span class="preprocessor">#define XCALLOC(n, s, v) __xcalloc(n, s, __FILE__, __LINE__, __func__, v)</span></div>
<div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;<span class="preprocessor">#define XNCALLOC(n, s) __xcalloc(n, s, NULL, 0, NULL, NULL)</span></div>
<div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;<span class="preprocessor">#define XREALLOC(p, s, v) __xrealloc((void *)(p), s, __FILE__, __LINE__, __func__, v)</span></div>
<div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;<span class="preprocessor">#define XNREALLOC(p, s) __xrealloc((void *)(p), s, NULL, 0, NULL, NULL)</span></div>
<div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;<span class="preprocessor">#define XFREE(p) __xfree((void *)(p))</span></div>
<div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;<span class="preprocessor">#define XHEADER(p) (MEMTRACK *)((char *)(p) - sizeof(MEMTRACK));</span></div>
<div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160; </div>
<div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;<span class="comment">// String Functions</span></div>
<div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;<span class="preprocessor">#define XASPRINTF(v, f, ...) __xasprintf(__FILE__, __LINE__, __func__, v, (const char *)(f), ##__VA_ARGS__)</span></div>
<div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;<span class="preprocessor">#define XAVSPRINTF(v, f, a) __xavsprintf(__FILE__, __LINE__, __func__, v, (const char *)(f), a)</span></div>
<div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;<span class="preprocessor">#define XNASPRINTF(f, ...) __xasprintf(NULL, 0, NULL, NULL, (const char *)(f), ##__VA_ARGS__);</span></div>
<div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;<span class="preprocessor">#define XSPRINTF(s, f, ...) __xsprintf((char *)(s), (const char *)(f), ##__VA_ARGS__)</span></div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;<span class="preprocessor">#define XSPRINTFCAT(s, f, ...) __xsprintfcat((char *)(s), (const char *)(f), ##__VA_ARGS__)</span></div>
<div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;<span class="preprocessor">#define XVSPRINTF(s, f, a) __xvsprintf((char *)(s), (const char *)(f), a)</span></div>
<div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;<span class="preprocessor">#define XSNPRINTF(s, n, f, ...) __xsnprintf((char *)(s), n, (const char *)(f), ##__VA_ARGS__)</span></div>
<div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;<span class="preprocessor">#define XVSNPRINTF(s, n, f, a) __xvsnprintf((char *)(s), n, (const char *)(f), a)</span></div>
<div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;<span class="preprocessor">#define XSTRDUP(s, v) __xstrdup((const char *)(s), __FILE__, __LINE__, __func__, v)</span></div>
<div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;<span class="preprocessor">#define XNSTRDUP(s) __xstrdup((const char *)(s), NULL, 0, NULL, NULL)</span></div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;<span class="preprocessor">#define XSTRCAT(d, s) __xstrcat((char *)(d), (const char *)(s))</span></div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;<span class="preprocessor">#define XSTRNCAT(d, s, n) __xstrncat((char *)(d), (const char *)(s), n)</span></div>
<div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;<span class="preprocessor">#define XSTRCCAT(d, c) __xstrccat((char *)(d), (const char)(c))</span></div>
<div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;<span class="preprocessor">#define XSTRNCCAT(d, c, n) __xstrnccat((char *)(d), (const char)(c), n)</span></div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;<span class="preprocessor">#define XSTRCPY(d, s) __xstrcpy((char *)(d), (const char *)(s))</span></div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;<span class="preprocessor">#define XSTRNCPY(d, s, n) __xstrncpy((char *)(d), (const char *)(s), n)</span></div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;<span class="preprocessor">#define XMEMMOVE(d, s, n) __xmemmove((void *)(d), (void *)(s), n)</span></div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;<span class="preprocessor">#define XMEMCPY(d, s, n) __xmemmove((void *)(d), (void *)(s), n)</span></div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;<span class="preprocessor">#define XMEMSET(s, c, n) __xmemset((void *)(s), c, n)</span></div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160; </div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;<span class="comment">// Replacement for the safe_* functions.</span></div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;<span class="preprocessor">#define SAFE_SPRINTF(s, p, f, ...) __xsafesprintf(s, p, f, ##__VA_ARGS__);</span></div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160; </div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;<span class="preprocessor">#define SAFE_COPY_CHR(c, b, p, s) __xsafestrcatchr(b, p, c, s)</span></div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;<span class="preprocessor">#define SAFE_STRCATCHR(b, p, c, s) __xsafestrcatchr(b, p, c, s)</span></div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160; </div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;<span class="preprocessor">#define SAFE_LB_CHR(c, b, p) __xsafestrcatchr(b, p, c, LBUF_SIZE - 1)</span></div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;<span class="preprocessor">#define SAFE_SB_CHR(c, b, p) __xsafestrcatchr(b, p, c, SBUF_SIZE - 1)</span></div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;<span class="preprocessor">#define SAFE_MB_CHR(c, b, p) __xsafestrcatchr(b, p, c, MBUF_SIZE - 1)</span></div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160; </div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;<span class="preprocessor">#define SAFE_STRNCAT(b, p, s, n, z) __xsafestrncat(b, p, s, n, z);</span></div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;<span class="preprocessor">#define SAFE_STRCAT(b, p, s, n) (s ? __xsafestrncat(b, p, s, strlen(s), n) : 0)</span></div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160; </div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;<span class="preprocessor">#define SAFE_LB_STR(s, b, p) (s ? __xsafestrncpy(b, p, s, strlen(s), LBUF_SIZE - 1) : 0)</span></div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;<span class="preprocessor">#define SAFE_SB_STR(s, b, p) (s ? __xsafestrncpy(b, p, s, strlen(s), SBUF_SIZE - 1) : 0)</span></div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;<span class="preprocessor">#define SAFE_MB_STR(s, b, p) (s ? __xsafestrncpy(b, p, s, strlen(s), MBUF_SIZE - 1) : 0)</span></div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160; </div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;<span class="preprocessor">#define SAFE_CRLF(b, p) SAFE_STRCAT(b, p, &quot;\r\n&quot;</span>, LBUF_SIZE - 1)</div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;<span class="preprocessor">#define SAFE_ANSI_NORMAL(b, p) SAFE_STRCAT(b, p, ANSI_NORMAL, LBUF_SIZE - 1)</span></div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;<span class="preprocessor">#define SAFE_NOTHING(b, p) SAFE_STRCAT(b, p, &quot;#-1&quot;</span>, LBUF_SIZE - 1)</div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;<span class="preprocessor">#define SAFE_NOPERM(b, p) SAFE_STRCAT(b, p, &quot;#-1 PERMISSION DENIED&quot;</span>, LBUF_SIZE - 1)</div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;<span class="preprocessor">#define SAFE_NOMATCH(b, p) SAFE_STRCAT(b, p, &quot;#-1 NO MATCH&quot;</span>, LBUF_SIZE - 1)</div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;<span class="preprocessor">#define SAFE_BOOL(b, p, n) SAFE_LB_CHR(((n) ? &#39;1&#39; : &#39;0&#39;), (b), (p))</span></div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160; </div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;<span class="preprocessor">#define SAFE_LTOS(d, p, n, s) __xsafeltos(d, p, n, s)</span></div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160; </div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;<span class="comment">// Misc Macros</span></div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;<span class="preprocessor">#define XGETSIZE(p) (((char *)__xfind(p)-&gt;magic - p) - sizeof(char))</span></div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;<span class="preprocessor">#define XCALSIZE(s, d, p) ((s - ((*p) - d)))</span></div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;<span class="preprocessor">#define XLTOS(n) __xasprintf(__FILE__, __LINE__, __func__, &quot;XLTOS&quot;</span>, &quot;%ld&quot;, n)</div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160; </div>
<div class="line"><a name="l00093"></a><span class="lineno"><a class="line" href="macros_8h.html#af7d875c08f1b58ba1e5dd9fed5304c20">   93</a></span>&#160;<span class="preprocessor">#define ATRNUM_BLOCK_SIZE (int)((mushstate.db_block_size - 32) / (2 * sizeof(int) + VNAME_SIZE))</span></div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;<span class="preprocessor">#define ATRNUM_BLOCK_BYTES (int)((ATRNUM_BLOCK_SIZE) * (2 * sizeof(int) + VNAME_SIZE))</span></div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;<span class="preprocessor">#define OBJECT_BLOCK_SIZE (int)((mushstate.db_block_size - 32) / (sizeof(int) + sizeof(DUMPOBJ)))</span></div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;<span class="preprocessor">#define OBJECT_BLOCK_BYTES (int)((OBJECT_BLOCK_SIZE) * (sizeof(int) + sizeof(DUMPOBJ)))</span></div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;<span class="preprocessor">#define ENTRY_NUM_BLOCKS(total, blksize) (int)(total / blksize)</span></div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;<span class="preprocessor">#define ENTRY_BLOCK_STARTS(blk, blksize) (int)(blk * blksize)</span></div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;<span class="preprocessor">#define ENTRY_BLOCK_ENDS(blk, blksize) (int)(blk * blksize) + (blksize - 1)</span></div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160; </div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;<span class="preprocessor">#define Hasprivs(x) (Royalty(x) || Wizard(x))</span></div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160; </div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;<span class="preprocessor">#define anum_get(x) (anum_table[(x)])</span></div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;<span class="preprocessor">#define anum_set(x, v) anum_table[(x)] = v</span></div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160; </div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;<span class="preprocessor">#define TRUE_BOOLEXP ((BOOLEXP *)NULL)</span></div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160; </div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;<span class="preprocessor">#define Location(t) db[t].location</span></div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;<span class="preprocessor">#define Zone(t) db[t].zone</span></div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;<span class="preprocessor">#define Contents(t) db[t].contents</span></div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;<span class="preprocessor">#define Exits(t) db[t].exits</span></div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;<span class="preprocessor">#define Next(t) db[t].next</span></div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;<span class="preprocessor">#define Link(t) db[t].link</span></div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;<span class="preprocessor">#define Owner(t) db[t].owner</span></div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;<span class="preprocessor">#define Parent(t) db[t].parent</span></div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;<span class="preprocessor">#define Flags(t) db[t].flags</span></div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;<span class="preprocessor">#define Flags2(t) db[t].flags2</span></div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;<span class="preprocessor">#define Flags3(t) db[t].flags3</span></div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;<span class="preprocessor">#define Powers(t) db[t].powers</span></div>
<div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;<span class="preprocessor">#define Powers2(t) db[t].powers2</span></div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;<span class="preprocessor">#define NameLen(t) db[t].name_length</span></div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;<span class="preprocessor">#define Home(t) db[t].link</span></div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;<span class="preprocessor">#define Dropto(t) db[t].location</span></div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;<span class="preprocessor">#define AccessTime(t) db[t].last_access</span></div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;<span class="preprocessor">#define ModTime(t) db[t].last_mod</span></div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;<span class="preprocessor">#define CreateTime(t) db[t].create_time</span></div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;<span class="preprocessor">#define VarsCount(t) db[t].vars_count</span></div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;<span class="preprocessor">#define StackCount(t) db[t].stack_count</span></div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;<span class="preprocessor">#define StructCount(t) db[t].struct_count</span></div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;<span class="preprocessor">#define InstanceCount(t) db[t].instance_count</span></div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;<span class="preprocessor">#define Time_Used(t) db[t].cpu_time_used</span></div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160; </div>
<div class="line"><a name="l00138"></a><span class="lineno"><a class="line" href="macros_8h.html#a750c9742a07088956043790c5d49a889">  138</a></span>&#160;<span class="preprocessor">#define s_Location(t, n)  \</span></div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;<span class="preprocessor">    db[t].location = (n); \</span></div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;<span class="preprocessor">    db[t].flags3 |= DIRTY</span></div>
<div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;<span class="preprocessor">#define s_Zone(t, n)  \</span></div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;<span class="preprocessor">    db[t].zone = (n); \</span></div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;<span class="preprocessor">    db[t].flags3 |= DIRTY</span></div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;<span class="preprocessor">#define s_Contents(t, n)  \</span></div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;<span class="preprocessor">    db[t].contents = (n); \</span></div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;<span class="preprocessor">    db[t].flags3 |= DIRTY</span></div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;<span class="preprocessor">#define s_Exits(t, n)  \</span></div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;<span class="preprocessor">    db[t].exits = (n); \</span></div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;<span class="preprocessor">    db[t].flags3 |= DIRTY</span></div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;<span class="preprocessor">#define s_Next(t, n)  \</span></div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;<span class="preprocessor">    db[t].next = (n); \</span></div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;<span class="preprocessor">    db[t].flags3 |= DIRTY</span></div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;<span class="preprocessor">#define s_Link(t, n)  \</span></div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;<span class="preprocessor">    db[t].link = (n); \</span></div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;<span class="preprocessor">    db[t].flags3 |= DIRTY</span></div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;<span class="preprocessor">#define s_Owner(t, n)  \</span></div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;<span class="preprocessor">    db[t].owner = (n); \</span></div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;<span class="preprocessor">    db[t].flags3 |= DIRTY</span></div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;<span class="preprocessor">#define s_Parent(t, n)  \</span></div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;<span class="preprocessor">    db[t].parent = (n); \</span></div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;<span class="preprocessor">    db[t].flags3 |= DIRTY</span></div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;<span class="preprocessor">#define s_Flags(t, n)  \</span></div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;<span class="preprocessor">    db[t].flags = (n); \</span></div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;<span class="preprocessor">    db[t].flags3 |= DIRTY</span></div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;<span class="preprocessor">#define s_Flags2(t, n)  \</span></div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;<span class="preprocessor">    db[t].flags2 = (n); \</span></div>
<div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;<span class="preprocessor">    db[t].flags3 |= DIRTY</span></div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;<span class="preprocessor">#define s_Flags3(t, n)  \</span></div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;<span class="preprocessor">    db[t].flags3 = (n); \</span></div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;<span class="preprocessor">    db[t].flags3 |= DIRTY</span></div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;<span class="preprocessor">#define s_Powers(t, n)  \</span></div>
<div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;<span class="preprocessor">    db[t].powers = (n); \</span></div>
<div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;<span class="preprocessor">    db[t].flags3 |= DIRTY</span></div>
<div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;<span class="preprocessor">#define s_Powers2(t, n)  \</span></div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;<span class="preprocessor">    db[t].powers2 = (n); \</span></div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;<span class="preprocessor">    db[t].flags3 |= DIRTY</span></div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;<span class="preprocessor">#define s_AccessTime(t, n)   \</span></div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;<span class="preprocessor">    db[t].last_access = (n); \</span></div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;<span class="preprocessor">    db[t].flags3 |= DIRTY</span></div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;<span class="preprocessor">#define s_ModTime(t, n)   \</span></div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;<span class="preprocessor">    db[t].last_mod = (n); \</span></div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;<span class="preprocessor">    db[t].flags3 |= DIRTY</span></div>
<div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;<span class="preprocessor">#define s_CreateTime(t, n)   \</span></div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;<span class="preprocessor">    db[t].create_time = (n); \</span></div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;<span class="preprocessor">    db[t].flags3 |= DIRTY</span></div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;<span class="preprocessor">#define s_Accessed(t)                 \</span></div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;<span class="preprocessor">    db[t].last_access = mushstate.now; \</span></div>
<div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;<span class="preprocessor">    db[t].flags3 |= DIRTY</span></div>
<div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;<span class="preprocessor">#define s_Modified(t)              \</span></div>
<div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;<span class="preprocessor">    db[t].last_mod = mushstate.now; \</span></div>
<div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;<span class="preprocessor">    db[t].flags3 |= DIRTY</span></div>
<div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;<span class="preprocessor">#define s_Created(t)                  \</span></div>
<div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;<span class="preprocessor">    db[t].create_time = mushstate.now; \</span></div>
<div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;<span class="preprocessor">    db[t].flags3 |= DIRTY</span></div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160; </div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;<span class="preprocessor">#define s_Clean(t) db[t].flags3 = db[t].flags3 &amp; ~DIRTY</span></div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;<span class="preprocessor">#define s_NameLen(t, n) db[t].name_length = (n)</span></div>
<div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;<span class="preprocessor">#define s_Home(t, n) s_Link(t, n)</span></div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;<span class="preprocessor">#define s_Dropto(t, n) s_Location(t, n)</span></div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;<span class="preprocessor">#define s_VarsCount(t, n) db[t].vars_count = n;</span></div>
<div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;<span class="preprocessor">#define s_StackCount(t, n) db[t].stack_count = n;</span></div>
<div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;<span class="preprocessor">#define s_StructCount(t, n) db[t].struct_count = n;</span></div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;<span class="preprocessor">#define s_InstanceCount(t, n) db[t].instance_count = n;</span></div>
<div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160; </div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;<span class="preprocessor">#define Dropper(thing) (Connected(Owner(thing)) &amp;&amp; Hearer(thing))</span></div>
<div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160; </div>
<div class="line"><a name="l00211"></a><span class="lineno"><a class="line" href="macros_8h.html#a457a4d73f64b1677063e019e95f90b35">  211</a></span>&#160;<span class="preprocessor">#define OBJ_HEADER_SIZE (sizeof(unsigned int) + sizeof(int))</span></div>
<div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;<span class="preprocessor">#define ATTR_HEADER_SIZE (sizeof(int) * 2)</span></div>
<div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160; </div>
<div class="line"><a name="l00218"></a><span class="lineno"><a class="line" href="macros_8h.html#a49aeae0a70b01e87c302cc6d93be7825">  218</a></span>&#160;<span class="preprocessor">#define MSG_ME_ALL (MSG_ME | MSG_INV_EXITS | MSG_FWDLIST)</span></div>
<div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;<span class="preprocessor">#define MSG_F_CONTENTS (MSG_INV)</span></div>
<div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;<span class="preprocessor">#define MSG_F_UP (MSG_NBR_A | MSG_LOC_A)</span></div>
<div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;<span class="preprocessor">#define MSG_F_DOWN (MSG_INV_L)</span></div>
<div class="line"><a name="l00226"></a><span class="lineno"><a class="line" href="macros_8h.html#adba1624513b5ccddfc8bc0831f9cbf45">  226</a></span>&#160;<span class="preprocessor">#define log_write(i, p, s, f, ...) _log_write(__FILE__, __LINE__, i, p, s, f, ##__VA_ARGS__)</span></div>
<div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;<span class="preprocessor">#define log_perror(p, s, e, o) _log_perror(__FILE__, __LINE__, p, s, e, o)</span></div>
<div class="line"><a name="l00232"></a><span class="lineno"><a class="line" href="macros_8h.html#abe044d79896c3d56e758f742f4765f61">  232</a></span>&#160;<span class="preprocessor">#define notify(p, m, ...) notify_check(p, p, MSG_PUP_ALWAYS | MSG_ME_ALL | MSG_F_DOWN, NULL, m, ##__VA_ARGS__)</span></div>
<div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;<span class="preprocessor">#define notify_html(p, m, ...) notify_check(p, p, MSG_PUP_ALWAYS | MSG_ME_ALL | MSG_F_DOWN | MSG_HTML, NULL, m, ##__VA_ARGS__)</span></div>
<div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;<span class="preprocessor">#define notify_quiet(p, m, ...) notify_check(p, p, MSG_PUP_ALWAYS | MSG_ME, NULL, m, ##__VA_ARGS__)</span></div>
<div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;<span class="preprocessor">#define notify_with_cause(p, c, m, ...) notify_check(p, c, MSG_PUP_ALWAYS | MSG_ME_ALL | MSG_F_DOWN, NULL, m, ##__VA_ARGS__)</span></div>
<div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;<span class="preprocessor">#define notify_with_cause_html(p, c, m, ...) notify_check(p, c, MSG_PUP_ALWAYS | MSG_ME_ALL | MSG_F_DOWN | MSG_HTML, NULL, m, ##__VA_ARGS__)</span></div>
<div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;<span class="preprocessor">#define notify_with_cause_extra(p, c, m, f, ...) notify_check(p, c, MSG_PUP_ALWAYS | MSG_ME_ALL | MSG_F_DOWN | (f), NULL, m, ##__VA_ARGS__)</span></div>
<div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;<span class="preprocessor">#define notify_quiet_with_cause(p, c, m, ...) notify_check(p, c, MSG_PUP_ALWAYS | MSG_ME, NULL, m, ##__VA_ARGS__)</span></div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;<span class="preprocessor">#define notify_puppet(p, c, m, ...) notify_check(p, c, MSG_ME_ALL | MSG_F_DOWN, NULL, m, ##__VA_ARGS__)</span></div>
<div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;<span class="preprocessor">#define notify_quiet_puppet(p, c, m, ...) notify_check(p, c, MSG_ME, NULL, m, ##__VA_ARGS__)</span></div>
<div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;<span class="preprocessor">#define notify_all(p, c, m, ...) notify_check(p, c, MSG_ME_ALL | MSG_NBR_EXITS | MSG_F_UP | MSG_F_CONTENTS, NULL, m, ##__VA_ARGS__)</span></div>
<div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;<span class="preprocessor">#define notify_all_from_inside(p, c, m, ...) notify_check(p, c, MSG_ME_ALL | MSG_NBR_EXITS_A | MSG_F_UP | MSG_F_CONTENTS | MSG_S_INSIDE, NULL, m, ##__VA_ARGS__)</span></div>
<div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;<span class="preprocessor">#define notify_all_from_inside_speech(p, c, m, ...) notify_check(p, c, MSG_ME_ALL | MSG_NBR_EXITS_A | MSG_F_UP | MSG_F_CONTENTS | MSG_S_INSIDE | MSG_SPEECH, NULL, m, ##__VA_ARGS__)</span></div>
<div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;<span class="preprocessor">#define notify_all_from_inside_move(p, c, m, ...) notify_check(p, c, MSG_ME_ALL | MSG_NBR_EXITS_A | MSG_F_UP | MSG_F_CONTENTS | MSG_S_INSIDE | MSG_MOVE, NULL, m, ##__VA_ARGS__)</span></div>
<div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;<span class="preprocessor">#define notify_all_from_inside_html(p, c, m, ...) notify_check(p, c, MSG_ME_ALL | MSG_NBR_EXITS_A | MSG_F_UP | MSG_F_CONTENTS | MSG_S_INSIDE | MSG_HTML, NULL, m, ##__VA_ARGS__)</span></div>
<div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;<span class="preprocessor">#define notify_all_from_inside_html_speech(p, c, m, ...) notify_check(p, c, MSG_ME_ALL | MSG_NBR_EXITS_A | MSG_F_UP | MSG_F_CONTENTS | MSG_S_INSIDE | MSG_HTML | MSG_SPEECH, NULL, m, ##__VA_ARGS__)</span></div>
<div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;<span class="preprocessor">#define notify_all_from_outside(p, c, m, ...) notify_check(p, c, MSG_ME_ALL | MSG_NBR_EXITS | MSG_F_UP | MSG_F_CONTENTS | MSG_S_OUTSIDE, NULL, m, ##__VA_ARGS__)</span></div>
<div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;<span class="comment">//#define Randomize(n) (random_range(0, (n)-1))</span></div>
<div class="line"><a name="l00253"></a><span class="lineno"><a class="line" href="macros_8h.html#a84c28f3280173bc5457089f1246cbcb7">  253</a></span>&#160;<span class="preprocessor">#define Protect(f) (cmdp-&gt;perms &amp; f)</span></div>
<div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;<span class="preprocessor">#define Invalid_Objtype(x) ((Protect(CA_LOCATION) &amp;&amp; !Has_location(x)) || (Protect(CA_CONTENTS) &amp;&amp; !Has_contents(x)) || (Protect(CA_PLAYER) &amp;&amp; (Typeof(x) != TYPE_PLAYER)))</span></div>
<div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;<span class="preprocessor">#define test_top() ((mushstate.qfirst != NULL) ? 1 : 0)</span></div>
<div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;<span class="preprocessor">#define controls(p, x) Controls(p, x)</span></div>
<div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160; </div>
<div class="line"><a name="l00263"></a><span class="lineno"><a class="line" href="macros_8h.html#a184c03f515a6a03f9e9b77b08cd1bce8">  263</a></span>&#160;<span class="preprocessor">#define GOD ((dbref)1)</span></div>
<div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160; </div>
<div class="line"><a name="l00324"></a><span class="lineno"><a class="line" href="macros_8h.html#a5a9125b3554caafd40bac9fe4b4ee1a3">  324</a></span>&#160;<span class="preprocessor">#define IS(thing, type, flag) ((Typeof(thing) == (type)) &amp;&amp; (Flags(thing) &amp; (flag)))</span></div>
<div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;<span class="preprocessor">#define Typeof(x) (Flags(x) &amp; TYPE_MASK)</span></div>
<div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;<span class="preprocessor">#define God(x) ((x) == GOD)</span></div>
<div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;<span class="preprocessor">#define Robot(x) (isPlayer(x) &amp;&amp; ((Flags(x) &amp; ROBOT) != 0))</span></div>
<div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;<span class="preprocessor">#define Alive(x) (isPlayer(x) || (Puppet(x) &amp;&amp; Has_contents(x)))</span></div>
<div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;<span class="preprocessor">#define OwnsOthers(x) ((object_types[Typeof(x)].flags &amp; OF_OWNER) != 0)</span></div>
<div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;<span class="preprocessor">#define Has_location(x) ((object_types[Typeof(x)].flags &amp; OF_LOCATION) != 0)</span></div>
<div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;<span class="preprocessor">#define Has_contents(x) ((object_types[Typeof(x)].flags &amp; OF_CONTENTS) != 0)</span></div>
<div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;<span class="preprocessor">#define Has_exits(x) ((object_types[Typeof(x)].flags &amp; OF_EXITS) != 0)</span></div>
<div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;<span class="preprocessor">#define Has_siblings(x) ((object_types[Typeof(x)].flags &amp; OF_SIBLINGS) != 0)</span></div>
<div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;<span class="preprocessor">#define Has_home(x) ((object_types[Typeof(x)].flags &amp; OF_HOME) != 0)</span></div>
<div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;<span class="preprocessor">#define Has_dropto(x) ((object_types[Typeof(x)].flags &amp; OF_DROPTO) != 0)</span></div>
<div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;<span class="preprocessor">#define Home_ok(x) ((object_types[Typeof(x)].flags &amp; OF_HOME) != 0)</span></div>
<div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;<span class="preprocessor">#define isPlayer(x) (Typeof(x) == TYPE_PLAYER)</span></div>
<div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;<span class="preprocessor">#define isRoom(x) (Typeof(x) == TYPE_ROOM)</span></div>
<div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;<span class="preprocessor">#define isExit(x) (Typeof(x) == TYPE_EXIT)</span></div>
<div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;<span class="preprocessor">#define isThing(x) (Typeof(x) == TYPE_THING)</span></div>
<div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;<span class="preprocessor">#define isGarbage(x) (Typeof(x) == TYPE_GARBAGE)</span></div>
<div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160; </div>
<div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;<span class="preprocessor">#define Good_dbref(x) (((x) &gt;= 0) &amp;&amp; ((x) &lt; mushstate.db_top))</span></div>
<div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;<span class="preprocessor">#define Good_obj(x) (Good_dbref(x) &amp;&amp; (Typeof(x) &lt; GOODTYPE))</span></div>
<div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;<span class="preprocessor">#define Good_owner(x) (Good_obj(x) &amp;&amp; OwnsOthers(x))</span></div>
<div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;<span class="preprocessor">#define Good_home(x) (Good_obj(x) &amp;&amp; Home_ok(x))</span></div>
<div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;<span class="preprocessor">#define Good_loc(x) (Good_obj(x) &amp;&amp; Has_contents(x))</span></div>
<div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160; </div>
<div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;<span class="preprocessor">#define Royalty(x) ((Flags(x) &amp; ROYALTY) != 0)</span></div>
<div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;<span class="preprocessor">#define WizRoy(x) (Royalty(x) || Wizard(x))</span></div>
<div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;<span class="preprocessor">#define Staff(x) ((Flags2(x) &amp; STAFF) != 0)</span></div>
<div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;<span class="preprocessor">#define Head(x) ((Flags2(x) &amp; HEAD_FLAG) != 0)</span></div>
<div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;<span class="preprocessor">#define Fixed(x) ((Flags2(x) &amp; FIXED) != 0)</span></div>
<div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;<span class="preprocessor">#define Uninspected(x) ((Flags2(x) &amp; UNINSPECTED) != 0)</span></div>
<div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;<span class="preprocessor">#define Ansi(x) ((Flags2(x) &amp; ANSI) != 0)</span></div>
<div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;<span class="preprocessor">#define Color256(x) ((Flags3(x) &amp; COLOR256) != 0)</span></div>
<div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;<span class="preprocessor">#define NoBleed(x) ((Flags2(x) &amp; NOBLEED) != 0)</span></div>
<div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160; </div>
<div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;<span class="preprocessor">#define Transparent(x) ((Flags(x) &amp; SEETHRU) != 0)</span></div>
<div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;<span class="preprocessor">#define Link_ok(x) (((Flags(x) &amp; LINK_OK) != 0) &amp;&amp; Has_contents(x))</span></div>
<div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;<span class="preprocessor">#define Wizard(x) ((Flags(x) &amp; WIZARD) || ((Flags(Owner(x)) &amp; WIZARD) &amp;&amp; Inherits(x)))</span></div>
<div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;<span class="preprocessor">#define Dark(x) (((Flags(x) &amp; DARK) != 0) &amp;&amp; (!Alive(x) || (Wizard(x) &amp;&amp; !mushconf.visible_wizzes) || Can_Cloak(x)))</span></div>
<div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;<span class="preprocessor">#define DarkMover(x) ((Wizard(x) || Can_Cloak(x)) &amp;&amp; Dark(x))</span></div>
<div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;<span class="preprocessor">#define Jump_ok(x) (((Flags(x) &amp; JUMP_OK) != 0) &amp;&amp; Has_contents(x))</span></div>
<div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;<span class="preprocessor">#define Sticky(x) ((Flags(x) &amp; STICKY) != 0)</span></div>
<div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;<span class="preprocessor">#define Destroy_ok(x) ((Flags(x) &amp; DESTROY_OK) != 0)</span></div>
<div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;<span class="preprocessor">#define Haven(x) ((Flags(x) &amp; HAVEN) != 0)</span></div>
<div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;<span class="preprocessor">#define Player_haven(x) ((Flags(Owner(x)) &amp; HAVEN) != 0)</span></div>
<div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;<span class="preprocessor">#define Quiet(x) ((Flags(x) &amp; QUIET) != 0)</span></div>
<div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;<span class="preprocessor">#define Halted(x) ((Flags(x) &amp; HALT) != 0)</span></div>
<div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;<span class="preprocessor">#define Trace(x) ((Flags(x) &amp; TRACE) != 0)</span></div>
<div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;<span class="preprocessor">#define Going(x) ((Flags(x) &amp; GOING) != 0)</span></div>
<div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;<span class="preprocessor">#define Monitor(x) ((Flags(x) &amp; MONITOR) != 0)</span></div>
<div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;<span class="preprocessor">#define Myopic(x) ((Flags(x) &amp; MYOPIC) != 0)</span></div>
<div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;<span class="preprocessor">#define Puppet(x) ((Flags(x) &amp; PUPPET) != 0)</span></div>
<div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;<span class="preprocessor">#define Chown_ok(x) ((Flags(x) &amp; CHOWN_OK) != 0)</span></div>
<div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;<span class="preprocessor">#define Enter_ok(x) (((Flags(x) &amp; ENTER_OK) != 0) &amp;&amp; Has_location(x) &amp;&amp; Has_contents(x))</span></div>
<div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;<span class="preprocessor">#define Visual(x) ((Flags(x) &amp; VISUAL) != 0)</span></div>
<div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;<span class="preprocessor">#define Immortal(x) ((Flags(x) &amp; IMMORTAL) || ((Flags(Owner(x)) &amp; IMMORTAL) &amp;&amp; Inherits(x)))</span></div>
<div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;<span class="preprocessor">#define Opaque(x) ((Flags(x) &amp; OPAQUE) != 0)</span></div>
<div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;<span class="preprocessor">#define Verbose(x) ((Flags(x) &amp; VERBOSE) != 0)</span></div>
<div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;<span class="preprocessor">#define Inherits(x) (((Flags(x) &amp; INHERIT) != 0) || ((Flags(Owner(x)) &amp; INHERIT) != 0) || ((x) == Owner(x)))</span></div>
<div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;<span class="preprocessor">#define Nospoof(x) ((Flags(x) &amp; NOSPOOF) != 0)</span></div>
<div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;<span class="preprocessor">#define Safe(x, p) (OwnsOthers(x) || (Flags(x) &amp; SAFE) || (mushconf.safe_unowned &amp;&amp; (Owner(x) != Owner(p))))</span></div>
<div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;<span class="preprocessor">#define Control_ok(x) ((Flags2(x) &amp; CONTROL_OK) != 0)</span></div>
<div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;<span class="preprocessor">#define Constant_Attrs(x) ((Flags2(x) &amp; CONSTANT_ATTRS) != 0)</span></div>
<div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;<span class="preprocessor">#define Audible(x) ((Flags(x) &amp; HEARTHRU) != 0)</span></div>
<div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;<span class="preprocessor">#define Terse(x) ((Flags(x) &amp; TERSE) != 0)</span></div>
<div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160; </div>
<div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;<span class="preprocessor">#define Gagged(x) ((Flags2(x) &amp; GAGGED) != 0)</span></div>
<div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;<span class="preprocessor">#define Vacation(x) ((Flags2(x) &amp; VACATION) != 0)</span></div>
<div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;<span class="preprocessor">#define Sending_Mail(x) ((Flags2(x) &amp; PLAYER_MAILS) != 0)</span></div>
<div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;<span class="preprocessor">#define Key(x) ((Flags2(x) &amp; KEY) != 0)</span></div>
<div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;<span class="preprocessor">#define Abode(x) (((Flags2(x) &amp; ABODE) != 0) &amp;&amp; Home_ok(x))</span></div>
<div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;<span class="preprocessor">#define Auditorium(x) ((Flags2(x) &amp; AUDITORIUM) != 0)</span></div>
<div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;<span class="preprocessor">#define Findable(x) ((Flags2(x) &amp; UNFINDABLE) == 0)</span></div>
<div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;<span class="preprocessor">#define Hideout(x) ((Flags2(x) &amp; UNFINDABLE) != 0)</span></div>
<div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;<span class="preprocessor">#define Parent_ok(x) ((Flags2(x) &amp; PARENT_OK) != 0)</span></div>
<div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;<span class="preprocessor">#define Light(x) ((Flags2(x) &amp; LIGHT) != 0)</span></div>
<div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;<span class="preprocessor">#define Suspect(x) ((Flags2(Owner(x)) &amp; SUSPECT) != 0)</span></div>
<div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;<span class="preprocessor">#define Watcher(x) ((Flags2(x) &amp; WATCHER) != 0)</span></div>
<div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;<span class="preprocessor">#define Connected(x) (((Flags2(x) &amp; CONNECTED) != 0) &amp;&amp; (Typeof(x) == TYPE_PLAYER))</span></div>
<div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;<span class="preprocessor">#define Slave(x) ((Flags2(Owner(x)) &amp; SLAVE) != 0)</span></div>
<div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;<span class="preprocessor">#define ParentZone(x) ((Flags2(x) &amp; ZONE_PARENT) != 0)</span></div>
<div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;<span class="preprocessor">#define Stop_Match(x) ((Flags2(x) &amp; STOP_MATCH) != 0)</span></div>
<div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;<span class="preprocessor">#define Has_Commands(x) ((Flags2(x) &amp; HAS_COMMANDS) != 0)</span></div>
<div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;<span class="preprocessor">#define Bouncer(x) ((Flags2(x) &amp; BOUNCE) != 0)</span></div>
<div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;<span class="preprocessor">#define Hidden(x) ((Flags(x) &amp; DARK) != 0)</span></div>
<div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;<span class="preprocessor">#define Blind(x) ((Flags2(x) &amp; BLIND) != 0)</span></div>
<div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;<span class="preprocessor">#define Redir_ok(x) ((Flags3(x) &amp; REDIR_OK) != 0)</span></div>
<div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;<span class="preprocessor">#define Orphan(x) ((Flags3(x) &amp; ORPHAN) != 0)</span></div>
<div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;<span class="preprocessor">#define NoDefault(x) ((Flags3(x) &amp; NODEFAULT) != 0)</span></div>
<div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;<span class="preprocessor">#define Unreal(x) ((Flags3(x) &amp; PRESENCE) != 0)</span></div>
<div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160; </div>
<div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;<span class="preprocessor">#define H_Startup(x) ((Flags(x) &amp; HAS_STARTUP) != 0)</span></div>
<div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;<span class="preprocessor">#define H_Fwdlist(x) ((Flags2(x) &amp; HAS_FWDLIST) != 0)</span></div>
<div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;<span class="preprocessor">#define H_Listen(x) ((Flags2(x) &amp; HAS_LISTEN) != 0)</span></div>
<div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;<span class="preprocessor">#define H_Redirect(x) ((Flags3(x) &amp; HAS_REDIRECT) != 0)</span></div>
<div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;<span class="preprocessor">#define H_Darklock(x) ((Flags3(x) &amp; HAS_DARKLOCK) != 0)</span></div>
<div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;<span class="preprocessor">#define H_Speechmod(x) ((Flags3(x) &amp; HAS_SPEECHMOD) != 0)</span></div>
<div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;<span class="preprocessor">#define H_Propdir(x) ((Flags3(x) &amp; HAS_PROPDIR) != 0)</span></div>
<div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160; </div>
<div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;<span class="preprocessor">#define H_Marker0(x) ((Flags3(x) &amp; MARK_0) != 0)</span></div>
<div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;<span class="preprocessor">#define H_Marker1(x) ((Flags3(x) &amp; MARK_1) != 0)</span></div>
<div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;<span class="preprocessor">#define H_Marker2(x) ((Flags3(x) &amp; MARK_2) != 0)</span></div>
<div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;<span class="preprocessor">#define H_Marker3(x) ((Flags3(x) &amp; MARK_3) != 0)</span></div>
<div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;<span class="preprocessor">#define H_Marker4(x) ((Flags3(x) &amp; MARK_4) != 0)</span></div>
<div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;<span class="preprocessor">#define H_Marker5(x) ((Flags3(x) &amp; MARK_5) != 0)</span></div>
<div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;<span class="preprocessor">#define H_Marker6(x) ((Flags3(x) &amp; MARK_6) != 0)</span></div>
<div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;<span class="preprocessor">#define H_Marker7(x) ((Flags3(x) &amp; MARK_7) != 0)</span></div>
<div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;<span class="preprocessor">#define H_Marker8(x) ((Flags3(x) &amp; MARK_8) != 0)</span></div>
<div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;<span class="preprocessor">#define H_Marker9(x) ((Flags3(x) &amp; MARK_9) != 0)</span></div>
<div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;<span class="preprocessor">#define isMarkerFlag(fp) (((fp)-&gt;flagflag &amp; FLAG_WORD3) &amp;&amp; ((fp)-&gt;flagvalue &amp; MARK_FLAGS))</span></div>
<div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160; </div>
<div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;<span class="preprocessor">#define s_Halted(x) s_Flags((x), Flags(x) | HALT)</span></div>
<div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;<span class="preprocessor">#define s_Going(x) s_Flags((x), Flags(x) | GOING)</span></div>
<div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;<span class="preprocessor">#define s_Connected(x) s_Flags2((x), Flags2(x) | CONNECTED)</span></div>
<div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;<span class="preprocessor">#define c_Connected(x) s_Flags2((x), Flags2(x) &amp; ~CONNECTED)</span></div>
<div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;<span class="preprocessor">#define isConnFlag(fp) (((fp)-&gt;flagflag &amp; FLAG_WORD2) &amp;&amp; ((fp)-&gt;flagvalue &amp; CONNECTED))</span></div>
<div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;<span class="preprocessor">#define s_Has_Darklock(x) s_Flags3((x), Flags3(x) | HAS_DARKLOCK)</span></div>
<div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;<span class="preprocessor">#define c_Has_Darklock(x) s_Flags3((x), Flags3(x) &amp; ~HAS_DARKLOCK)</span></div>
<div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;<span class="preprocessor">#define s_Trace(x) s_Flags((x), Flags(x) | TRACE)</span></div>
<div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;<span class="preprocessor">#define c_Trace(x) s_Flags((x), Flags(x) &amp; ~TRACE)</span></div>
<div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160; </div>
<div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;<span class="preprocessor">#define Html(x) ((Flags2(x) &amp; HTML) != 0)</span></div>
<div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;<span class="preprocessor">#define s_Html(x) s_Flags2((x), Flags2(x) | HTML)</span></div>
<div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;<span class="preprocessor">#define c_Html(x) s_Flags2((x), Flags2(x) &amp; ~HTML)</span></div>
<div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160; </div>
<div class="line"><a name="l00453"></a><span class="lineno"><a class="line" href="macros_8h.html#a379c98f2f9dfe8ca9fbfd9a4be672727">  453</a></span>&#160;<span class="preprocessor">#define Parentable(p, x) (Controls(p, x) || (Parent_ok(x) &amp;&amp; could_doit(p, x, A_LPARENT)))</span></div>
<div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;<span class="preprocessor">#define OnControlLock(p, x) (check_zone(p, x))</span></div>
<div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;<span class="preprocessor">#define Controls(p, x) (Good_obj(x) &amp;&amp; (!(God(x) &amp;&amp; !God(p))) &amp;&amp; (Control_All(p) || ((Owner(p) == Owner(x)) &amp;&amp; (Inherits(p) || !Inherits(x))) || OnControlLock(p, x)))</span></div>
<div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;<span class="preprocessor">#define Cannot_Objeval(p, x) ((x == NOTHING) || God(x) || (mushconf.fascist_objeval ? !Controls(p, x) : ((Owner(x) != Owner(p)) &amp;&amp; !Wizard(p))))</span></div>
<div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;<span class="preprocessor">#define Has_power(p, x) (check_access((p), powers_nametab[x].flag))</span></div>
<div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;<span class="preprocessor">#define Mark(x) (mushstate.markbits-&gt;chunk[(x) &gt;&gt; 3] |= mushconf.markdata[(x)&amp;7])</span></div>
<div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;<span class="preprocessor">#define Unmark(x) (mushstate.markbits-&gt;chunk[(x) &gt;&gt; 3] &amp;= ~mushconf.markdata[(x)&amp;7])</span></div>
<div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;<span class="preprocessor">#define Marked(x) (mushstate.markbits-&gt;chunk[(x) &gt;&gt; 3] &amp; mushconf.markdata[(x)&amp;7])</span></div>
<div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160; </div>
<div class="line"><a name="l00466"></a><span class="lineno"><a class="line" href="macros_8h.html#af7278a8d1f533745474c572e695183e3">  466</a></span>&#160;<span class="preprocessor">#define Examinable(p, x) (((Flags(x) &amp; VISUAL) != 0) || (See_All(p)) || (Owner(p) == Owner(x)) || OnControlLock(p, x))</span></div>
<div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;<span class="preprocessor">#define MyopicExam(p, x) (((Flags(x) &amp; VISUAL) != 0) || (!Myopic(p) &amp;&amp; (See_All(p) || (Owner(p) == Owner(x)) || OnControlLock(p, x))))</span></div>
<div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160; </div>
<div class="line"><a name="l00478"></a><span class="lineno"><a class="line" href="macros_8h.html#a59479cf48f8ef73d4abf7419e813826b">  478</a></span>&#160;<span class="preprocessor">#define Darkened(p, x) (Dark(x) &amp;&amp; (!H_Darklock(x) || could_doit(p, x, A_LDARK)))</span></div>
<div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160; </div>
<div class="line"><a name="l00490"></a><span class="lineno"><a class="line" href="macros_8h.html#ad87d11259673043b3eac817d49ba8d2d">  490</a></span>&#160;<span class="preprocessor">#define Sees(p, x) (!Darkened(p, x) || (mushconf.see_own_dark &amp;&amp; MyopicExam(p, x)))</span></div>
<div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;<span class="preprocessor">#define Sees_Always(p, x) (!Darkened(p, x) || (mushconf.see_own_dark &amp;&amp; Examinable(p, x)))</span></div>
<div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;<span class="preprocessor">#define Sees_In_Dark(p, x) ((Light(x) &amp;&amp; !Darkened(p, x)) || (mushconf.see_own_dark &amp;&amp; MyopicExam(p, x)))</span></div>
<div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;<span class="preprocessor">#define Can_See(p, x, l) (!(((p) == (x)) || isExit(x) || (mushconf.dark_sleepers &amp;&amp; isPlayer(x) &amp;&amp; !Connected(x) &amp;&amp; !Puppet(x))) &amp;&amp; ((l) ? Sees(p, x) : Sees_In_Dark(p, x)) &amp;&amp; ((!Unreal(x) || Check_Known(p, x)) &amp;&amp; (!Unreal(p) || Check_Knows(x, p))))</span></div>
<div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;<span class="preprocessor">#define Can_See_Exit(p, x, l) (!Darkened(p, x) &amp;&amp; (!(l) || Light(x)) &amp;&amp; ((!Unreal(x) || Check_Known(p, x)) &amp;&amp; (!Unreal(p) || Check_Knows(x, p))))</span></div>
<div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160; </div>
<div class="line"><a name="l00500"></a><span class="lineno"><a class="line" href="macros_8h.html#a113d77f75d650927c07b0ccddd96f2f9">  500</a></span>&#160;<span class="preprocessor">#define nearby_or_control(p, t) (Good_obj(p) &amp;&amp; Good_obj(t) &amp;&amp; (Controls(p, t) || nearby(p, t)))</span></div>
<div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160; </div>
<div class="line"><a name="l00508"></a><span class="lineno"><a class="line" href="macros_8h.html#a98ade1ae334809ffe1b8b2832826ccae">  508</a></span>&#160;<span class="preprocessor">#define Exit_Visible(x, p, k) (((k)&amp;VE_LOC_XAM) || Examinable(p, x) || Light(x) || (!((k) &amp; (VE_LOC_DARK | VE_BASE_DARK)) &amp;&amp; !Dark(x)))</span></div>
<div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160; </div>
<div class="line"><a name="l00519"></a><span class="lineno"><a class="line" href="macros_8h.html#a95f55bc321fe55c4bdc76b6f681adc71">  519</a></span>&#160;<span class="preprocessor">#define Link_exit(p, x) ((Typeof(x) == TYPE_EXIT) &amp;&amp; ((Location(x) == NOTHING) || Controls(p, x)))</span></div>
<div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160; </div>
<div class="line"><a name="l00527"></a><span class="lineno"><a class="line" href="macros_8h.html#adb02580f355195ecb401afd7faf66dec">  527</a></span>&#160;<span class="preprocessor">#define Linkable(p, x) (Good_obj(x) &amp;&amp; Has_contents(x) &amp;&amp; (Controls(p, x) || Link_ok(x) || (LinkToAny(p) &amp;&amp; !God(x))))</span></div>
<div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160; </div>
<div class="line"><a name="l00535"></a><span class="lineno"><a class="line" href="macros_8h.html#add86447cc6828dda234a4a153592a862">  535</a></span>&#160;<span class="preprocessor">#define Passes_Linklock(p, x) ((LinkToAny(p) &amp;&amp; !mushconf.wiz_obey_linklock) || could_doit(p, x, A_LLINK))</span></div>
<div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160; </div>
<div class="line"><a name="l00541"></a><span class="lineno"><a class="line" href="macros_8h.html#a6c759018f34f1e60012e739410cab312">  541</a></span>&#160;<span class="preprocessor">#define AttrFlags(a, f) ((f) | (a)-&gt;flags)</span></div>
<div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;<span class="preprocessor">#define Visible_desc(p, x, a) (((a)-&gt;number != A_DESC) || mushconf.read_rem_desc || nearby(p, x))</span></div>
<div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160;<span class="preprocessor">#define Invisible_attr(p, x, a, o, f) ((!Examinable(p, x) &amp;&amp; (Owner(p) != o)) || ((AttrFlags(a, f) &amp; AF_MDARK) &amp;&amp; !Sees_Hidden_Attrs(p)) || ((AttrFlags(a, f) &amp; AF_DARK) &amp;&amp; !God(p)))</span></div>
<div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160;<span class="preprocessor">#define Visible_attr(p, x, a, o, f) (((AttrFlags(a, f) &amp; AF_VISUAL) &amp;&amp; Visible_desc(p, x, a)) || !Invisible_attr(p, x, a, o, f))</span></div>
<div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160;<span class="preprocessor">#define See_attr(p, x, a, o, f) (!((a)-&gt;flags &amp; (AF_INTERNAL | AF_IS_LOCK)) &amp;&amp; !(f &amp; AF_STRUCTURE) &amp;&amp; Visible_attr(p, x, a, o, f))</span></div>
<div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;<span class="preprocessor">#define Read_attr(p, x, a, o, f) (!((a)-&gt;flags &amp; AF_INTERNAL) &amp;&amp; !(f &amp; AF_STRUCTURE) &amp;&amp; Visible_attr(p, x, a, o, f))</span></div>
<div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;<span class="preprocessor">#define See_attr_all(p, x, a, o, f, y) (!((a)-&gt;flags &amp; (AF_INTERNAL | AF_IS_LOCK)) &amp;&amp; ((y) || !(f &amp; AF_STRUCTURE)) &amp;&amp; Visible_attr(p, x, a, o, f))</span></div>
<div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160;<span class="preprocessor">#define Read_attr_all(p, x, a, o, f, y) (!((a)-&gt;flags &amp; AF_INTERNAL) &amp;&amp; ((y) || !(f &amp; AF_STRUCTURE)) &amp;&amp; Visible_attr(p, x, a, o, f))</span></div>
<div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160; </div>
<div class="line"><a name="l00559"></a><span class="lineno"><a class="line" href="macros_8h.html#a8f7c9c0c683f5c0e88b3fc953e9948d9">  559</a></span>&#160;<span class="preprocessor">#define Set_attr(p, x, a, f) (!((a)-&gt;flags &amp; (AF_INTERNAL | AF_IS_LOCK | AF_CONST)) &amp;&amp; (God(p) || (!God(x) &amp;&amp; !((f)&amp;AF_LOCK) &amp;&amp; !Constant_Attrs(x) &amp;&amp; ((Controls(p, x) &amp;&amp; !((a)-&gt;flags &amp; (AF_WIZARD | AF_GOD)) &amp;&amp; !((f) &amp; (AF_WIZARD | AF_GOD))) || (Sets_Wiz_Attrs(p) &amp;&amp; !((a)-&gt;flags &amp; AF_GOD) &amp;&amp; !((f)&amp;AF_GOD))))))</span></div>
<div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160; </div>
<div class="line"><a name="l00566"></a><span class="lineno"><a class="line" href="macros_8h.html#a69e1ff5f1ff1c0f33952edf592e1f90f">  566</a></span>&#160;<span class="preprocessor">#define Write_attr(p, x, a, f) (!((a)-&gt;flags &amp; (AF_INTERNAL | AF_NOCLONE)) &amp;&amp; (God(p) || (!God(x) &amp;&amp; !(f &amp; AF_LOCK) &amp;&amp; ((Controls(p, x) &amp;&amp; !((a)-&gt;flags &amp; (AF_WIZARD | AF_GOD)) &amp;&amp; !((f) &amp; (AF_WIZARD | AF_GOD))) || (Sets_Wiz_Attrs(p) &amp;&amp; !((a)-&gt;flags &amp; AF_GOD))))))</span></div>
<div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160; </div>
<div class="line"><a name="l00576"></a><span class="lineno"><a class="line" href="macros_8h.html#a1871eef9959cab7877e0e20638f691e5">  576</a></span>&#160;<span class="preprocessor">#define Lock_attr(p, x, a, o) (God(p) || (!God(x) &amp;&amp; !((a)-&gt;flags &amp; (AF_INTERNAL | AF_IS_LOCK | AF_CONST)) &amp;&amp; !Constant_Attrs(x) &amp;&amp; (!((a)-&gt;flags &amp; (AF_WIZARD | AF_GOD)) || (Sets_Wiz_Attrs(p) &amp;&amp; !((a)-&gt;flags &amp; AF_GOD))) &amp;&amp; (Wizard(p) || (o) == Owner(p))))</span></div>
<div class="line"><a name="l00577"></a><span class="lineno">  577</span>&#160; </div>
<div class="line"><a name="l00582"></a><span class="lineno"><a class="line" href="macros_8h.html#a2d9b5ca79db09d458b2e849905d544b1">  582</a></span>&#160;<span class="preprocessor">#define Are_Real(p, t) (!(Unreal(p) || Unreal(t)))</span></div>
<div class="line"><a name="l00583"></a><span class="lineno">  583</span>&#160;<span class="preprocessor">#define Check_Heard(t, p) (could_doit((t), (p), A_LHEARD))</span></div>
<div class="line"><a name="l00584"></a><span class="lineno">  584</span>&#160;<span class="preprocessor">#define Check_Noticed(t, p) (could_doit((t), (p), A_LMOVED))</span></div>
<div class="line"><a name="l00585"></a><span class="lineno">  585</span>&#160;<span class="preprocessor">#define Check_Known(t, p) (could_doit((t), (p), A_LKNOWN))</span></div>
<div class="line"><a name="l00586"></a><span class="lineno">  586</span>&#160;<span class="preprocessor">#define Check_Hears(p, t) (could_doit((p), (t), A_LHEARS))</span></div>
<div class="line"><a name="l00587"></a><span class="lineno">  587</span>&#160;<span class="preprocessor">#define Check_Notices(p, t) (could_doit((p), (t), A_LMOVES))</span></div>
<div class="line"><a name="l00588"></a><span class="lineno">  588</span>&#160;<span class="preprocessor">#define Check_Knows(p, t) (could_doit((p), (t), A_LKNOWS))</span></div>
<div class="line"><a name="l00589"></a><span class="lineno">  589</span>&#160; </div>
<div class="line"><a name="l00602"></a><span class="lineno"><a class="line" href="macros_8h.html#acdb7cd6579a64d50eefa963edd09c935">  602</a></span>&#160;<span class="preprocessor">#define Func_Flags(x) (((FUN *)(x)[-1])-&gt;flags)</span></div>
<div class="line"><a name="l00603"></a><span class="lineno">  603</span>&#160;<span class="preprocessor">#define Is_Func(x) (((FUN *)fargs[-1])-&gt;flags &amp; (x))</span></div>
<div class="line"><a name="l00604"></a><span class="lineno">  604</span>&#160;<span class="preprocessor">#define Func_Mask(x) (((FUN *)fargs[-1])-&gt;flags &amp; (x))</span></div>
<div class="line"><a name="l00605"></a><span class="lineno">  605</span>&#160; </div>
<div class="line"><a name="l00606"></a><span class="lineno">  606</span>&#160;<span class="preprocessor">#define IS_CLEAN(i) (IS(i, TYPE_GARBAGE, GOING) &amp;&amp; (Location(i) == NOTHING) &amp;&amp; (Contents(i) == NOTHING) &amp;&amp; (Exits(i) == NOTHING) &amp;&amp; (Next(i) == NOTHING) &amp;&amp; (Owner(i) == GOD))</span></div>
<div class="line"><a name="l00611"></a><span class="lineno"><a class="line" href="macros_8h.html#a39d42b9913ca0324f62a9552d4ebed3a">  611</a></span>&#160;<span class="preprocessor">#define Check_Func_Access(p, f) (check_access(p, (f)-&gt;perms) &amp;&amp; (!((f)-&gt;xperms) || check_mod_access(p, (f)-&gt;xperms)))</span></div>
<div class="line"><a name="l00616"></a><span class="lineno"><a class="line" href="macros_8h.html#a7a382e5f49a62abed735b8b1af320b5c">  616</a></span>&#160;<span class="preprocessor">#define Eat_Spaces(x) trim_space_sep((x), &amp;SPACE_DELIM)</span></div>
<div class="line"><a name="l00675"></a><span class="lineno"><a class="line" href="macros_8h.html#a33a1cf2eebe67d66c38250e3d33cac89">  675</a></span>&#160;<span class="preprocessor">#define Too_Much_CPU() ((mushstate.cputime_now = clock()), ((mushstate.cputime_now &gt; mushstate.cputime_base + mushconf.func_cpu_lim) &amp;&amp; (mushstate.cputime_base + mushconf.func_cpu_lim &gt; mushstate.cputime_base) &amp;&amp; (mushstate.cputime_base != -1) &amp;&amp; (mushstate.cputime_now != -1)))</span></div>
<div class="line"><a name="l00676"></a><span class="lineno">  676</span>&#160; </div>
<div class="line"><a name="l00682"></a><span class="lineno"><a class="line" href="macros_8h.html#a86f600a9580fd524b85ea4314c837e24">  682</a></span>&#160;<span class="preprocessor">#define MANDFLAGS (V_LINK | V_PARENT | V_XFLAGS | V_ZONE | V_POWERS | V_3FLAGS | V_QUOTED | V_TQUOTAS | V_TIMESTAMPS | V_VISUALATTRS | V_CREATETIME)</span></div>
<div class="line"><a name="l00683"></a><span class="lineno"><a class="line" href="macros_8h.html#aafdf254311004cc8719868e4df1ec27f">  683</a></span>&#160;<span class="preprocessor">#define OFLAGS1 (V_GDBM | V_ATRKEY)                  </span></div>
<div class="line"><a name="l00684"></a><span class="lineno">  684</span>&#160;<span class="preprocessor">#define OFLAGS2 (V_ATRNAME | V_ATRMONEY)             </span></div>
<div class="line"><a name="l00685"></a><span class="lineno"><a class="line" href="macros_8h.html#ad5ee493afdf4bc3957b7defc193a4a2b">  685</a></span>&#160;<span class="preprocessor">#define OUTPUT_FLAGS (MANDFLAGS | OFLAGS1 | OFLAGS2) </span></div>
<div class="line"><a name="l00686"></a><span class="lineno"><a class="line" href="macros_8h.html#adcd4cf8ea927650042d10656019411b5">  686</a></span>&#160;<span class="preprocessor">#define UNLOAD_OUTFLAGS (MANDFLAGS)                  </span></div>
<div class="line"><a name="l00693"></a><span class="lineno"><a class="line" href="macros_8h.html#ab6afeb0addc88ed6686995bc24ae8876">  693</a></span>&#160;<span class="preprocessor">#define nhashinit(h, sz) hashinit((h), (sz), HT_NUM)</span></div>
<div class="line"><a name="l00694"></a><span class="lineno">  694</span>&#160;<span class="preprocessor">#define nhashreset(h) hashreset((h))</span></div>
<div class="line"><a name="l00695"></a><span class="lineno">  695</span>&#160;<span class="preprocessor">#define hashfind(s, h) hashfind_generic((HASHKEY)(s), (h))</span></div>
<div class="line"><a name="l00696"></a><span class="lineno">  696</span>&#160;<span class="preprocessor">#define nhashfind(n, h) hashfind_generic((HASHKEY)(n), (h))</span></div>
<div class="line"><a name="l00697"></a><span class="lineno">  697</span>&#160;<span class="preprocessor">#define hashfindflags(s, h) hashfindflags_generic((HASHKEY)(s), (h))</span></div>
<div class="line"><a name="l00698"></a><span class="lineno">  698</span>&#160;<span class="preprocessor">#define hashadd(s, d, h, f) hashadd_generic((HASHKEY)(s), (d), (h), (f))</span></div>
<div class="line"><a name="l00699"></a><span class="lineno">  699</span>&#160;<span class="preprocessor">#define nhashadd(n, d, h) hashadd_generic((HASHKEY)(n), (d), (h), 0)</span></div>
<div class="line"><a name="l00700"></a><span class="lineno">  700</span>&#160;<span class="preprocessor">#define hashdelete(s, h) hashdelete_generic((HASHKEY)(s), (h))</span></div>
<div class="line"><a name="l00701"></a><span class="lineno">  701</span>&#160;<span class="preprocessor">#define nhashdelete(n, h) hashdelete_generic((HASHKEY)(n), (h))</span></div>
<div class="line"><a name="l00702"></a><span class="lineno">  702</span>&#160;<span class="preprocessor">#define nhashflush(h, sz) hashflush((h), (sz))</span></div>
<div class="line"><a name="l00703"></a><span class="lineno">  703</span>&#160;<span class="preprocessor">#define hashrepl(s, d, h) hashrepl_generic((HASHKEY)(s), (d), (h))</span></div>
<div class="line"><a name="l00704"></a><span class="lineno">  704</span>&#160;<span class="preprocessor">#define nhashrepl(n, d, h) hashrepl_generic((HASHKEY)(n), (d), (h))</span></div>
<div class="line"><a name="l00705"></a><span class="lineno">  705</span>&#160;<span class="preprocessor">#define nhashinfo(t, h) hashinfo((t), (h))</span></div>
<div class="line"><a name="l00706"></a><span class="lineno">  706</span>&#160;<span class="preprocessor">#define hash_firstkey(h) (hash_firstkey_generic((h)).s)</span></div>
<div class="line"><a name="l00707"></a><span class="lineno">  707</span>&#160;<span class="preprocessor">#define hash_nextkey(h) (hash_nextkey_generic((h)).s)</span></div>
<div class="line"><a name="l00708"></a><span class="lineno">  708</span>&#160;<span class="preprocessor">#define nhashresize(h, sz) hashresize((h), (sz))</span></div>
<div class="line"><a name="l00709"></a><span class="lineno">  709</span>&#160; </div>
<div class="line"><a name="l00715"></a><span class="lineno"><a class="line" href="macros_8h.html#a4a7bc79ebdb30047563ddba411fcfa4f">  715</a></span>&#160;<span class="preprocessor">#define OBLOCK_SIZE (dbref)((LBUF_SIZE - sizeof(OBLOCK *)) / sizeof(dbref))</span></div>
<div class="line"><a name="l00716"></a><span class="lineno">  716</span>&#160; </div>
<div class="line"><a name="l00722"></a><span class="lineno"><a class="line" href="macros_8h.html#a77831bb5fe3759d4b150284f86cddd17">  722</a></span>&#160;<span class="preprocessor">#define s_Change_Quotas(c) s_Powers((c), Powers(c) | POW_CHG_QUOTAS)</span></div>
<div class="line"><a name="l00723"></a><span class="lineno">  723</span>&#160;<span class="preprocessor">#define s_Chown_Any(c) s_Powers((c), Powers(c) | POW_CHOWN_ANY)</span></div>
<div class="line"><a name="l00724"></a><span class="lineno">  724</span>&#160;<span class="preprocessor">#define s_Announce(c) s_Powers((c), Powers(c) | POW_ANNOUNCE)</span></div>
<div class="line"><a name="l00725"></a><span class="lineno">  725</span>&#160;<span class="preprocessor">#define s_Can_Boot(c) s_Powers((c), Powers(c) | POW_BOOT)</span></div>
<div class="line"><a name="l00726"></a><span class="lineno">  726</span>&#160;<span class="preprocessor">#define s_Can_Halt(c) s_Powers((c), Powers(c) | POW_HALT)</span></div>
<div class="line"><a name="l00727"></a><span class="lineno">  727</span>&#160;<span class="preprocessor">#define s_Control_All(c) s_Powers((c), Powers(c) | POW_CONTROL_ALL)</span></div>
<div class="line"><a name="l00728"></a><span class="lineno">  728</span>&#160;<span class="preprocessor">#define s_Wizard_Who(c) s_Powers((c), Powers(c) | POW_WIZARD_WHO)</span></div>
<div class="line"><a name="l00729"></a><span class="lineno">  729</span>&#160;<span class="preprocessor">#define s_See_All(c) s_Powers((c), Powers(c) | POW_EXAM_ALL)</span></div>
<div class="line"><a name="l00730"></a><span class="lineno">  730</span>&#160;<span class="preprocessor">#define s_Find_Unfindable(c) s_Powers((c), Powers(c) | POW_FIND_UNFIND)</span></div>
<div class="line"><a name="l00731"></a><span class="lineno">  731</span>&#160;<span class="preprocessor">#define s_Free_Money(c) s_Powers((c), Powers(c) | POW_FREE_MONEY)</span></div>
<div class="line"><a name="l00732"></a><span class="lineno">  732</span>&#160;<span class="preprocessor">#define s_Free_Quota(c) s_Powers((c), Powers(c) | POW_FREE_QUOTA)</span></div>
<div class="line"><a name="l00733"></a><span class="lineno">  733</span>&#160;<span class="preprocessor">#define s_Can_Hide(c) s_Powers((c), Powers(c) | POW_HIDE)</span></div>
<div class="line"><a name="l00734"></a><span class="lineno">  734</span>&#160;<span class="preprocessor">#define s_Can_Idle(c) s_Powers((c), Powers(c) | POW_IDLE)</span></div>
<div class="line"><a name="l00735"></a><span class="lineno">  735</span>&#160;<span class="preprocessor">#define s_Search(c) s_Powers((c), Powers(c) | POW_SEARCH)</span></div>
<div class="line"><a name="l00736"></a><span class="lineno">  736</span>&#160;<span class="preprocessor">#define s_Long_Fingers(c) s_Powers((c), Powers(c) | POW_LONGFINGERS)</span></div>
<div class="line"><a name="l00737"></a><span class="lineno">  737</span>&#160;<span class="preprocessor">#define s_Prog(c) s_Powers((c), Powers(c) | POW_PROG)</span></div>
<div class="line"><a name="l00738"></a><span class="lineno">  738</span>&#160;<span class="preprocessor">#define s_Comm_All(c) s_Powers((c), Powers(c) | POW_COMM_ALL)</span></div>
<div class="line"><a name="l00739"></a><span class="lineno">  739</span>&#160;<span class="preprocessor">#define s_See_Queue(c) s_Powers((c), Powers(c) | POW_SEE_QUEUE)</span></div>
<div class="line"><a name="l00740"></a><span class="lineno">  740</span>&#160;<span class="preprocessor">#define s_See_Hidden(c) s_Powers((c), Powers(c) | POW_SEE_HIDDEN)</span></div>
<div class="line"><a name="l00741"></a><span class="lineno">  741</span>&#160;<span class="preprocessor">#define s_Can_Watch(c) s_Powers((c), Powers(c) | POW_WATCH)</span></div>
<div class="line"><a name="l00742"></a><span class="lineno">  742</span>&#160;<span class="preprocessor">#define s_Can_Poll(c) s_Powers((c), Powers(c) | POW_POLL)</span></div>
<div class="line"><a name="l00743"></a><span class="lineno">  743</span>&#160;<span class="preprocessor">#define s_No_Destroy(c) s_Powers((c), Powers(c) | POW_NO_DESTROY)</span></div>
<div class="line"><a name="l00744"></a><span class="lineno">  744</span>&#160;<span class="preprocessor">#define s_Guest(c) s_Powers((c), Powers(c) | POW_GUEST)</span></div>
<div class="line"><a name="l00745"></a><span class="lineno">  745</span>&#160;<span class="preprocessor">#define s_Set_Maint_Flags(c) s_Powers((c), Powers(c) | POW_SET_MFLAGS)</span></div>
<div class="line"><a name="l00746"></a><span class="lineno">  746</span>&#160;<span class="preprocessor">#define s_Stat_Any(c) s_Powers((c), Powers(c) | POW_STAT_ANY)</span></div>
<div class="line"><a name="l00747"></a><span class="lineno">  747</span>&#160;<span class="preprocessor">#define s_Steal(c) s_Powers((c), Powers(c) | POW_STEAL)</span></div>
<div class="line"><a name="l00748"></a><span class="lineno">  748</span>&#160;<span class="preprocessor">#define s_Tel_Anywhere(c) s_Powers((c), Powers(c) | POW_TEL_ANYWHR)</span></div>
<div class="line"><a name="l00749"></a><span class="lineno">  749</span>&#160;<span class="preprocessor">#define s_Tel_Anything(c) s_Powers((c), Powers(c) | POW_TEL_UNRST)</span></div>
<div class="line"><a name="l00750"></a><span class="lineno">  750</span>&#160;<span class="preprocessor">#define s_Unkillable(c) s_Powers((c), Powers(c) | POW_UNKILLABLE)</span></div>
<div class="line"><a name="l00751"></a><span class="lineno">  751</span>&#160;<span class="preprocessor">#define s_Builder(c) s_Powers2((c), Powers2(c) | POW_BUILDER)</span></div>
<div class="line"><a name="l00752"></a><span class="lineno">  752</span>&#160; </div>
<div class="line"><a name="l00753"></a><span class="lineno">  753</span>&#160;<span class="preprocessor">#define Can_Set_Quota(c) (((Powers(c) &amp; POW_CHG_QUOTAS) != 0) || Wizard(c))</span></div>
<div class="line"><a name="l00754"></a><span class="lineno">  754</span>&#160;<span class="preprocessor">#define Chown_Any(c) (((Powers(c) &amp; POW_CHOWN_ANY) != 0) || Wizard(c))</span></div>
<div class="line"><a name="l00755"></a><span class="lineno">  755</span>&#160;<span class="preprocessor">#define Announce(c) (((Powers(c) &amp; POW_ANNOUNCE) != 0) || Wizard(c))</span></div>
<div class="line"><a name="l00756"></a><span class="lineno">  756</span>&#160;<span class="preprocessor">#define Can_Boot(c) (((Powers(c) &amp; POW_BOOT) != 0) || Wizard(c))</span></div>
<div class="line"><a name="l00757"></a><span class="lineno">  757</span>&#160;<span class="preprocessor">#define Can_Halt(c) (((Powers(c) &amp; POW_HALT) != 0) || Wizard(c))</span></div>
<div class="line"><a name="l00758"></a><span class="lineno">  758</span>&#160;<span class="preprocessor">#define Control_All(c) (((Powers(c) &amp; POW_CONTROL_ALL) != 0) || Wizard(c))</span></div>
<div class="line"><a name="l00759"></a><span class="lineno">  759</span>&#160;<span class="preprocessor">#define Wizard_Who(c) (((Powers(c) &amp; POW_WIZARD_WHO) != 0) || WizRoy(c))</span></div>
<div class="line"><a name="l00760"></a><span class="lineno">  760</span>&#160;<span class="preprocessor">#define See_All(c) (((Powers(c) &amp; POW_EXAM_ALL) != 0) || WizRoy(c))</span></div>
<div class="line"><a name="l00761"></a><span class="lineno">  761</span>&#160;<span class="preprocessor">#define Find_Unfindable(c) ((Powers(c) &amp; POW_FIND_UNFIND) != 0)</span></div>
<div class="line"><a name="l00762"></a><span class="lineno">  762</span>&#160;<span class="preprocessor">#define Free_Money(c) (((Powers(c) &amp; POW_FREE_MONEY) != 0) || Immortal(c))</span></div>
<div class="line"><a name="l00763"></a><span class="lineno">  763</span>&#160;<span class="preprocessor">#define Free_Quota(c) (((Powers(c) &amp; POW_FREE_QUOTA) != 0) || Wizard(c))</span></div>
<div class="line"><a name="l00764"></a><span class="lineno">  764</span>&#160;<span class="preprocessor">#define Can_Hide(c) (((Powers(c) &amp; POW_HIDE) != 0) || Wizard(c))</span></div>
<div class="line"><a name="l00765"></a><span class="lineno">  765</span>&#160;<span class="preprocessor">#define Can_Idle(c) (((Powers(c) &amp; POW_IDLE) != 0) || Wizard(c))</span></div>
<div class="line"><a name="l00766"></a><span class="lineno">  766</span>&#160;<span class="preprocessor">#define Search(c) (((Powers(c) &amp; POW_SEARCH) != 0) || WizRoy(c))</span></div>
<div class="line"><a name="l00767"></a><span class="lineno">  767</span>&#160;<span class="preprocessor">#define Long_Fingers(c) (((Powers(c) &amp; POW_LONGFINGERS) != 0) || Wizard(c))</span></div>
<div class="line"><a name="l00768"></a><span class="lineno">  768</span>&#160;<span class="preprocessor">#define Comm_All(c) (((Powers(c) &amp; POW_COMM_ALL) != 0) || Wizard(c))</span></div>
<div class="line"><a name="l00769"></a><span class="lineno">  769</span>&#160;<span class="preprocessor">#define See_Queue(c) (((Powers(c) &amp; POW_SEE_QUEUE) != 0) || WizRoy(c))</span></div>
<div class="line"><a name="l00770"></a><span class="lineno">  770</span>&#160;<span class="preprocessor">#define See_Hidden(c) (((Powers(c) &amp; POW_SEE_HIDDEN) != 0) || WizRoy(c))</span></div>
<div class="line"><a name="l00771"></a><span class="lineno">  771</span>&#160;<span class="preprocessor">#define Can_Watch(c) (((Powers(c) &amp; POW_WATCH) != 0) || Wizard(c))</span></div>
<div class="line"><a name="l00772"></a><span class="lineno">  772</span>&#160;<span class="preprocessor">#define Can_Poll(c) (((Powers(c) &amp; POW_POLL) != 0) || Wizard(c))</span></div>
<div class="line"><a name="l00773"></a><span class="lineno">  773</span>&#160;<span class="preprocessor">#define No_Destroy(c) (((Powers(c) &amp; POW_NO_DESTROY) != 0) || Wizard(c))</span></div>
<div class="line"><a name="l00774"></a><span class="lineno">  774</span>&#160;<span class="preprocessor">#define Guest(c) ((Powers(c) &amp; POW_GUEST) != 0)</span></div>
<div class="line"><a name="l00775"></a><span class="lineno">  775</span>&#160;<span class="preprocessor">#define Set_Maint_Flags(c) ((Powers(c) &amp; POW_SET_MFLAGS) != 0)</span></div>
<div class="line"><a name="l00776"></a><span class="lineno">  776</span>&#160;<span class="preprocessor">#define Stat_Any(c) ((Powers(c) &amp; POW_STAT_ANY) != 0)</span></div>
<div class="line"><a name="l00777"></a><span class="lineno">  777</span>&#160;<span class="preprocessor">#define Steal(c) (((Powers(c) &amp; POW_STEAL) != 0) || Wizard(c))</span></div>
<div class="line"><a name="l00778"></a><span class="lineno">  778</span>&#160;<span class="preprocessor">#define Tel_Anywhere(c) (((Powers(c) &amp; POW_TEL_ANYWHR) != 0) || Tel_Anything(c))</span></div>
<div class="line"><a name="l00779"></a><span class="lineno">  779</span>&#160;<span class="preprocessor">#define Tel_Anything(c) (((Powers(c) &amp; POW_TEL_UNRST) != 0) || WizRoy(c))</span></div>
<div class="line"><a name="l00780"></a><span class="lineno">  780</span>&#160;<span class="preprocessor">#define Unkillable(c) (((Powers(c) &amp; POW_UNKILLABLE) != 0) || Immortal(c))</span></div>
<div class="line"><a name="l00781"></a><span class="lineno">  781</span>&#160;<span class="preprocessor">#define Prog(c) (((Powers(c) &amp; POW_PROG) != 0) || Wizard(c))</span></div>
<div class="line"><a name="l00782"></a><span class="lineno">  782</span>&#160;<span class="preprocessor">#define Sees_Hidden_Attrs(c) (((Powers(c) &amp; POW_MDARK_ATTR) != 0) || WizRoy(c))</span></div>
<div class="line"><a name="l00783"></a><span class="lineno">  783</span>&#160;<span class="preprocessor">#define Sets_Wiz_Attrs(c) (((Powers(c) &amp; POW_WIZ_ATTR) != 0) || Wizard(c))</span></div>
<div class="line"><a name="l00784"></a><span class="lineno">  784</span>&#160;<span class="preprocessor">#define Pass_Locks(c) ((Powers(c) &amp; POW_PASS_LOCKS) != 0)</span></div>
<div class="line"><a name="l00785"></a><span class="lineno">  785</span>&#160;<span class="preprocessor">#define Builder(c) (((Powers2(c) &amp; POW_BUILDER) != 0) || WizRoy(c))</span></div>
<div class="line"><a name="l00786"></a><span class="lineno">  786</span>&#160;<span class="preprocessor">#define LinkVariable(c) (((Powers2(c) &amp; POW_LINKVAR) != 0) || Wizard(c))</span></div>
<div class="line"><a name="l00787"></a><span class="lineno">  787</span>&#160;<span class="preprocessor">#define LinkToAny(c) (((Powers2(c) &amp; POW_LINKTOANY) != 0) || Wizard(c))</span></div>
<div class="line"><a name="l00788"></a><span class="lineno">  788</span>&#160;<span class="preprocessor">#define LinkAnyHome(c) (((Powers2(c) &amp; POW_LINKHOME) != 0) || Wizard(c))</span></div>
<div class="line"><a name="l00789"></a><span class="lineno">  789</span>&#160;<span class="preprocessor">#define Open_Anywhere(c) ((Powers2(c) &amp; POW_OPENANYLOC) != 0)</span></div>
<div class="line"><a name="l00790"></a><span class="lineno">  790</span>&#160;<span class="preprocessor">#define Can_Cloak(c) ((Powers2(c) &amp; POW_CLOAK) != 0)</span></div>
<div class="line"><a name="l00791"></a><span class="lineno">  791</span>&#160;<span class="preprocessor">#define Can_Use_Module(c) ((Powers2(c) &amp; POW_USE_MODULE) != 0)</span></div>
<div class="line"><a name="l00792"></a><span class="lineno">  792</span>&#160; </div>
<div class="line"><a name="l00793"></a><span class="lineno">  793</span>&#160;<span class="preprocessor">#define OK_To_Send(p, t) (!herekey || ((!Unreal(p) || ((key &amp; MSG_SPEECH) &amp;&amp; Check_Heard((t), (p))) || ((key &amp; MSG_MOVE) &amp;&amp; Check_Noticed((t), (p))) || ((key &amp; MSG_PRESENCE) &amp;&amp; Check_Known((t), (p)))) &amp;&amp; (!Unreal(t) || ((key &amp; MSG_SPEECH) &amp;&amp; Check_Hears((p), (t))) || ((key &amp; MSG_MOVE) &amp;&amp; Check_Notices((p), (t))) || ((key &amp; MSG_PRESENCE) &amp;&amp; Check_Knows((p), (t))))))</span></div>
<div class="line"><a name="l00794"></a><span class="lineno">  794</span>&#160; </div>
<div class="line"><a name="l00799"></a><span class="lineno"><a class="line" href="macros_8h.html#add6ef04b4935e96dfd5ff02c0c8a21d6">  799</a></span>&#160;<span class="preprocessor">#define MINUTE_COUNT (LAST_MINUTE - FIRST_MINUTE + 1)</span></div>
<div class="line"><a name="l00800"></a><span class="lineno">  800</span>&#160;<span class="preprocessor">#define HOUR_COUNT (LAST_HOUR - FIRST_HOUR + 1)</span></div>
<div class="line"><a name="l00801"></a><span class="lineno">  801</span>&#160;<span class="preprocessor">#define DOM_COUNT (LAST_DOM - FIRST_DOM + 1)</span></div>
<div class="line"><a name="l00802"></a><span class="lineno">  802</span>&#160;<span class="preprocessor">#define MONTH_COUNT (LAST_MONTH - FIRST_MONTH + 1)</span></div>
<div class="line"><a name="l00803"></a><span class="lineno">  803</span>&#160;<span class="preprocessor">#define DOW_COUNT (LAST_DOW - FIRST_DOW + 1)</span></div>
<div class="line"><a name="l00804"></a><span class="lineno">  804</span>&#160; </div>
<div class="line"><a name="l00805"></a><span class="lineno">  805</span>&#160;<span class="preprocessor">#endif </span><span class="comment">/* __MACROS_H */</span><span class="preprocessor"></span></div>
</div><!-- fragment --></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1
</small></address>
</body>
</html>
