<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.12.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>TinyMUSH: Contributing to TinyMUSH</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">TinyMUSH<span id="projectnumber">&#160;3.3</span>
   </div>
   <div id="projectbrief">TinyMUSH Server</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.12.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search',false);
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){ initResizable(false); });
/* @license-end */
</script>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

</div><!-- top -->
<div id="doc-content">
<div><div class="header">
  <div class="headertitle"><div class="title">Contributing to TinyMUSH</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p><a class="anchor" id="autotoc_md18"></a></p>
<p>Thank you for your interest in contributing to TinyMUSH! This document provides guidelines and instructions for contributing to the project.</p>
<h1><a class="anchor" id="autotoc_md19"></a>
Table of Contents</h1>
<ul>
<li>Code of Conduct</li>
<li>How to Contribute<ul>
<li>Reporting Bugs</li>
<li>Suggesting Features</li>
<li>Security Vulnerabilities</li>
</ul>
</li>
<li>Development Setup</li>
<li>Code Guidelines</li>
<li>Testing</li>
<li>Pull Request Process</li>
<li>Module Development</li>
</ul>
<h1><a class="anchor" id="autotoc_md20"></a>
Code of Conduct</h1>
<p>This project is focused exclusively on the development, maintenance, and support of TinyMUSH. All interactions should be:</p>
<ul>
<li><b>Respectful and Constructive</b>: Treat all contributors with courtesy and professionalism</li>
<li><b>Welcoming</b>: Help newcomers get started and answer questions patiently</li>
<li><b>On-Topic</b>: Discussions must relate to TinyMUSH development, usage, or support</li>
<li><b>Apolitical</b>: Politics, personal opinions, and unrelated social issues have no place in this project</li>
</ul>
<p>Keep discussions focused on:</p><ul>
<li>Code contributions and technical decisions</li>
<li>Bug reports and feature requests</li>
<li>Documentation improvements</li>
<li>Installation and configuration help</li>
<li>Module development</li>
</ul>
<p>For topics unrelated to TinyMUSH development and usage, please use appropriate external platforms.</p>
<h1><a class="anchor" id="autotoc_md21"></a>
How to Contribute</h1>
<h2><a class="anchor" id="autotoc_md22"></a>
Reporting Bugs</h2>
<p>Before creating a bug report:</p><ol type="1">
<li>Check <a class="el" href="md_KNOWN__BUGS.html">KNOWN_BUGS.md</a> for known issues</li>
<li>Search <a href="https://github.com/TinyMUSH/TinyMUSH/issues">existing issues</a> to avoid duplicates</li>
<li>Test with the latest version if possible</li>
</ol>
<p>When filing a bug report, include:</p><ul>
<li><b>TinyMUSH version</b>: Output of <code>@version</code> command</li>
<li><b>Operating system</b>: Distribution and version (e.g., Ubuntu 22.04, macOS 14)</li>
<li><b>Build configuration</b>: Debug or Release, any custom CMake flags</li>
<li><b>Steps to reproduce</b>: Clear, numbered steps to reproduce the issue</li>
<li><b>Expected behavior</b>: What should happen</li>
<li><b>Actual behavior</b>: What actually happens</li>
<li><b>Error messages</b>: Complete error output, logs, or stack traces</li>
<li><b>Configuration</b>: Relevant sections of netmush.conf if applicable</li>
</ul>
<p><b>Example:</b></p>
<div class="fragment"><div class="line">**TinyMUSH Version:** 4.0.0-alpha (commit abc1234)</div>
<div class="line">**OS:** Ubuntu 22.04 LTS</div>
<div class="line">**Build:** Debug build with default CMake options</div>
<div class="line"> </div>
<div class="line">**Steps to Reproduce:**</div>
<div class="line">1. Start server with default config</div>
<div class="line">2. Connect as #1</div>
<div class="line">3. Execute: think structure(test,x y,i i,0 0)</div>
<div class="line">4. Execute: think construct(named,test,x y,1 2,~)</div>
<div class="line"> </div>
<div class="line">**Expected:** Should create structure successfully</div>
<div class="line">**Actual:** Server crashes with SIGSEGV</div>
<div class="line"> </div>
<div class="line">**Error Log:**</div>
<div class="line">[see attached netmush.log]</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md23"></a>
Suggesting Features</h2>
<p>Feature requests are welcome! Please:</p><ul>
<li>Check if the feature already exists or is planned</li>
<li>Explain the use case and benefits</li>
<li>Consider backward compatibility implications</li>
<li>Be open to discussion about implementation approaches</li>
</ul>
<h2><a class="anchor" id="autotoc_md24"></a>
Security Vulnerabilities</h2>
<p><b>Do NOT report security vulnerabilities through public GitHub issues.</b></p>
<p>See <a class="el" href="md_SECURITY.html">SECURITY.md</a> for responsible disclosure procedures.</p>
<h1><a class="anchor" id="autotoc_md25"></a>
Development Setup</h1>
<h2><a class="anchor" id="autotoc_md26"></a>
Prerequisites</h2>
<p>Install required dependencies:</p>
<p><b>Ubuntu/Debian:</b> </p><div class="fragment"><div class="line">apt install build-essential cmake libcrypt-dev libgdbm-dev libpcre2-dev git</div>
</div><!-- fragment --><p><b>macOS:</b> </p><div class="fragment"><div class="line">brew install cmake gdbm pcre2 git</div>
</div><!-- fragment --><p><b>Optional but recommended:</b> </p><div class="fragment"><div class="line"># For faster builds</div>
<div class="line">apt install ccache ninja-build</div>
<div class="line"> </div>
<div class="line"># For debugging</div>
<div class="line">apt install gdb valgrind</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md27"></a>
Fork and Clone</h2>
<ol type="1">
<li>Fork the repository on GitHub</li>
<li>Clone your fork: <div class="fragment"><div class="line">git clone https://github.com/YOUR_USERNAME/TinyMUSH.git</div>
<div class="line">cd TinyMUSH</div>
</div><!-- fragment --></li>
<li>Add upstream remote: <div class="fragment"><div class="line">git remote add upstream https://github.com/TinyMUSH/TinyMUSH.git</div>
</div><!-- fragment --></li>
</ol>
<h2><a class="anchor" id="autotoc_md28"></a>
Build for Development</h2>
<div class="fragment"><div class="line"># Create debug build</div>
<div class="line">mkdir -p build &amp;&amp; cd build</div>
<div class="line">cmake -DCMAKE_BUILD_TYPE=Debug ..</div>
<div class="line">make -j$(nproc)</div>
<div class="line"> </div>
<div class="line"># Or use Ninja for faster builds</div>
<div class="line">cmake -GNinja -DCMAKE_BUILD_TYPE=Debug ..</div>
<div class="line">ninja</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md29"></a>
Running Tests</h2>
<div class="fragment"><div class="line"># Setup Python virtual environment (only needed once)</div>
<div class="line">./setup_venv.sh</div>
<div class="line"> </div>
<div class="line"># Build and install</div>
<div class="line">cd build</div>
<div class="line">cmake --build . --target install-upgrade</div>
<div class="line"> </div>
<div class="line"># Run regression tests</div>
<div class="line">cd ../scripts</div>
<div class="line">source ../venv/bin/activate</div>
<div class="line">TINY_USER=&quot;#1&quot; TINY_PASS=&quot;potrzebie&quot; python3 regression_test.py</div>
</div><!-- fragment --><h1><a class="anchor" id="autotoc_md30"></a>
Code Guidelines</h1>
<h2><a class="anchor" id="autotoc_md31"></a>
General Principles</h2>
<ol type="1">
<li><b>Safety First</b>: Always use safe string functions</li>
<li><b>Memory Management</b>: Track all allocations, no leaks</li>
<li><b>Error Handling</b>: Check return values, handle edge cases</li>
<li><b>Documentation</b>: Document public APIs and complex logic</li>
<li><b>Consistency</b>: Follow existing code style and patterns</li>
</ol>
<h2><a class="anchor" id="autotoc_md32"></a>
String Operations</h2>
<p><b>ALWAYS use safe string functions:</b></p>
<div class="fragment"><div class="line"><span class="comment">// CORRECT - Safe operations</span></div>
<div class="line">XSAFESTRNCPY(dest, src, dest, <span class="keyword">sizeof</span>(dest), <span class="stringliteral">&quot;function_name&quot;</span>);</div>
<div class="line">xstrncpy(dest, src, <span class="keyword">sizeof</span>(dest));</div>
<div class="line">XSAFESTRCAT(dest, src, dest, <span class="keyword">sizeof</span>(dest), <span class="stringliteral">&quot;function_name&quot;</span>);</div>
<div class="line">XSAFESPRINTF(buff, bufc, <span class="stringliteral">&quot;format %s&quot;</span>, arg);</div>
<div class="line"> </div>
<div class="line"><span class="comment">// NEVER use these - Buffer overflow risks!</span></div>
<div class="line">strcpy(dest, src);      <span class="comment">// FORBIDDEN</span></div>
<div class="line">strcat(dest, src);      <span class="comment">// FORBIDDEN</span></div>
<div class="line">sprintf(dest, ...);     <span class="comment">// FORBIDDEN</span></div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md33"></a>
Memory Management</h2>
<p>All dynamic allocations must be tracked:</p>
<div class="fragment"><div class="line"><span class="comment">// Allocate</span></div>
<div class="line"><span class="keywordtype">void</span> *ptr = <a class="code hl_define" href="macros_8h.html#a1f2dc397904297d0a9ba598093b19976">XMALLOC</a>(size, <span class="stringliteral">&quot;function_name&quot;</span>);</div>
<div class="line"><span class="keywordtype">char</span> *str = XSTRDUP(<span class="stringliteral">&quot;text&quot;</span>, <span class="stringliteral">&quot;function_name&quot;</span>);</div>
<div class="line"> </div>
<div class="line"><span class="comment">// Always free with matching function</span></div>
<div class="line">XFREE(ptr, <span class="stringliteral">&quot;function_name&quot;</span>);</div>
<div class="line">XFREE(str, <span class="stringliteral">&quot;function_name&quot;</span>);</div>
<div class="line"> </div>
<div class="line"><span class="comment">// Never use raw malloc/free</span></div>
<div class="line">malloc(size);   <span class="comment">// FORBIDDEN</span></div>
<div class="line">free(ptr);      <span class="comment">// FORBIDDEN</span></div>
<div class="ttc" id="amacros_8h_html_a1f2dc397904297d0a9ba598093b19976"><div class="ttname"><a href="macros_8h.html#a1f2dc397904297d0a9ba598093b19976">XMALLOC</a></div><div class="ttdeci">#define XMALLOC(s, v)</div><div class="ttdoc">XMALLOC related macros.</div><div class="ttdef"><b>Definition</b> macros.h:21</div></div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md34"></a>
Naming Conventions</h2>
<div class="fragment"><div class="line"><span class="comment">// Module functions and variables</span></div>
<div class="line">mod_&lt;modulename&gt;_function_name()</div>
<div class="line">mod_&lt;modulename&gt;_variable_name</div>
<div class="line"> </div>
<div class="line"><span class="comment">// Module constants and macros</span></div>
<div class="line">MOD_&lt;MODULENAME&gt;_CONSTANT_NAME</div>
<div class="line"> </div>
<div class="line"><span class="comment">// Core server functions (lowercase with underscores)</span></div>
<div class="line">do_something_useful()</div>
<div class="line">get_player_name()</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md35"></a>
Code Style</h2>
<ul>
<li><b>Indentation</b>: 4 spaces (no tabs)</li>
<li><b>Braces</b>: K&amp;R style for functions, separate line for control structures</li>
<li><b>Line length</b>: Aim for 80-100 characters, hard limit at 120</li>
<li><b>Comments</b>: Use <code>/* */</code> for multi-line, <code>//</code> for single-line</li>
<li><b>Documentation</b>: Doxygen format for public APIs</li>
</ul>
<p><b>Example:</b></p>
<div class="fragment"><div class="line"> </div>
<div class="line"><span class="keywordtype">char</span> *get_player_name(dbref player)</div>
<div class="line">{</div>
<div class="line">    <span class="keywordflow">if</span> (!Good_obj(player))</div>
<div class="line">    {</div>
<div class="line">        <span class="keywordflow">return</span> NULL;</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">return</span> <a class="code hl_function" href="db__objects_8c.html#ad0d9086dc6e11c897a0e93db0fb0b280">Name</a>(player);</div>
<div class="line">}</div>
<div class="ttc" id="adb__objects_8c_html_ad0d9086dc6e11c897a0e93db0fb0b280"><div class="ttname"><a href="db__objects_8c.html#ad0d9086dc6e11c897a0e93db0fb0b280">Name</a></div><div class="ttdeci">char * Name(dbref thing)</div><div class="ttdoc">Get the name of a thing.</div><div class="ttdef"><b>Definition</b> db_objects.c:90</div></div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md36"></a>
Error Checking</h2>
<p>Always validate inputs and check return values:</p>
<div class="fragment"><div class="line"><span class="comment">// Check function parameters</span></div>
<div class="line"><span class="keywordflow">if</span> (!player || !arg || !*arg)</div>
<div class="line">{</div>
<div class="line">    <span class="keywordflow">return</span>;</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="comment">// Check allocations</span></div>
<div class="line"><span class="keywordtype">char</span> *buffer = <a class="code hl_define" href="macros_8h.html#a1f2dc397904297d0a9ba598093b19976">XMALLOC</a>(BUFFER_SIZE, <span class="stringliteral">&quot;function&quot;</span>);</div>
<div class="line"><span class="keywordflow">if</span> (!buffer)</div>
<div class="line">{</div>
<div class="line">    <a class="code hl_define" href="macros_8h.html#adba1624513b5ccddfc8bc0831f9cbf45">log_write</a>(<a class="code hl_define" href="constants_8h.html#a70f52cf948e57d4338de17a52f8e1a0a">LOG_ALWAYS</a>, <span class="stringliteral">&quot;ERR&quot;</span>, <span class="stringliteral">&quot;MEM&quot;</span>, <span class="stringliteral">&quot;Failed to allocate buffer&quot;</span>);</div>
<div class="line">    <span class="keywordflow">return</span>;</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="comment">// Check file operations</span></div>
<div class="line">FILE *fp = fopen(path, <span class="stringliteral">&quot;r&quot;</span>);</div>
<div class="line"><span class="keywordflow">if</span> (!fp)</div>
<div class="line">{</div>
<div class="line">    <a class="code hl_define" href="macros_8h.html#adba1624513b5ccddfc8bc0831f9cbf45">log_write</a>(<a class="code hl_define" href="constants_8h.html#a70f52cf948e57d4338de17a52f8e1a0a">LOG_ALWAYS</a>, <span class="stringliteral">&quot;ERR&quot;</span>, <span class="stringliteral">&quot;FILE&quot;</span>, <span class="stringliteral">&quot;Cannot open %s: %s&quot;</span>, path, strerror(errno));</div>
<div class="line">    <span class="keywordflow">return</span>;</div>
<div class="line">}</div>
<div class="ttc" id="aconstants_8h_html_a70f52cf948e57d4338de17a52f8e1a0a"><div class="ttname"><a href="constants_8h.html#a70f52cf948e57d4338de17a52f8e1a0a">LOG_ALWAYS</a></div><div class="ttdeci">#define LOG_ALWAYS</div><div class="ttdef"><b>Definition</b> constants.h:1469</div></div>
<div class="ttc" id="amacros_8h_html_adba1624513b5ccddfc8bc0831f9cbf45"><div class="ttname"><a href="macros_8h.html#adba1624513b5ccddfc8bc0831f9cbf45">log_write</a></div><div class="ttdeci">#define log_write(i, p, s, f,...)</div><div class="ttdoc">Log related macros.</div><div class="ttdef"><b>Definition</b> macros.h:220</div></div>
</div><!-- fragment --><h1><a class="anchor" id="autotoc_md37"></a>
Testing</h1>
<h2><a class="anchor" id="autotoc_md38"></a>
Regression Tests</h2>
<p>Add tests for new functions and commands:</p>
<div class="fragment"><div class="line"># Test file location</div>
<div class="line">scripts/functions_&lt;category&gt;.conf</div>
<div class="line">scripts/commands_&lt;category&gt;.conf</div>
<div class="line"> </div>
<div class="line"># Run specific test</div>
<div class="line">python3 regression_test.py --filter function_name</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md39"></a>
Manual Testing</h2>
<ol type="1">
<li>Build in debug mode</li>
<li>Start server with <code>-d</code> flag (foreground)</li>
<li>Test your changes thoroughly</li>
<li>Check logs for errors or warnings</li>
<li>Use valgrind to check for memory leaks:</li>
</ol>
<div class="fragment"><div class="line">valgrind --leak-check=full --track-origins=yes ./game/netmush -d</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md40"></a>
Memory Leak Detection</h2>
<div class="fragment"><div class="line"># Build with debug symbols</div>
<div class="line">cmake -DCMAKE_BUILD_TYPE=Debug ..</div>
<div class="line">make</div>
<div class="line"> </div>
<div class="line"># Run with valgrind</div>
<div class="line">valgrind --leak-check=full --show-leak-kinds=all \</div>
<div class="line">         --track-origins=yes --log-file=valgrind.log \</div>
<div class="line">         ./game/netmush -d</div>
<div class="line"> </div>
<div class="line"># Test your feature, then shutdown</div>
<div class="line"># Review valgrind.log for leaks</div>
</div><!-- fragment --><h1><a class="anchor" id="autotoc_md41"></a>
Pull Request Process</h1>
<h2><a class="anchor" id="autotoc_md42"></a>
Before Submitting</h2>
<ol type="1">
<li><b>Update from upstream:</b> <div class="fragment"><div class="line">git fetch upstream</div>
<div class="line">git rebase upstream/master</div>
</div><!-- fragment --></li>
<li><b>Run tests:</b> <div class="fragment"><div class="line">cd scripts</div>
<div class="line">python3 regression_test.py</div>
</div><!-- fragment --></li>
<li><b>Check for memory leaks</b> (if applicable)</li>
<li><b>Update documentation:</b><ul>
<li>Add/update function documentation in code</li>
<li>Update relevant README files</li>
<li>Add KNOWN_BUGS.md entry if fixing a bug</li>
</ul>
</li>
</ol>
<h2><a class="anchor" id="autotoc_md43"></a>
Creating the Pull Request</h2>
<ol type="1">
<li><b>Create a feature branch:</b> <div class="fragment"><div class="line">git checkout -b feature/your-feature-name</div>
</div><!-- fragment --></li>
<li><b>Make your changes</b> following code guidelines</li>
<li><p class="startli"><b>Commit with clear messages:</b> </p><div class="fragment"><div class="line">git commit -m &quot;type: brief description</div>
<div class="line"> </div>
<div class="line">Detailed explanation of what changed and why.</div>
<div class="line">Reference any related issues.</div>
<div class="line"> </div>
<div class="line">Fixes #123&quot;</div>
</div><!-- fragment --><p class="startli">Commit types:</p><ul>
<li><code>feat:</code> New feature</li>
<li><code>fix:</code> Bug fix</li>
<li><code>docs:</code> Documentation changes</li>
<li><code>refactor:</code> Code refactoring</li>
<li><code>test:</code> Adding or updating tests</li>
<li><code>chore:</code> Maintenance tasks</li>
</ul>
</li>
<li><b>Push to your fork:</b> <div class="fragment"><div class="line">git push origin feature/your-feature-name</div>
</div><!-- fragment --></li>
<li><b>Open pull request</b> on GitHub with:<ul>
<li>Clear title describing the change</li>
<li>Detailed description of what and why</li>
<li>Reference to related issues</li>
<li>Testing performed</li>
<li>Any breaking changes or migration notes</li>
</ul>
</li>
</ol>
<h2><a class="anchor" id="autotoc_md44"></a>
Review Process</h2>
<ul>
<li>Maintainers will review your PR</li>
<li>Address any feedback or requested changes</li>
<li>Once approved, your PR will be merged</li>
<li>You may be asked to rebase if conflicts arise</li>
</ul>
<h1><a class="anchor" id="autotoc_md45"></a>
Module Development</h1>
<p>Creating custom modules is encouraged!</p>
<h2><a class="anchor" id="autotoc_md46"></a>
Quick Start</h2>
<div class="fragment"><div class="line"># Copy skeleton template</div>
<div class="line">cp -r src/modules/skeleton src/modules/mymodule</div>
<div class="line">cd src/modules/mymodule</div>
<div class="line"> </div>
<div class="line"># Rename files</div>
<div class="line">mv skeleton.c mymodule.c</div>
<div class="line">mv skeleton.h mymodule.h</div>
<div class="line"> </div>
<div class="line"># Replace all references</div>
<div class="line">sed -i &#39;s/skeleton/mymodule/g&#39; *.c *.h CMakeLists.txt</div>
<div class="line"> </div>
<div class="line"># Edit mymodule.c and mymodule.h with your logic</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md47"></a>
Module Structure</h2>
<p>Every module needs:</p>
<ol type="1">
<li><b>Header file</b> (<code>mymodule.h</code>):<ul>
<li>Configuration structure</li>
<li>Function prototypes</li>
<li>External declarations</li>
</ul>
</li>
<li><b>Source file</b> (<code>mymodule.c</code>):<ul>
<li>MODVER metadata</li>
<li>CONF table</li>
<li>Command/function tables</li>
<li><code>mod_mymodule_init()</code> function</li>
<li>Implementation</li>
</ul>
</li>
<li><b>CMakeLists.txt</b>: <div class="fragment"><div class="line">add_library(mymodule MODULE mymodule.c)</div>
<div class="line">add_dependencies(mymodule netmush)</div>
<div class="line">target_link_libraries(mymodule netmush)</div>
<div class="line">install(TARGETS mymodule DESTINATION modules)</div>
</div><!-- fragment --></li>
</ol>
<h2><a class="anchor" id="autotoc_md48"></a>
Module Guidelines</h2>
<ul>
<li>Use <code>mod_&lt;name&gt;_</code> prefix for all functions</li>
<li>Initialize all config values in <code>mod_&lt;name&gt;_init()</code></li>
<li>Register commands/functions in init</li>
<li>Initialize hash tables with appropriate flags</li>
<li>Provide cleanup function if needed</li>
<li>Document configuration parameters</li>
</ul>
<h2><a class="anchor" id="autotoc_md49"></a>
Resources</h2>
<ul>
<li><a class="el" href="md_docs_2Code_2MODULES__DEVELOPMENT.html">Module Development Guide</a></li>
<li><a class="el" href="md_src_2modules_2skeleton_2README.html">Skeleton Module README</a></li>
<li><a class="el" href="md_src_2modules_2skeleton_2QUICK__REFERENCE.html">Skeleton Quick Reference</a></li>
<li>Existing modules: <a href="src/modules/mail/">mail</a>, <a href="src/modules/comsys/">comsys</a></li>
</ul>
<h1><a class="anchor" id="autotoc_md50"></a>
Getting Help</h1>
<ul>
<li><b>Documentation</b>: Check <a href="docs/">docs/</a> directory</li>
<li><b>Issues</b>: Search <a href="https://github.com/TinyMUSH/TinyMUSH/issues">GitHub issues</a></li>
<li><b>Email</b>: <a href="#" onclick="location.href='mai'+'lto:'+'tin'+'ym'+'ush'+'@g'+'oog'+'le'+'gro'+'up'+'s.c'+'om'; return false;">tinym<span class="obfuscator">.nosp@m.</span>ush@<span class="obfuscator">.nosp@m.</span>googl<span class="obfuscator">.nosp@m.</span>egro<span class="obfuscator">.nosp@m.</span>ups.c<span class="obfuscator">.nosp@m.</span>om</a></li>
</ul>
<h1><a class="anchor" id="autotoc_md51"></a>
License</h1>
<p>By contributing to TinyMUSH, you agree that your contributions will be licensed under the Artistic License 2.0. See <a class="el" href="md_COPYING.html">COPYING.md</a> for details.</p>
<hr  />
<p>Thank you for contributing to TinyMUSH! </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.12.0
</small></address>
</div><!-- doc-content -->
</body>
</html>
