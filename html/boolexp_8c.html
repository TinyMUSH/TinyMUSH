<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.5"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>TinyMUSH: netmush/boolexp.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">TinyMUSH<span id="projectnumber">&#160;3.3</span>
   </div>
   <div id="projectbrief">TinyMUSH Server</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.5 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_2f1ec185f9ef060605cf25c562f358fe.html">netmush</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle"><div class="title">boolexp.c File Reference</div></div>
</div><!--header-->
<div class="contents">

<p>Handle boolean expressions.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &quot;config.h&quot;</code><br />
<code>#include &quot;<a class="el" href="constants_8h_source.html">constants.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="typedefs_8h_source.html">typedefs.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="macros_8h_source.html">macros.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="externs_8h_source.html">externs.h</a>&quot;</code><br />
<code>#include &quot;prototypes.h&quot;</code><br />
<code>#include &lt;stdbool.h&gt;</code><br />
<code>#include &lt;ctype.h&gt;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for boolexp.c:</div>
<div class="dyncontent">
<div class="center"><img src="boolexp_8c__incl.png" border="0" usemap="#anetmush_2boolexp_8c" alt=""/></div>
<map name="anetmush_2boolexp_8c" id="anetmush_2boolexp_8c">
<area shape="rect" title="Handle boolean expressions." alt="" coords="296,5,427,31"/>
<area shape="rect" title=" " alt="" coords="5,79,72,104"/>
<area shape="rect" href="constants_8h.html" title="Constants used by the engine." alt="" coords="97,79,186,104"/>
<area shape="rect" href="typedefs_8h.html" title="Type definitions for variables." alt="" coords="186,152,267,177"/>
<area shape="rect" href="macros_8h.html" title="Macro definitions." alt="" coords="379,79,453,104"/>
<area shape="rect" href="externs_8h.html" title="Prototypes for externs not defined elsewhere." alt="" coords="477,79,552,104"/>
<area shape="rect" href="prototypes_8h_source.html" title=" " alt="" coords="262,79,354,104"/>
<area shape="rect" title=" " alt="" coords="576,79,651,104"/>
<area shape="rect" title=" " alt="" coords="675,79,738,104"/>
<area shape="rect" title=" " alt="" coords="55,152,111,177"/>
<area shape="rect" title=" " alt="" coords="195,225,259,251"/>
<area shape="rect" title=" " alt="" coords="403,225,463,251"/>
<area shape="rect" title=" " alt="" coords="113,225,170,251"/>
<area shape="rect" title=" " alt="" coords="283,225,368,251"/>
<area shape="rect" title=" " alt="" coords="343,152,406,177"/>
<area shape="rect" title=" " alt="" coords="482,152,550,177"/>
</map>
</div>
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a5feee2ab79f98e94ffcc27a7ce120e3b"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="boolexp_8c.html#a5feee2ab79f98e94ffcc27a7ce120e3b">check_attr</a> (dbref player, dbref lockobj, <a class="el" href="structattr.html">ATTR</a> *<a class="el" href="structattr.html">attr</a>, char *key)</td></tr>
<tr class="memdesc:a5feee2ab79f98e94ffcc27a7ce120e3b"><td class="mdescLeft">&#160;</td><td class="mdescRight">indicate if attribute ATTR on player passes key when checked by the object lockobj  <a href="boolexp_8c.html#a5feee2ab79f98e94ffcc27a7ce120e3b">More...</a><br /></td></tr>
<tr class="separator:a5feee2ab79f98e94ffcc27a7ce120e3b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a62679bbb68071b853162e9424f576266"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structboolexp.html">BOOLEXP</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="boolexp_8c.html#a62679bbb68071b853162e9424f576266">alloc_boolexp</a> (void)</td></tr>
<tr class="memdesc:a62679bbb68071b853162e9424f576266"><td class="mdescLeft">&#160;</td><td class="mdescRight">Prepare a BOOLEXP item.  <a href="boolexp_8c.html#a62679bbb68071b853162e9424f576266">More...</a><br /></td></tr>
<tr class="separator:a62679bbb68071b853162e9424f576266"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a57dff91c685f03928f3e31ff96d67a40"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="boolexp_8c.html#a57dff91c685f03928f3e31ff96d67a40">free_boolexp</a> (<a class="el" href="structboolexp.html">BOOLEXP</a> *b)</td></tr>
<tr class="memdesc:a57dff91c685f03928f3e31ff96d67a40"><td class="mdescLeft">&#160;</td><td class="mdescRight">Free a BOOLEXP item.  <a href="boolexp_8c.html#a57dff91c685f03928f3e31ff96d67a40">More...</a><br /></td></tr>
<tr class="separator:a57dff91c685f03928f3e31ff96d67a40"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2bf930ddb56780230af02e81aee7a49d"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="boolexp_8c.html#a2bf930ddb56780230af02e81aee7a49d">eval_boolexp</a> (dbref player, dbref thing, dbref from, <a class="el" href="structboolexp.html">BOOLEXP</a> *b)</td></tr>
<tr class="memdesc:a2bf930ddb56780230af02e81aee7a49d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Evaluate a boolean expression.  <a href="boolexp_8c.html#a2bf930ddb56780230af02e81aee7a49d">More...</a><br /></td></tr>
<tr class="separator:a2bf930ddb56780230af02e81aee7a49d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae85be0185a5431d865a9e1939bf9775f"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="boolexp_8c.html#ae85be0185a5431d865a9e1939bf9775f">eval_boolexp_atr</a> (dbref player, dbref thing, dbref from, char *key)</td></tr>
<tr class="memdesc:ae85be0185a5431d865a9e1939bf9775f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Evaluate attribute's boolean expression.  <a href="boolexp_8c.html#ae85be0185a5431d865a9e1939bf9775f">More...</a><br /></td></tr>
<tr class="separator:ae85be0185a5431d865a9e1939bf9775f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7e9803b84dcc3d1ddd6cf0eb6c4afdc9"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="boolexp_8c.html#a7e9803b84dcc3d1ddd6cf0eb6c4afdc9">skip_whitespace</a> (char **pBuf)</td></tr>
<tr class="memdesc:a7e9803b84dcc3d1ddd6cf0eb6c4afdc9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Skip over whitespace in a string.  <a href="boolexp_8c.html#a7e9803b84dcc3d1ddd6cf0eb6c4afdc9">More...</a><br /></td></tr>
<tr class="separator:a7e9803b84dcc3d1ddd6cf0eb6c4afdc9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a12e3a2937767bc6f88f7929422bce140"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structboolexp.html">BOOLEXP</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="boolexp_8c.html#a12e3a2937767bc6f88f7929422bce140">test_atr</a> (char *s, dbref parse_player)</td></tr>
<tr class="memdesc:a12e3a2937767bc6f88f7929422bce140"><td class="mdescLeft">&#160;</td><td class="mdescRight">Test attriutes.  <a href="boolexp_8c.html#a12e3a2937767bc6f88f7929422bce140">More...</a><br /></td></tr>
<tr class="separator:a12e3a2937767bc6f88f7929422bce140"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab3f48b709794090c6ac31e7faa46e978"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structboolexp.html">BOOLEXP</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="boolexp_8c.html#ab3f48b709794090c6ac31e7faa46e978">parse_boolexp_L</a> (char **pBuf, dbref parse_player, bool parsing_internal)</td></tr>
<tr class="memdesc:ab3f48b709794090c6ac31e7faa46e978"><td class="mdescLeft">&#160;</td><td class="mdescRight">L -&gt; (E); L -&gt; object identifier.  <a href="boolexp_8c.html#ab3f48b709794090c6ac31e7faa46e978">More...</a><br /></td></tr>
<tr class="separator:ab3f48b709794090c6ac31e7faa46e978"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5eac5dd7b10b41e8635e2ce2c4d7f042"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structboolexp.html">BOOLEXP</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="boolexp_8c.html#a5eac5dd7b10b41e8635e2ce2c4d7f042">parse_boolexp_F</a> (char **pBuf, dbref parse_player, bool parsing_internal)</td></tr>
<tr class="memdesc:a5eac5dd7b10b41e8635e2ce2c4d7f042"><td class="mdescLeft">&#160;</td><td class="mdescRight">F -&gt; !F; F -&gt; @L; F -&gt; =L; F -&gt; +L; F -&gt; $L.  <a href="boolexp_8c.html#a5eac5dd7b10b41e8635e2ce2c4d7f042">More...</a><br /></td></tr>
<tr class="separator:a5eac5dd7b10b41e8635e2ce2c4d7f042"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a613c97385205713e4d0884867a74fe98"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structboolexp.html">BOOLEXP</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="boolexp_8c.html#a613c97385205713e4d0884867a74fe98">parse_boolexp_T</a> (char **pBuf, dbref parse_player, bool parsing_internal)</td></tr>
<tr class="memdesc:a613c97385205713e4d0884867a74fe98"><td class="mdescLeft">&#160;</td><td class="mdescRight">T -&gt; F; T -&gt; F &amp; T.  <a href="boolexp_8c.html#a613c97385205713e4d0884867a74fe98">More...</a><br /></td></tr>
<tr class="separator:a613c97385205713e4d0884867a74fe98"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a691f9bba8fe73019933fec5104542173"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structboolexp.html">BOOLEXP</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="boolexp_8c.html#a691f9bba8fe73019933fec5104542173">parse_boolexp_E</a> (char **pBuf, dbref parse_player, bool parsing_internal)</td></tr>
<tr class="memdesc:a691f9bba8fe73019933fec5104542173"><td class="mdescLeft">&#160;</td><td class="mdescRight">E -&gt; T; E -&gt; T | E.  <a href="boolexp_8c.html#a691f9bba8fe73019933fec5104542173">More...</a><br /></td></tr>
<tr class="separator:a691f9bba8fe73019933fec5104542173"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af6d4b809ce7037ef1d37c64e1e21d1da"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structboolexp.html">BOOLEXP</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="boolexp_8c.html#af6d4b809ce7037ef1d37c64e1e21d1da">parse_boolexp</a> (dbref player, const char *buf, bool internal)</td></tr>
<tr class="memdesc:af6d4b809ce7037ef1d37c64e1e21d1da"><td class="mdescLeft">&#160;</td><td class="mdescRight">Parse a boolean expression.  <a href="boolexp_8c.html#af6d4b809ce7037ef1d37c64e1e21d1da">More...</a><br /></td></tr>
<tr class="separator:af6d4b809ce7037ef1d37c64e1e21d1da"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p >Handle boolean expressions. </p>
<dl class="section author"><dt>Author</dt><dd>TinyMUSH development team (<a href="https://github.com/TinyMUSH">https://github.com/TinyMUSH</a>) </dd></dl>
<dl class="section version"><dt>Version</dt><dd>3.3 </dd></dl>
<dl class="section date"><dt>Date</dt><dd>2020-12-24</dd></dl>
<dl class="section copyright"><dt>Copyright</dt><dd>Copyright (C) 1989-2021 TinyMUSH development team. You may distribute under the terms the Artistic License, as specified in the COPYING file. </dd></dl>
</div><h2 class="groupheader">Function Documentation</h2>
<a id="a62679bbb68071b853162e9424f576266" name="a62679bbb68071b853162e9424f576266"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a62679bbb68071b853162e9424f576266">&#9670;&#160;</a></span>alloc_boolexp()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structboolexp.html">BOOLEXP</a> * alloc_boolexp </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Prepare a BOOLEXP item. </p>
<dl class="section return"><dt>Returns</dt><dd>BOOLEXP* Initialized BOOLEXP item. </dd></dl>

</div>
</div>
<a id="a5feee2ab79f98e94ffcc27a7ce120e3b" name="a5feee2ab79f98e94ffcc27a7ce120e3b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5feee2ab79f98e94ffcc27a7ce120e3b">&#9670;&#160;</a></span>check_attr()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool check_attr </td>
          <td>(</td>
          <td class="paramtype">dbref&#160;</td>
          <td class="paramname"><em>player</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">dbref&#160;</td>
          <td class="paramname"><em>lockobj</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structattr.html">ATTR</a> *&#160;</td>
          <td class="paramname"><em>attr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>key</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>indicate if attribute ATTR on player passes key when checked by the object lockobj </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">player</td><td>DBref of player </td></tr>
    <tr><td class="paramname">lockobj</td><td>DBref of locked object </td></tr>
    <tr><td class="paramname">attr</td><td>Attribute </td></tr>
    <tr><td class="paramname">key</td><td>Key </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>bool </dd></dl>
<p >We can see control locks... else we'd break zones</p>

</div>
</div>
<a id="a2bf930ddb56780230af02e81aee7a49d" name="a2bf930ddb56780230af02e81aee7a49d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2bf930ddb56780230af02e81aee7a49d">&#9670;&#160;</a></span>eval_boolexp()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool eval_boolexp </td>
          <td>(</td>
          <td class="paramtype">dbref&#160;</td>
          <td class="paramname"><em>player</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">dbref&#160;</td>
          <td class="paramname"><em>thing</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">dbref&#160;</td>
          <td class="paramname"><em>from</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structboolexp.html">BOOLEXP</a> *&#160;</td>
          <td class="paramname"><em>b</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Evaluate a boolean expression. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">player</td><td>DBref of player </td></tr>
    <tr><td class="paramname">thing</td><td>DBref of thing </td></tr>
    <tr><td class="paramname">from</td><td>DBref from </td></tr>
    <tr><td class="paramname">b</td><td>Boolean expression </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>bool </dd></dl>
<p >BOOLEXP_INDIR (i.e. @) is a unary operation which is replaced at evaluation time by the lock of the object whose number is the argument of the operation.</p>
<p >no such attribute</p>
<p >First check the object itself, then its contents</p>
<p >no such attribute</p>
<p >If an object check, do that</p>
<p >Nope, do an attribute check</p>
<p >If an object check, do that</p>
<p >Nope, do an attribute check</p>
<p >bad type</p>

</div>
</div>
<a id="ae85be0185a5431d865a9e1939bf9775f" name="ae85be0185a5431d865a9e1939bf9775f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae85be0185a5431d865a9e1939bf9775f">&#9670;&#160;</a></span>eval_boolexp_atr()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool eval_boolexp_atr </td>
          <td>(</td>
          <td class="paramtype">dbref&#160;</td>
          <td class="paramname"><em>player</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">dbref&#160;</td>
          <td class="paramname"><em>thing</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">dbref&#160;</td>
          <td class="paramname"><em>from</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>key</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Evaluate attribute's boolean expression. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">player</td><td>DBref of player </td></tr>
    <tr><td class="paramname">thing</td><td>DBref of thing </td></tr>
    <tr><td class="paramname">from</td><td>DBref from </td></tr>
    <tr><td class="paramname">key</td><td>Attribute's key </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>bool </dd></dl>

</div>
</div>
<a id="a57dff91c685f03928f3e31ff96d67a40" name="a57dff91c685f03928f3e31ff96d67a40"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a57dff91c685f03928f3e31ff96d67a40">&#9670;&#160;</a></span>free_boolexp()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void free_boolexp </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structboolexp.html">BOOLEXP</a> *&#160;</td>
          <td class="paramname"><em>b</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Free a BOOLEXP item. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">b</td><td>BOOLEXP item. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="af6d4b809ce7037ef1d37c64e1e21d1da" name="af6d4b809ce7037ef1d37c64e1e21d1da"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af6d4b809ce7037ef1d37c64e1e21d1da">&#9670;&#160;</a></span>parse_boolexp()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structboolexp.html">BOOLEXP</a> * parse_boolexp </td>
          <td>(</td>
          <td class="paramtype">dbref&#160;</td>
          <td class="paramname"><em>player</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>internal</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Parse a boolean expression. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">player</td><td>DBref of player </td></tr>
    <tr><td class="paramname">buf</td><td>Attribute buffer </td></tr>
    <tr><td class="paramname">internal</td><td>Internal check? </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>BOOLEXP* Boolean expression result </dd></dl>

</div>
</div>
<a id="a691f9bba8fe73019933fec5104542173" name="a691f9bba8fe73019933fec5104542173"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a691f9bba8fe73019933fec5104542173">&#9670;&#160;</a></span>parse_boolexp_E()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structboolexp.html">BOOLEXP</a> * parse_boolexp_E </td>
          <td>(</td>
          <td class="paramtype">char **&#160;</td>
          <td class="paramname"><em>pBuf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">dbref&#160;</td>
          <td class="paramname"><em>parse_player</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>parsing_internal</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>E -&gt; T; E -&gt; T | E. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pBuf</td><td>Attribute buffer </td></tr>
    <tr><td class="paramname">parse_player</td><td>DBref of player </td></tr>
    <tr><td class="paramname">parsing_internal</td><td>Engine or player triggered? </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>BOOLEXP* Boolean expression result </dd></dl>

</div>
</div>
<a id="a5eac5dd7b10b41e8635e2ce2c4d7f042" name="a5eac5dd7b10b41e8635e2ce2c4d7f042"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5eac5dd7b10b41e8635e2ce2c4d7f042">&#9670;&#160;</a></span>parse_boolexp_F()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structboolexp.html">BOOLEXP</a> * parse_boolexp_F </td>
          <td>(</td>
          <td class="paramtype">char **&#160;</td>
          <td class="paramname"><em>pBuf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">dbref&#160;</td>
          <td class="paramname"><em>parse_player</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>parsing_internal</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>F -&gt; !F; F -&gt; @L; F -&gt; =L; F -&gt; +L; F -&gt; $L. </p>
<p >The argument L must be type BOOLEXP_CONST</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pBuf</td><td>Attribute buffer </td></tr>
    <tr><td class="paramname">parse_player</td><td>DBref of player </td></tr>
    <tr><td class="paramname">parsing_internal</td><td>Engine or player triggered? </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>BOOLEXP* Boolean expression result </dd></dl>

</div>
</div>
<a id="ab3f48b709794090c6ac31e7faa46e978" name="ab3f48b709794090c6ac31e7faa46e978"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab3f48b709794090c6ac31e7faa46e978">&#9670;&#160;</a></span>parse_boolexp_L()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structboolexp.html">BOOLEXP</a> * parse_boolexp_L </td>
          <td>(</td>
          <td class="paramtype">char **&#160;</td>
          <td class="paramname"><em>pBuf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">dbref&#160;</td>
          <td class="paramname"><em>parse_player</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>parsing_internal</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>L -&gt; (E); L -&gt; object identifier. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pBuf</td><td>Attribute buffer </td></tr>
    <tr><td class="paramname">parse_player</td><td>DBref of player </td></tr>
    <tr><td class="paramname">parsing_internal</td><td>Engine or player triggered? </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>BOOLEXP* Boolean expression result </dd></dl>
<p >must have hit an object ref. Load the name into our buffer</p>
<p >check for an attribute</p>
<p >Do the match. If we are parsing a boolexp that was a stored lock then we know that object refs are all dbrefs, so we skip the expensive match code.</p>

</div>
</div>
<a id="a613c97385205713e4d0884867a74fe98" name="a613c97385205713e4d0884867a74fe98"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a613c97385205713e4d0884867a74fe98">&#9670;&#160;</a></span>parse_boolexp_T()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structboolexp.html">BOOLEXP</a> * parse_boolexp_T </td>
          <td>(</td>
          <td class="paramtype">char **&#160;</td>
          <td class="paramname"><em>pBuf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">dbref&#160;</td>
          <td class="paramname"><em>parse_player</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>parsing_internal</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>T -&gt; F; T -&gt; F &amp; T. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pBuf</td><td>Attribute buffer </td></tr>
    <tr><td class="paramname">parse_player</td><td>DBref of player </td></tr>
    <tr><td class="paramname">parsing_internal</td><td>Engine or player triggered? </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>BOOLEXP* Boolean expression result </dd></dl>

</div>
</div>
<a id="a7e9803b84dcc3d1ddd6cf0eb6c4afdc9" name="a7e9803b84dcc3d1ddd6cf0eb6c4afdc9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7e9803b84dcc3d1ddd6cf0eb6c4afdc9">&#9670;&#160;</a></span>skip_whitespace()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void skip_whitespace </td>
          <td>(</td>
          <td class="paramtype">char **&#160;</td>
          <td class="paramname"><em>pBuf</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Skip over whitespace in a string. </p>
<dl class="section attention"><dt>Attention</dt><dd>If the parser returns TRUE_BOOLEXP, you lose TRUE_BOOLEXP cannot be typed in by the user; use @unlock instead </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pBuf</td><td>Buffer to skip whitespace in </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a12e3a2937767bc6f88f7929422bce140" name="a12e3a2937767bc6f88f7929422bce140"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a12e3a2937767bc6f88f7929422bce140">&#9670;&#160;</a></span>test_atr()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structboolexp.html">BOOLEXP</a> * test_atr </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>s</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">dbref&#160;</td>
          <td class="paramname"><em>parse_player</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Test attriutes. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">s</td><td>Attribute to test </td></tr>
    <tr><td class="paramname">parse_player</td><td>DBref of player triggering the test </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>BOOLEXP* Boolean expression with the result of the test </dd></dl>
<p >See if left side is valid attribute. Access to attr is checked on eval. Also allow numeric references to attributes. It can't hurt us, and lets us import stuff that stores attr locks by number instead of by name.</p>
<p >Only #1 can lock on numbers</p>
<p >made it now make the parse tree node</p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.5
</small></address>
</body>
</html>
