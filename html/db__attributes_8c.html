<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.12.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>TinyMUSH: src/netmush/db_attributes.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">TinyMUSH<span id="projectnumber">&#160;3.3</span>
   </div>
   <div id="projectbrief">TinyMUSH Server</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.12.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search',false);
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){ initResizable(false); });
/* @license-end */
</script>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li><li class="navelem"><a class="el" href="dir_d49c5bdcdc946239a893bf2d58085e26.html">netmush</a></li>  </ul>
</div>
</div><!-- top -->
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle"><div class="title">db_attributes.c File Reference</div></div>
</div><!--header-->
<div class="contents">

<p>Attribute management system.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &quot;config.h&quot;</code><br />
<code>#include &quot;<a class="el" href="constants_8h_source.html">constants.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="typedefs_8h_source.html">typedefs.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="macros_8h_source.html">macros.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="externs_8h_source.html">externs.h</a>&quot;</code><br />
<code>#include &quot;prototypes.h&quot;</code><br />
<code>#include &lt;stdbool.h&gt;</code><br />
<code>#include &lt;ctype.h&gt;</code><br />
<code>#include &lt;fcntl.h&gt;</code><br />
<code>#include &lt;sys/stat.h&gt;</code><br />
<code>#include &lt;string.h&gt;</code><br />
<code>#include &lt;unistd.h&gt;</code><br />
<code>#include &lt;stdlib.h&gt;</code><br />
<code>#include &lt;errno.h&gt;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for db_attributes.c:</div>
<div class="dyncontent">
<div class="center"><img src="db__attributes_8c__incl.png" border="0" usemap="#asrc_2netmush_2db__attributes_8c" alt=""/></div>
<map name="asrc_2netmush_2db__attributes_8c" id="asrc_2netmush_2db__attributes_8c">
<area shape="rect" title="Attribute management system." alt="" coords="572,5,754,31"/>
<area shape="rect" title=" " alt="" coords="5,79,71,105"/>
<area shape="poly" title=" " alt="" coords="572,27,355,46,222,61,87,81,86,76,222,56,354,40,572,22"/>
<area shape="rect" href="constants_8h.html" title="Global numeric and string constants for flags, limits, and parser tokens." alt="" coords="95,79,184,105"/>
<area shape="poly" title=" " alt="" coords="572,33,400,54,202,82,200,82,199,77,202,76,399,48,571,27"/>
<area shape="rect" href="typedefs_8h.html" title="Core typedefs for dbrefs, flags, buffers, and engine data structures." alt="" coords="338,153,418,178"/>
<area shape="poly" title=" " alt="" coords="572,33,471,52,430,65,402,81,393,93,387,107,381,138,376,137,382,106,389,90,399,77,427,60,470,47,571,27"/>
<area shape="rect" title=" " alt="" coords="157,226,231,252"/>
<area shape="poly" title=" " alt="" coords="572,28,495,41,408,64,365,81,323,101,283,125,248,155,224,184,207,214,203,211,220,181,244,151,280,121,320,96,363,76,407,59,494,36,571,23"/>
<area shape="rect" href="macros_8h.html" title="Engine&#45;wide macros for memory tracking, flag checks, logging, and utilities." alt="" coords="578,79,652,105"/>
<area shape="poly" title=" " alt="" coords="658,33,634,67,630,64,653,30"/>
<area shape="rect" href="externs_8h.html" title="Shared extern declarations and globals used across the game engine." alt="" coords="676,79,749,105"/>
<area shape="poly" title=" " alt="" coords="674,30,698,65,694,68,669,33"/>
<area shape="rect" href="prototypes_8h_source.html" title=" " alt="" coords="412,79,504,105"/>
<area shape="poly" title=" " alt="" coords="629,34,508,76,506,71,628,29"/>
<area shape="rect" title=" " alt="" coords="684,153,746,178"/>
<area shape="poly" title=" " alt="" coords="631,34,603,47,578,64,564,83,564,93,568,103,583,116,609,128,670,149,669,155,606,133,580,120,564,106,559,94,559,81,575,60,600,42,629,29"/>
<area shape="rect" title=" " alt="" coords="774,79,836,105"/>
<area shape="poly" title=" " alt="" coords="689,29,768,69,766,74,686,34"/>
<area shape="rect" title=" " alt="" coords="860,79,917,105"/>
<area shape="poly" title=" " alt="" coords="702,29,846,74,845,79,701,34"/>
<area shape="rect" title=" " alt="" coords="941,79,1018,105"/>
<area shape="poly" title=" " alt="" coords="718,29,926,76,925,81,717,34"/>
<area shape="rect" title=" " alt="" coords="1042,79,1106,105"/>
<area shape="poly" title=" " alt="" coords="753,29,879,48,1027,76,1027,81,878,54,753,34"/>
<area shape="rect" title=" " alt="" coords="1130,79,1196,105"/>
<area shape="poly" title=" " alt="" coords="755,26,919,45,1115,76,1114,81,918,50,755,31"/>
<area shape="rect" title=" " alt="" coords="1221,79,1282,105"/>
<area shape="poly" title=" " alt="" coords="755,23,958,41,1081,56,1206,76,1205,81,1080,61,958,46,755,28"/>
<area shape="rect" title=" " alt="" coords="112,153,167,178"/>
<area shape="poly" title=" " alt="" coords="142,105,142,137,137,137,137,105"/>
<area shape="rect" title=" " alt="" coords="254,226,318,252"/>
<area shape="poly" title=" " alt="" coords="364,181,315,219,312,215,361,177"/>
<area shape="rect" title=" " alt="" coords="635,226,694,252"/>
<area shape="poly" title=" " alt="" coords="419,174,620,223,619,228,418,179"/>
<area shape="poly" title=" " alt="" coords="348,181,240,223,238,218,346,176"/>
<area shape="rect" title=" " alt="" coords="342,226,398,252"/>
<area shape="poly" title=" " alt="" coords="379,179,376,211,370,211,374,178"/>
<area shape="rect" title=" " alt="" coords="422,226,502,252"/>
<area shape="poly" title=" " alt="" coords="394,177,438,214,435,218,391,181"/>
<area shape="rect" title=" " alt="" coords="526,226,611,252"/>
<area shape="poly" title=" " alt="" coords="411,176,523,218,521,223,409,181"/>
<area shape="poly" title=" " alt="" coords="446,107,404,144,401,140,443,103"/>
<area shape="poly" title=" " alt="" coords="505,98,565,116,596,131,624,151,646,180,660,211,655,213,642,182,620,155,593,135,563,121,503,103"/>
<area shape="poly" title=" " alt="" coords="461,105,464,211,459,211,456,105"/>
<area shape="poly" title=" " alt="" coords="469,103,552,212,548,216,465,107"/>
<area shape="poly" title=" " alt="" coords="502,103,670,149,669,154,501,108"/>
<area shape="rect" title=" " alt="" coords="543,153,610,178"/>
<area shape="poly" title=" " alt="" coords="479,103,545,142,542,147,477,107"/>
<area shape="rect" href="ansi_8h_source.html" title=" " alt="" coords="258,153,314,178"/>
<area shape="poly" title=" " alt="" coords="430,108,329,149,327,144,428,103"/>
<area shape="poly" title=" " alt="" coords="289,179,289,211,283,211,283,179"/>
<area shape="poly" title=" " alt="" coords="272,181,223,219,220,215,269,177"/>
<area shape="rect" title=" " alt="" coords="66,226,133,252"/>
<area shape="poly" title=" " alt="" coords="259,180,146,223,145,218,257,175"/>
</map>
</div>
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a503f7f7704b5b9880dae68814427bae7" id="r_a503f7f7704b5b9880dae68814427bae7"><td class="memItemLeft" align="right" valign="top"><a id="a503f7f7704b5b9880dae68814427bae7" name="a503f7f7704b5b9880dae68814427bae7"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>init_attrtab</b> (void)</td></tr>
<tr class="memdesc:a503f7f7704b5b9880dae68814427bae7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialize the attribute hash tables. <br /></td></tr>
<tr class="separator:a503f7f7704b5b9880dae68814427bae7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaefff6fa8b559c62d015188de966d6c9" id="r_aaefff6fa8b559c62d015188de966d6c9"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structattr.html">ATTR</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aaefff6fa8b559c62d015188de966d6c9">atr_str</a> (char *s)</td></tr>
<tr class="memdesc:aaefff6fa8b559c62d015188de966d6c9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Look up an attribute by name.  <br /></td></tr>
<tr class="separator:aaefff6fa8b559c62d015188de966d6c9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a591106532fac7d3b5674038604f0829e" id="r_a591106532fac7d3b5674038604f0829e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a591106532fac7d3b5674038604f0829e">anum_extend</a> (int newtop)</td></tr>
<tr class="memdesc:a591106532fac7d3b5674038604f0829e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Grow the attr num lookup table.  <br /></td></tr>
<tr class="separator:a591106532fac7d3b5674038604f0829e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acba61a32aa3a591c779ca19d7e93068e" id="r_acba61a32aa3a591c779ca19d7e93068e"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structattr.html">ATTR</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#acba61a32aa3a591c779ca19d7e93068e">atr_num</a> (int anum)</td></tr>
<tr class="memdesc:acba61a32aa3a591c779ca19d7e93068e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Look up an attribute by number.  <br /></td></tr>
<tr class="separator:acba61a32aa3a591c779ca19d7e93068e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2203103a3d3f6ae5c4478fac9da606f2" id="r_a2203103a3d3f6ae5c4478fac9da606f2"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a2203103a3d3f6ae5c4478fac9da606f2">mkattr</a> (char *buff)</td></tr>
<tr class="memdesc:a2203103a3d3f6ae5c4478fac9da606f2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Lookup attribute by name, creating if needed.  <br /></td></tr>
<tr class="separator:a2203103a3d3f6ae5c4478fac9da606f2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeeb7836f61feb811fefbc09e762589f6" id="r_aeeb7836f61feb811fefbc09e762589f6"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aeeb7836f61feb811fefbc09e762589f6">al_decode</a> (char **app)</td></tr>
<tr class="memdesc:aeeb7836f61feb811fefbc09e762589f6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Fetch an attribute number from an alist.  <br /></td></tr>
<tr class="separator:aeeb7836f61feb811fefbc09e762589f6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acdc3ed831aca082d437ade910b846c01" id="r_acdc3ed831aca082d437ade910b846c01"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#acdc3ed831aca082d437ade910b846c01">al_code</a> (char **app, int atrnum)</td></tr>
<tr class="memdesc:acdc3ed831aca082d437ade910b846c01"><td class="mdescLeft">&#160;</td><td class="mdescRight">Store an attribute number in an alist.  <br /></td></tr>
<tr class="separator:acdc3ed831aca082d437ade910b846c01"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a13b6d190b28a3c181368d6b97c6183fb" id="r_a13b6d190b28a3c181368d6b97c6183fb"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a13b6d190b28a3c181368d6b97c6183fb">Commer</a> (dbref thing)</td></tr>
<tr class="memdesc:a13b6d190b28a3c181368d6b97c6183fb"><td class="mdescLeft">&#160;</td><td class="mdescRight">check if an object has any $-commands in its attributes.  <br /></td></tr>
<tr class="separator:a13b6d190b28a3c181368d6b97c6183fb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afb1ef1637581db034928f3f61aafe857" id="r_afb1ef1637581db034928f3f61aafe857"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#afb1ef1637581db034928f3f61aafe857">al_extend</a> (char **buffer, int *bufsiz, int len, bool copy)</td></tr>
<tr class="memdesc:afb1ef1637581db034928f3f61aafe857"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get more space for attributes, if needed.  <br /></td></tr>
<tr class="separator:afb1ef1637581db034928f3f61aafe857"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa36ceb22e97a697a41a5683af042a836" id="r_aa36ceb22e97a697a41a5683af042a836"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aa36ceb22e97a697a41a5683af042a836">al_size</a> (char *astr)</td></tr>
<tr class="memdesc:aa36ceb22e97a697a41a5683af042a836"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return length of attribute list in chars.  <br /></td></tr>
<tr class="separator:aa36ceb22e97a697a41a5683af042a836"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7926ca58d55efd00cde49964ba1fcde6" id="r_a7926ca58d55efd00cde49964ba1fcde6"><td class="memItemLeft" align="right" valign="top"><a id="a7926ca58d55efd00cde49964ba1fcde6" name="a7926ca58d55efd00cde49964ba1fcde6"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>al_store</b> (void)</td></tr>
<tr class="memdesc:a7926ca58d55efd00cde49964ba1fcde6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Write modified attribute list. <br /></td></tr>
<tr class="separator:a7926ca58d55efd00cde49964ba1fcde6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a04ae4cb0be91685d20ed057a114ec2fc" id="r_a04ae4cb0be91685d20ed057a114ec2fc"><td class="memItemLeft" align="right" valign="top">char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a04ae4cb0be91685d20ed057a114ec2fc">al_fetch</a> (dbref thing)</td></tr>
<tr class="memdesc:a04ae4cb0be91685d20ed057a114ec2fc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Load attribute list.  <br /></td></tr>
<tr class="separator:a04ae4cb0be91685d20ed057a114ec2fc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac182504a3252acfc4a9443208b4ed430" id="r_ac182504a3252acfc4a9443208b4ed430"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ac182504a3252acfc4a9443208b4ed430">al_add</a> (dbref thing, int attrnum)</td></tr>
<tr class="memdesc:ac182504a3252acfc4a9443208b4ed430"><td class="mdescLeft">&#160;</td><td class="mdescRight">Add an attribute to an attribute list.  <br /></td></tr>
<tr class="separator:ac182504a3252acfc4a9443208b4ed430"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a19b0a2e2514a3b79d77e68d367e15156" id="r_a19b0a2e2514a3b79d77e68d367e15156"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a19b0a2e2514a3b79d77e68d367e15156">al_delete</a> (dbref thing, int attrnum)</td></tr>
<tr class="memdesc:a19b0a2e2514a3b79d77e68d367e15156"><td class="mdescLeft">&#160;</td><td class="mdescRight">Remove an attribute from an attribute list.  <br /></td></tr>
<tr class="separator:a19b0a2e2514a3b79d77e68d367e15156"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a562f79870e745b7a8294ee02a616f99d" id="r_a562f79870e745b7a8294ee02a616f99d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a562f79870e745b7a8294ee02a616f99d">makekey</a> (dbref thing, int atr, <a class="el" href="typedefs_8h.html#afddec1b6ac94228b3c142e2997b0166c">UDB_ANAME</a> *abuff)</td></tr>
<tr class="memdesc:a562f79870e745b7a8294ee02a616f99d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Make a key.  <br /></td></tr>
<tr class="separator:a562f79870e745b7a8294ee02a616f99d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a695e32bd3aca57b41bb282dbc3d75e88" id="r_a695e32bd3aca57b41bb282dbc3d75e88"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a695e32bd3aca57b41bb282dbc3d75e88">al_destroy</a> (dbref thing)</td></tr>
<tr class="memdesc:a695e32bd3aca57b41bb282dbc3d75e88"><td class="mdescLeft">&#160;</td><td class="mdescRight">wipe out an object's attribute list.  <br /></td></tr>
<tr class="separator:a695e32bd3aca57b41bb282dbc3d75e88"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaca8afef83819b8d56847e03c26781e6" id="r_aaca8afef83819b8d56847e03c26781e6"><td class="memItemLeft" align="right" valign="top">char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aaca8afef83819b8d56847e03c26781e6">atr_encode</a> (char *iattr, dbref thing, dbref owner, int flags, int atr <a class="el" href="typedefs_8h.html#ad6e0fca9cb4682ac2a9b32277cbe94b6">__attribute__</a>((unused)))</td></tr>
<tr class="memdesc:aaca8afef83819b8d56847e03c26781e6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Encode an attribute string.  <br /></td></tr>
<tr class="separator:aaca8afef83819b8d56847e03c26781e6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a08d4ba89fe243f2d430abd360a03e85c" id="r_a08d4ba89fe243f2d430abd360a03e85c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a08d4ba89fe243f2d430abd360a03e85c">atr_decode</a> (char *iattr, char *oattr, dbref thing, dbref *owner, int *flags, int atr <a class="el" href="typedefs_8h.html#ad6e0fca9cb4682ac2a9b32277cbe94b6">__attribute__</a>((unused)), int *alen)</td></tr>
<tr class="memdesc:a08d4ba89fe243f2d430abd360a03e85c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Decode an attribute string.  <br /></td></tr>
<tr class="separator:a08d4ba89fe243f2d430abd360a03e85c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2d9c4361e9f2e0e08fb7754a61224564" id="r_a2d9c4361e9f2e0e08fb7754a61224564"><td class="memItemLeft" align="right" valign="top"><a id="a2d9c4361e9f2e0e08fb7754a61224564" name="a2d9c4361e9f2e0e08fb7754a61224564"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>db_sync_attributes</b> (void)</td></tr>
<tr class="separator:a2d9c4361e9f2e0e08fb7754a61224564"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1cf45bfae30d317d86da1bd3045027b5" id="r_a1cf45bfae30d317d86da1bd3045027b5"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a1cf45bfae30d317d86da1bd3045027b5">atr_clr</a> (dbref thing, int atr)</td></tr>
<tr class="memdesc:a1cf45bfae30d317d86da1bd3045027b5"><td class="mdescLeft">&#160;</td><td class="mdescRight">clear an attribute in the list.  <br /></td></tr>
<tr class="separator:a1cf45bfae30d317d86da1bd3045027b5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6a29ac0a8494f90ccf831b5fd637d263" id="r_a6a29ac0a8494f90ccf831b5fd637d263"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a6a29ac0a8494f90ccf831b5fd637d263">atr_add_raw</a> (dbref thing, int atr, char *buff)</td></tr>
<tr class="memdesc:a6a29ac0a8494f90ccf831b5fd637d263"><td class="mdescLeft">&#160;</td><td class="mdescRight">add attribute of type atr to list  <br /></td></tr>
<tr class="separator:a6a29ac0a8494f90ccf831b5fd637d263"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab1bdb0d65c972364316afa4936a63bcd" id="r_ab1bdb0d65c972364316afa4936a63bcd"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ab1bdb0d65c972364316afa4936a63bcd">atr_add</a> (dbref thing, int atr, char *buff, dbref owner, int flags)</td></tr>
<tr class="memdesc:ab1bdb0d65c972364316afa4936a63bcd"><td class="mdescLeft">&#160;</td><td class="mdescRight">add attribute of type atr to list  <br /></td></tr>
<tr class="separator:ab1bdb0d65c972364316afa4936a63bcd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a19f0cde56463fdf870560de7b9fcbeff" id="r_a19f0cde56463fdf870560de7b9fcbeff"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a19f0cde56463fdf870560de7b9fcbeff">atr_set_owner</a> (dbref thing, int atr, dbref owner)</td></tr>
<tr class="memdesc:a19f0cde56463fdf870560de7b9fcbeff"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set owner of attribute.  <br /></td></tr>
<tr class="separator:a19f0cde56463fdf870560de7b9fcbeff"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a808a3c0c9042c58cbe44f1e99b62f0ab" id="r_a808a3c0c9042c58cbe44f1e99b62f0ab"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a808a3c0c9042c58cbe44f1e99b62f0ab">atr_set_flags</a> (dbref thing, int atr, dbref flags)</td></tr>
<tr class="memdesc:a808a3c0c9042c58cbe44f1e99b62f0ab"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set flag of attribute.  <br /></td></tr>
<tr class="separator:a808a3c0c9042c58cbe44f1e99b62f0ab"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a60f9298c85f7afa598cb63d1f499f0ff" id="r_a60f9298c85f7afa598cb63d1f499f0ff"><td class="memItemLeft" align="right" valign="top">char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a60f9298c85f7afa598cb63d1f499f0ff">atr_get_raw</a> (dbref thing, int atr)</td></tr>
<tr class="memdesc:a60f9298c85f7afa598cb63d1f499f0ff"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get an attribute from the database.  <br /></td></tr>
<tr class="separator:a60f9298c85f7afa598cb63d1f499f0ff"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1d7b4e881aa7265b0630d2b0c78c2319" id="r_a1d7b4e881aa7265b0630d2b0c78c2319"><td class="memItemLeft" align="right" valign="top">char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a1d7b4e881aa7265b0630d2b0c78c2319">atr_get_str</a> (char *s, dbref thing, int atr, dbref *owner, int *flags, int *alen)</td></tr>
<tr class="memdesc:a1d7b4e881aa7265b0630d2b0c78c2319"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get an attribute from the database.  <br /></td></tr>
<tr class="separator:a1d7b4e881aa7265b0630d2b0c78c2319"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a44c44b33626c527ea4ef71bd070a3d05" id="r_a44c44b33626c527ea4ef71bd070a3d05"><td class="memItemLeft" align="right" valign="top">char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a44c44b33626c527ea4ef71bd070a3d05">atr_get</a> (dbref thing, int atr, dbref *owner, int *flags, int *alen)</td></tr>
<tr class="memdesc:a44c44b33626c527ea4ef71bd070a3d05"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get an attribute from the database.  <br /></td></tr>
<tr class="separator:a44c44b33626c527ea4ef71bd070a3d05"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad538b1d571d431fc1dd67c54d95509fc" id="r_ad538b1d571d431fc1dd67c54d95509fc"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ad538b1d571d431fc1dd67c54d95509fc">atr_get_info</a> (dbref thing, int atr, dbref *owner, int *flags)</td></tr>
<tr class="memdesc:ad538b1d571d431fc1dd67c54d95509fc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get information about an attribute.  <br /></td></tr>
<tr class="separator:ad538b1d571d431fc1dd67c54d95509fc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aad3a75d7f06a4bf5bbbfd0947d3620f0" id="r_aad3a75d7f06a4bf5bbbfd0947d3620f0"><td class="memItemLeft" align="right" valign="top">char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aad3a75d7f06a4bf5bbbfd0947d3620f0">atr_pget_str</a> (char *s, dbref thing, int atr, dbref *owner, int *flags, int *alen)</td></tr>
<tr class="memdesc:aad3a75d7f06a4bf5bbbfd0947d3620f0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get a propdir attribute.  <br /></td></tr>
<tr class="separator:aad3a75d7f06a4bf5bbbfd0947d3620f0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad4b994698c9dbf94e870257cefe45254" id="r_ad4b994698c9dbf94e870257cefe45254"><td class="memItemLeft" align="right" valign="top">char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ad4b994698c9dbf94e870257cefe45254">atr_pget</a> (dbref thing, int atr, dbref *owner, int *flags, int *alen)</td></tr>
<tr class="memdesc:ad4b994698c9dbf94e870257cefe45254"><td class="mdescLeft">&#160;</td><td class="mdescRight"><ul>
<li></li>
</ul>
 <br /></td></tr>
<tr class="separator:ad4b994698c9dbf94e870257cefe45254"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1f4fa334bdbe03d3299ddc65047bfebc" id="r_a1f4fa334bdbe03d3299ddc65047bfebc"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a1f4fa334bdbe03d3299ddc65047bfebc">atr_pget_info</a> (dbref thing, int atr, dbref *owner, int *flags)</td></tr>
<tr class="memdesc:a1f4fa334bdbe03d3299ddc65047bfebc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get information about a propdir attribute.  <br /></td></tr>
<tr class="separator:a1f4fa334bdbe03d3299ddc65047bfebc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8b2db1338425515c4daaef4fabf3c726" id="r_a8b2db1338425515c4daaef4fabf3c726"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a8b2db1338425515c4daaef4fabf3c726">atr_free</a> (dbref thing)</td></tr>
<tr class="memdesc:a8b2db1338425515c4daaef4fabf3c726"><td class="mdescLeft">&#160;</td><td class="mdescRight">Remove all attributes of an object.  <br /></td></tr>
<tr class="separator:a8b2db1338425515c4daaef4fabf3c726"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a18b4d2e1a3ec53f7c6a4a2d55a7ae3db" id="r_a18b4d2e1a3ec53f7c6a4a2d55a7ae3db"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a18b4d2e1a3ec53f7c6a4a2d55a7ae3db">atr_cpy</a> (dbref player <a class="el" href="typedefs_8h.html#ad6e0fca9cb4682ac2a9b32277cbe94b6">__attribute__</a>((unused)), dbref dest, dbref source)</td></tr>
<tr class="memdesc:a18b4d2e1a3ec53f7c6a4a2d55a7ae3db"><td class="mdescLeft">&#160;</td><td class="mdescRight">Copy all attributes from one object to another. Takes the player argument to ensure that only attributes that COULD be set by the player are copied.  <br /></td></tr>
<tr class="separator:a18b4d2e1a3ec53f7c6a4a2d55a7ae3db"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af6a429be80c0bab199bc92a1eff0794c" id="r_af6a429be80c0bab199bc92a1eff0794c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#af6a429be80c0bab199bc92a1eff0794c">atr_chown</a> (dbref obj)</td></tr>
<tr class="memdesc:af6a429be80c0bab199bc92a1eff0794c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Change the ownership of the attributes of an object to the current owner if they are not locked.  <br /></td></tr>
<tr class="separator:af6a429be80c0bab199bc92a1eff0794c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa92cf8be32bb2d619bf80d9efa5aef85" id="r_aa92cf8be32bb2d619bf80d9efa5aef85"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aa92cf8be32bb2d619bf80d9efa5aef85">atr_next</a> (char **attrp)</td></tr>
<tr class="memdesc:aa92cf8be32bb2d619bf80d9efa5aef85"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return next attribute in attribute list.  <br /></td></tr>
<tr class="separator:aa92cf8be32bb2d619bf80d9efa5aef85"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aed2a711c28c7b222057859755dc4a8fa" id="r_aed2a711c28c7b222057859755dc4a8fa"><td class="memItemLeft" align="right" valign="top"><a id="aed2a711c28c7b222057859755dc4a8fa" name="aed2a711c28c7b222057859755dc4a8fa"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>atr_push</b> (void)</td></tr>
<tr class="memdesc:aed2a711c28c7b222057859755dc4a8fa"><td class="mdescLeft">&#160;</td><td class="mdescRight">Push attr lists. <br /></td></tr>
<tr class="separator:aed2a711c28c7b222057859755dc4a8fa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0de31960e8798a50ee7d3777c940742a" id="r_a0de31960e8798a50ee7d3777c940742a"><td class="memItemLeft" align="right" valign="top"><a id="a0de31960e8798a50ee7d3777c940742a" name="a0de31960e8798a50ee7d3777c940742a"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>atr_pop</b> (void)</td></tr>
<tr class="memdesc:a0de31960e8798a50ee7d3777c940742a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Pop attr lists. <br /></td></tr>
<tr class="separator:a0de31960e8798a50ee7d3777c940742a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2b6bb41fe82012f6792dbf24f621f427" id="r_a2b6bb41fe82012f6792dbf24f621f427"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a2b6bb41fe82012f6792dbf24f621f427">atr_head</a> (dbref thing, char **attrp)</td></tr>
<tr class="memdesc:a2b6bb41fe82012f6792dbf24f621f427"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the head of the attr list for object 'thing'.  <br /></td></tr>
<tr class="separator:a2b6bb41fe82012f6792dbf24f621f427"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afdc2b8be5a08cd3734e5368cbdcc9e49" id="r_afdc2b8be5a08cd3734e5368cbdcc9e49"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#afdc2b8be5a08cd3734e5368cbdcc9e49">initialize_objects</a> (dbref first, dbref last)</td></tr>
<tr class="memdesc:afdc2b8be5a08cd3734e5368cbdcc9e49"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialize an object.  <br /></td></tr>
<tr class="separator:afdc2b8be5a08cd3734e5368cbdcc9e49"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="var-members" name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a3d4be52eff7e18dce32c72944d6de4dd" id="r_a3d4be52eff7e18dce32c72944d6de4dd"><td class="memItemLeft" align="right" valign="top"><a id="a3d4be52eff7e18dce32c72944d6de4dd" name="a3d4be52eff7e18dce32c72944d6de4dd"></a>
<a class="el" href="structattr.html">ATTR</a> **&#160;</td><td class="memItemRight" valign="bottom"><b>anum_table</b> = NULL</td></tr>
<tr class="separator:a3d4be52eff7e18dce32c72944d6de4dd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1323df38074b528092a5ea1f2658ff2a" id="r_a1323df38074b528092a5ea1f2658ff2a"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a1323df38074b528092a5ea1f2658ff2a">anum_alc_top</a> = 0</td></tr>
<tr class="separator:a1323df38074b528092a5ea1f2658ff2a"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Attribute management system. </p>
<dl class="section author"><dt>Author</dt><dd>TinyMUSH development team (<a href="https://github.com/TinyMUSH">https://github.com/TinyMUSH</a>) </dd></dl>
<dl class="section version"><dt>Version</dt><dd>4.0</dd></dl>
<dl class="section copyright"><dt>Copyright</dt><dd>Copyright (C) 1989-2025 TinyMUSH development team. You may distribute under the terms of the Artistic License, as specified in the COPYING file. </dd></dl>
</div><h2 class="groupheader">Function Documentation</h2>
<a id="ac182504a3252acfc4a9443208b4ed430" name="ac182504a3252acfc4a9443208b4ed430"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac182504a3252acfc4a9443208b4ed430">&#9670;&#160;</a></span>al_add()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void al_add </td>
          <td>(</td>
          <td class="paramtype">dbref</td>          <td class="paramname"><span class="paramname"><em>thing</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>attrnum</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Add an attribute to an attribute list. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">thing</td><td>DBref of thing </td></tr>
    <tr><td class="paramname">attrnum</td><td>Attribute number </td></tr>
  </table>
  </dd>
</dl>
<p>If trying to modify List attrib, return. Otherwise, get the attribute list.</p>
<p>See if attr is in the list. If so, exit (need not do anything)</p>
<p>Nope, extend it</p>
<p>extend returned different buffer, re-find the end</p>
<p>Add the new attribute on to the end</p>

</div>
</div>
<a id="acdc3ed831aca082d437ade910b846c01" name="acdc3ed831aca082d437ade910b846c01"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acdc3ed831aca082d437ade910b846c01">&#9670;&#160;</a></span>al_code()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void al_code </td>
          <td>(</td>
          <td class="paramtype">char **</td>          <td class="paramname"><span class="paramname"><em>app</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>atrnum</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Store an attribute number in an alist. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">app</td><td>Attribute list </td></tr>
    <tr><td class="paramname">atrnum</td><td>Attribute number </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="aeeb7836f61feb811fefbc09e762589f6" name="aeeb7836f61feb811fefbc09e762589f6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aeeb7836f61feb811fefbc09e762589f6">&#9670;&#160;</a></span>al_decode()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int al_decode </td>
          <td>(</td>
          <td class="paramtype">char **</td>          <td class="paramname"><span class="paramname"><em>app</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Fetch an attribute number from an alist. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">app</td><td>Attribute list </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>int </dd></dl>

</div>
</div>
<a id="a19b0a2e2514a3b79d77e68d367e15156" name="a19b0a2e2514a3b79d77e68d367e15156"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a19b0a2e2514a3b79d77e68d367e15156">&#9670;&#160;</a></span>al_delete()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void al_delete </td>
          <td>(</td>
          <td class="paramtype">dbref</td>          <td class="paramname"><span class="paramname"><em>thing</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>attrnum</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Remove an attribute from an attribute list. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">thing</td><td>DBref of thing </td></tr>
    <tr><td class="paramname">attrnum</td><td>Attribute number </td></tr>
  </table>
  </dd>
</dl>
<p>If trying to modify List attrib, return. Otherwise, get the attribute list.</p>

</div>
</div>
<a id="a695e32bd3aca57b41bb282dbc3d75e88" name="a695e32bd3aca57b41bb282dbc3d75e88"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a695e32bd3aca57b41bb282dbc3d75e88">&#9670;&#160;</a></span>al_destroy()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void al_destroy </td>
          <td>(</td>
          <td class="paramtype">dbref</td>          <td class="paramname"><span class="paramname"><em>thing</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>wipe out an object's attribute list. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">thing</td><td>DBref of thing </td></tr>
  </table>
  </dd>
</dl>
<p>remove from cache</p>

</div>
</div>
<a id="afb1ef1637581db034928f3f61aafe857" name="afb1ef1637581db034928f3f61aafe857"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afb1ef1637581db034928f3f61aafe857">&#9670;&#160;</a></span>al_extend()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void al_extend </td>
          <td>(</td>
          <td class="paramtype">char **</td>          <td class="paramname"><span class="paramname"><em>buffer</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *</td>          <td class="paramname"><span class="paramname"><em>bufsiz</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>len</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool</td>          <td class="paramname"><span class="paramname"><em>copy</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get more space for attributes, if needed. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">buffer</td><td>Attribute buffer </td></tr>
    <tr><td class="paramname">bufsiz</td><td>Buffer size </td></tr>
    <tr><td class="paramname">len</td><td>Length </td></tr>
    <tr><td class="paramname">copy</td><td>Copy buffer content to the extended buffer? </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a04ae4cb0be91685d20ed057a114ec2fc" name="a04ae4cb0be91685d20ed057a114ec2fc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a04ae4cb0be91685d20ed057a114ec2fc">&#9670;&#160;</a></span>al_fetch()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char * al_fetch </td>
          <td>(</td>
          <td class="paramtype">dbref</td>          <td class="paramname"><span class="paramname"><em>thing</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Load attribute list. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">thing</td><td>DBref of thing </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>char* </dd></dl>
<p>We only need fetch if we change things</p>
<p>Fetch and set up the attribute list</p>

</div>
</div>
<a id="aa36ceb22e97a697a41a5683af042a836" name="aa36ceb22e97a697a41a5683af042a836"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa36ceb22e97a697a41a5683af042a836">&#9670;&#160;</a></span>al_size()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int al_size </td>
          <td>(</td>
          <td class="paramtype">char *</td>          <td class="paramname"><span class="paramname"><em>astr</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Return length of attribute list in chars. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">astr</td><td>Attribute list </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>int </dd></dl>

</div>
</div>
<a id="a591106532fac7d3b5674038604f0829e" name="a591106532fac7d3b5674038604f0829e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a591106532fac7d3b5674038604f0829e">&#9670;&#160;</a></span>anum_extend()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void anum_extend </td>
          <td>(</td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>newtop</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Grow the attr num lookup table. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">newtop</td><td>New size </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ab1bdb0d65c972364316afa4936a63bcd" name="ab1bdb0d65c972364316afa4936a63bcd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab1bdb0d65c972364316afa4936a63bcd">&#9670;&#160;</a></span>atr_add()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void atr_add </td>
          <td>(</td>
          <td class="paramtype">dbref</td>          <td class="paramname"><span class="paramname"><em>thing</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>atr</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *</td>          <td class="paramname"><span class="paramname"><em>buff</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">dbref</td>          <td class="paramname"><span class="paramname"><em>owner</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>flags</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>add attribute of type atr to list </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">thing</td><td>DBref of thing </td></tr>
    <tr><td class="paramname">atr</td><td>Attribute type </td></tr>
    <tr><td class="paramname">buff</td><td>Attribute buffer </td></tr>
    <tr><td class="paramname">owner</td><td>DBref of owner </td></tr>
    <tr><td class="paramname">flags</td><td>Attribute flags </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a6a29ac0a8494f90ccf831b5fd637d263" name="a6a29ac0a8494f90ccf831b5fd637d263"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6a29ac0a8494f90ccf831b5fd637d263">&#9670;&#160;</a></span>atr_add_raw()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void atr_add_raw </td>
          <td>(</td>
          <td class="paramtype">dbref</td>          <td class="paramname"><span class="paramname"><em>thing</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>atr</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *</td>          <td class="paramname"><span class="paramname"><em>buff</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>add attribute of type atr to list </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">thing</td><td>DBref of thing </td></tr>
    <tr><td class="paramname">atr</td><td>Attribute type </td></tr>
    <tr><td class="paramname">buff</td><td>Attribute buffer </td></tr>
  </table>
  </dd>
</dl>
<p>Delete the entry from cache</p>
<p>Store the value in cache</p>

</div>
</div>
<a id="af6a429be80c0bab199bc92a1eff0794c" name="af6a429be80c0bab199bc92a1eff0794c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af6a429be80c0bab199bc92a1eff0794c">&#9670;&#160;</a></span>atr_chown()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void atr_chown </td>
          <td>(</td>
          <td class="paramtype">dbref</td>          <td class="paramname"><span class="paramname"><em>obj</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Change the ownership of the attributes of an object to the current owner if they are not locked. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">obj</td><td>DBref of object </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a1cf45bfae30d317d86da1bd3045027b5" name="a1cf45bfae30d317d86da1bd3045027b5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1cf45bfae30d317d86da1bd3045027b5">&#9670;&#160;</a></span>atr_clr()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void atr_clr </td>
          <td>(</td>
          <td class="paramtype">dbref</td>          <td class="paramname"><span class="paramname"><em>thing</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>atr</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>clear an attribute in the list. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">thing</td><td>DBref of thing </td></tr>
    <tr><td class="paramname">atr</td><td>Attribute number </td></tr>
  </table>
  </dd>
</dl>
<p>Delete the entry from cache</p>

</div>
</div>
<a id="a18b4d2e1a3ec53f7c6a4a2d55a7ae3db" name="a18b4d2e1a3ec53f7c6a4a2d55a7ae3db"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a18b4d2e1a3ec53f7c6a4a2d55a7ae3db">&#9670;&#160;</a></span>atr_cpy()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void atr_cpy </td>
          <td>(</td>
          <td class="paramtype">dbref player </td>          <td class="paramname"><span class="paramname"><em>__attribute__</em></span>(unused), </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">dbref</td>          <td class="paramname"><span class="paramname"><em>dest</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">dbref</td>          <td class="paramname"><span class="paramname"><em>source</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Copy all attributes from one object to another. Takes the player argument to ensure that only attributes that COULD be set by the player are copied. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">player</td><td>DBref of player </td></tr>
    <tr><td class="paramname">dest</td><td>DBref of source </td></tr>
    <tr><td class="paramname">source</td><td>DBref of destination </td></tr>
  </table>
  </dd>
</dl>
<p>change owner</p>
<p>Only set attrs that owner has perm to set</p>

</div>
</div>
<a id="a08d4ba89fe243f2d430abd360a03e85c" name="a08d4ba89fe243f2d430abd360a03e85c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a08d4ba89fe243f2d430abd360a03e85c">&#9670;&#160;</a></span>atr_decode()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void atr_decode </td>
          <td>(</td>
          <td class="paramtype">char *</td>          <td class="paramname"><span class="paramname"><em>iattr</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *</td>          <td class="paramname"><span class="paramname"><em>oattr</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">dbref</td>          <td class="paramname"><span class="paramname"><em>thing</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">dbref *</td>          <td class="paramname"><span class="paramname"><em>owner</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *</td>          <td class="paramname"><span class="paramname"><em>flags</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int atr </td>          <td class="paramname"><span class="paramname"><em>__attribute__</em></span>(unused), </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *</td>          <td class="paramname"><span class="paramname"><em>alen</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Decode an attribute string. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">iattr</td><td>Input attribute string </td></tr>
    <tr><td class="paramname">oattr</td><td>Output attribute string </td></tr>
    <tr><td class="paramname">thing</td><td>DBref of thing </td></tr>
    <tr><td class="paramname">owner</td><td>DBref of owner </td></tr>
    <tr><td class="paramname">flags</td><td>Flags </td></tr>
    <tr><td class="paramname">atr</td><td>Attribute number </td></tr>
    <tr><td class="paramname">alen</td><td>Attribute len </td></tr>
  </table>
  </dd>
</dl>
<p>See if the first char of the attribute is the special character</p>
<p>It is, crack the attr apart</p>
<p>Get the attribute owner</p>
<p>If delimiter is not ':', just return attribute</p>
<p>Get the attribute flags</p>
<p>If delimiter is not ':', just return attribute</p>
<p>Get the attribute text</p>
<p>Not the special character, return normal info</p>

</div>
</div>
<a id="aaca8afef83819b8d56847e03c26781e6" name="aaca8afef83819b8d56847e03c26781e6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aaca8afef83819b8d56847e03c26781e6">&#9670;&#160;</a></span>atr_encode()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char * atr_encode </td>
          <td>(</td>
          <td class="paramtype">char *</td>          <td class="paramname"><span class="paramname"><em>iattr</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">dbref</td>          <td class="paramname"><span class="paramname"><em>thing</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">dbref</td>          <td class="paramname"><span class="paramname"><em>owner</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>flags</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int atr </td>          <td class="paramname"><span class="paramname"><em>__attribute__</em></span>(unused)&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Encode an attribute string. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">iattr</td><td>Attribute string </td></tr>
    <tr><td class="paramname">thing</td><td>DBref of thing </td></tr>
    <tr><td class="paramname">owner</td><td>DBref of owner </td></tr>
    <tr><td class="paramname">flags</td><td>Flags </td></tr>
    <tr><td class="paramname">atr</td><td>Attribute numbrer </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>char* </dd></dl>
<p>If using the default owner and flags (almost all attributes will), just store the string.</p>
<p>Encode owner and flags into the attribute text</p>

</div>
</div>
<a id="a8b2db1338425515c4daaef4fabf3c726" name="a8b2db1338425515c4daaef4fabf3c726"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8b2db1338425515c4daaef4fabf3c726">&#9670;&#160;</a></span>atr_free()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void atr_free </td>
          <td>(</td>
          <td class="paramtype">dbref</td>          <td class="paramname"><span class="paramname"><em>thing</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Remove all attributes of an object. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">thing</td><td>DBref of thing </td></tr>
  </table>
  </dd>
</dl>
<p>Just to be on the safe side</p>

</div>
</div>
<a id="a44c44b33626c527ea4ef71bd070a3d05" name="a44c44b33626c527ea4ef71bd070a3d05"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a44c44b33626c527ea4ef71bd070a3d05">&#9670;&#160;</a></span>atr_get()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char * atr_get </td>
          <td>(</td>
          <td class="paramtype">dbref</td>          <td class="paramname"><span class="paramname"><em>thing</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>atr</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">dbref *</td>          <td class="paramname"><span class="paramname"><em>owner</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *</td>          <td class="paramname"><span class="paramname"><em>flags</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *</td>          <td class="paramname"><span class="paramname"><em>alen</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get an attribute from the database. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">thing</td><td>DBref of thing </td></tr>
    <tr><td class="paramname">atr</td><td>Attribute type </td></tr>
    <tr><td class="paramname">owner</td><td>DBref of owner </td></tr>
    <tr><td class="paramname">flags</td><td>Flags </td></tr>
    <tr><td class="paramname">alen</td><td>Attribute length </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>char* </dd></dl>

</div>
</div>
<a id="ad538b1d571d431fc1dd67c54d95509fc" name="ad538b1d571d431fc1dd67c54d95509fc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad538b1d571d431fc1dd67c54d95509fc">&#9670;&#160;</a></span>atr_get_info()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool atr_get_info </td>
          <td>(</td>
          <td class="paramtype">dbref</td>          <td class="paramname"><span class="paramname"><em>thing</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>atr</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">dbref *</td>          <td class="paramname"><span class="paramname"><em>owner</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *</td>          <td class="paramname"><span class="paramname"><em>flags</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get information about an attribute. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">thing</td><td>DBref of thing </td></tr>
    <tr><td class="paramname">atr</td><td>Attribute type </td></tr>
    <tr><td class="paramname">owner</td><td>DBref of owner </td></tr>
    <tr><td class="paramname">flags</td><td>Flags </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>bool </dd></dl>

</div>
</div>
<a id="a60f9298c85f7afa598cb63d1f499f0ff" name="a60f9298c85f7afa598cb63d1f499f0ff"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a60f9298c85f7afa598cb63d1f499f0ff">&#9670;&#160;</a></span>atr_get_raw()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char * atr_get_raw </td>
          <td>(</td>
          <td class="paramtype">dbref</td>          <td class="paramname"><span class="paramname"><em>thing</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>atr</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get an attribute from the database. </p>
<p>Caller owns the returned buffer and must free it with XFREE().</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">thing</td><td>DBref of thing </td></tr>
    <tr><td class="paramname">atr</td><td>Attribute type </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>char* </dd></dl>
<p>Fetch the entry from cache and return it</p>

</div>
</div>
<a id="a1d7b4e881aa7265b0630d2b0c78c2319" name="a1d7b4e881aa7265b0630d2b0c78c2319"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1d7b4e881aa7265b0630d2b0c78c2319">&#9670;&#160;</a></span>atr_get_str()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char * atr_get_str </td>
          <td>(</td>
          <td class="paramtype">char *</td>          <td class="paramname"><span class="paramname"><em>s</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">dbref</td>          <td class="paramname"><span class="paramname"><em>thing</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>atr</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">dbref *</td>          <td class="paramname"><span class="paramname"><em>owner</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *</td>          <td class="paramname"><span class="paramname"><em>flags</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *</td>          <td class="paramname"><span class="paramname"><em>alen</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get an attribute from the database. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">s</td><td>String buffer </td></tr>
    <tr><td class="paramname">thing</td><td>DBref of thing </td></tr>
    <tr><td class="paramname">atr</td><td>Attribute type </td></tr>
    <tr><td class="paramname">owner</td><td>DBref of owner </td></tr>
    <tr><td class="paramname">flags</td><td>Attribute flag </td></tr>
    <tr><td class="paramname">alen</td><td>Attribute length </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>char* </dd></dl>

</div>
</div>
<a id="a2b6bb41fe82012f6792dbf24f621f427" name="a2b6bb41fe82012f6792dbf24f621f427"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2b6bb41fe82012f6792dbf24f621f427">&#9670;&#160;</a></span>atr_head()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int atr_head </td>
          <td>(</td>
          <td class="paramtype">dbref</td>          <td class="paramname"><span class="paramname"><em>thing</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char **</td>          <td class="paramname"><span class="paramname"><em>attrp</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the head of the attr list for object 'thing'. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">thing</td><td>DBref of thing </td></tr>
    <tr><td class="paramname">attrp</td><td>Attribute </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>int </dd></dl>
<p>Get attribute list. Save a read if it is in the modify atr list</p>
<p>If no list, return nothing</p>
<p>Set up the list and return the first entry</p>

</div>
</div>
<a id="aa92cf8be32bb2d619bf80d9efa5aef85" name="aa92cf8be32bb2d619bf80d9efa5aef85"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa92cf8be32bb2d619bf80d9efa5aef85">&#9670;&#160;</a></span>atr_next()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int atr_next </td>
          <td>(</td>
          <td class="paramtype">char **</td>          <td class="paramname"><span class="paramname"><em>attrp</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Return next attribute in attribute list. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">attrp</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>int </dd></dl>

</div>
</div>
<a id="acba61a32aa3a591c779ca19d7e93068e" name="acba61a32aa3a591c779ca19d7e93068e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acba61a32aa3a591c779ca19d7e93068e">&#9670;&#160;</a></span>atr_num()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structattr.html">ATTR</a> * atr_num </td>
          <td>(</td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>anum</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Look up an attribute by number. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">anum</td><td>Attribute number </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>ATTR* </dd></dl>
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo000005">Todo</a></b></dt><dd>Should return a buffer instead of a static pointer </dd></dl>
<p>Look for a predefined attribute</p>
<p>It's a user-defined attribute, we need to copy data</p>
<p>All failed, return NULL</p>

</div>
</div>
<a id="ad4b994698c9dbf94e870257cefe45254" name="ad4b994698c9dbf94e870257cefe45254"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad4b994698c9dbf94e870257cefe45254">&#9670;&#160;</a></span>atr_pget()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char * atr_pget </td>
          <td>(</td>
          <td class="paramtype">dbref</td>          <td class="paramname"><span class="paramname"><em>thing</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>atr</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">dbref *</td>          <td class="paramname"><span class="paramname"><em>owner</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *</td>          <td class="paramname"><span class="paramname"><em>flags</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *</td>          <td class="paramname"><span class="paramname"><em>alen</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p><ul>
<li></li>
</ul>
</p>
<p>Get a propdir attribute</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">thing</td><td>DBref of thing </td></tr>
    <tr><td class="paramname">atr</td><td>Attribute type </td></tr>
    <tr><td class="paramname">owner</td><td>Owner of thing </td></tr>
    <tr><td class="paramname">flags</td><td>Flags </td></tr>
    <tr><td class="paramname">alen</td><td>Attribute length </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>char* </dd></dl>

</div>
</div>
<a id="a1f4fa334bdbe03d3299ddc65047bfebc" name="a1f4fa334bdbe03d3299ddc65047bfebc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1f4fa334bdbe03d3299ddc65047bfebc">&#9670;&#160;</a></span>atr_pget_info()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int atr_pget_info </td>
          <td>(</td>
          <td class="paramtype">dbref</td>          <td class="paramname"><span class="paramname"><em>thing</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>atr</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">dbref *</td>          <td class="paramname"><span class="paramname"><em>owner</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *</td>          <td class="paramname"><span class="paramname"><em>flags</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get information about a propdir attribute. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">thing</td><td>DBref of thing </td></tr>
    <tr><td class="paramname">atr</td><td>Attribute type </td></tr>
    <tr><td class="paramname">owner</td><td>DBref of owner </td></tr>
    <tr><td class="paramname">flags</td><td>Flags </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>int </dd></dl>

</div>
</div>
<a id="aad3a75d7f06a4bf5bbbfd0947d3620f0" name="aad3a75d7f06a4bf5bbbfd0947d3620f0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aad3a75d7f06a4bf5bbbfd0947d3620f0">&#9670;&#160;</a></span>atr_pget_str()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char * atr_pget_str </td>
          <td>(</td>
          <td class="paramtype">char *</td>          <td class="paramname"><span class="paramname"><em>s</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">dbref</td>          <td class="paramname"><span class="paramname"><em>thing</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>atr</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">dbref *</td>          <td class="paramname"><span class="paramname"><em>owner</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *</td>          <td class="paramname"><span class="paramname"><em>flags</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *</td>          <td class="paramname"><span class="paramname"><em>alen</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get a propdir attribute. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">s</td><td>String buffer </td></tr>
    <tr><td class="paramname">thing</td><td>DBref of thing </td></tr>
    <tr><td class="paramname">atr</td><td>Attribute type </td></tr>
    <tr><td class="paramname">owner</td><td>Owner of thing </td></tr>
    <tr><td class="paramname">flags</td><td>Flags </td></tr>
    <tr><td class="paramname">alen</td><td>Attribute length </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>char* </dd></dl>

</div>
</div>
<a id="a808a3c0c9042c58cbe44f1e99b62f0ab" name="a808a3c0c9042c58cbe44f1e99b62f0ab"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a808a3c0c9042c58cbe44f1e99b62f0ab">&#9670;&#160;</a></span>atr_set_flags()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void atr_set_flags </td>
          <td>(</td>
          <td class="paramtype">dbref</td>          <td class="paramname"><span class="paramname"><em>thing</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>atr</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">dbref</td>          <td class="paramname"><span class="paramname"><em>flags</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set flag of attribute. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">thing</td><td>DBref of thing </td></tr>
    <tr><td class="paramname">atr</td><td>Attribute type </td></tr>
    <tr><td class="paramname">flags</td><td>Flags </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a19f0cde56463fdf870560de7b9fcbeff" name="a19f0cde56463fdf870560de7b9fcbeff"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a19f0cde56463fdf870560de7b9fcbeff">&#9670;&#160;</a></span>atr_set_owner()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void atr_set_owner </td>
          <td>(</td>
          <td class="paramtype">dbref</td>          <td class="paramname"><span class="paramname"><em>thing</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>atr</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">dbref</td>          <td class="paramname"><span class="paramname"><em>owner</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set owner of attribute. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">thing</td><td>DBref of thing </td></tr>
    <tr><td class="paramname">atr</td><td>Attribute type </td></tr>
    <tr><td class="paramname">owner</td><td>DBref of owner </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="aaefff6fa8b559c62d015188de966d6c9" name="aaefff6fa8b559c62d015188de966d6c9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aaefff6fa8b559c62d015188de966d6c9">&#9670;&#160;</a></span>atr_str()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structattr.html">ATTR</a> * atr_str </td>
          <td>(</td>
          <td class="paramtype">char *</td>          <td class="paramname"><span class="paramname"><em>s</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Look up an attribute by name. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">s</td><td>Attribute name </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>ATTR* </dd></dl>
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo000003">Todo</a></b></dt><dd>Should return a buffer instead of a static pointer </dd></dl>
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo000004">Todo</a></b></dt><dd>Should return a buffer instead of a static pointer </dd></dl>
<p>Convert the buffer name to uppercase. Limit length of name.</p>
<p>Look for a predefined attribute</p>
<p>Nope, look for a user attribute</p>
<p>If we got one, load tattr and return a pointer to it.</p>
<p>No exact match, try for a prefix match on predefined attribs. Check for both longer versions and shorter versions.</p>
<p>All failed, return NULL</p>

</div>
</div>
<a id="a13b6d190b28a3c181368d6b97c6183fb" name="a13b6d190b28a3c181368d6b97c6183fb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a13b6d190b28a3c181368d6b97c6183fb">&#9670;&#160;</a></span>Commer()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool Commer </td>
          <td>(</td>
          <td class="paramtype">dbref</td>          <td class="paramname"><span class="paramname"><em>thing</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>check if an object has any $-commands in its attributes. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">thing</td><td>DBref of thing </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>int </dd></dl>

</div>
</div>
<a id="afdc2b8be5a08cd3734e5368cbdcc9e49" name="afdc2b8be5a08cd3734e5368cbdcc9e49"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afdc2b8be5a08cd3734e5368cbdcc9e49">&#9670;&#160;</a></span>initialize_objects()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void initialize_objects </td>
          <td>(</td>
          <td class="paramtype">dbref</td>          <td class="paramname"><span class="paramname"><em>first</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">dbref</td>          <td class="paramname"><span class="paramname"><em>last</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initialize an object. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">first</td><td>DBref of first object to initialize </td></tr>
    <tr><td class="paramname">last</td><td>DBref of last object to initialize </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a562f79870e745b7a8294ee02a616f99d" name="a562f79870e745b7a8294ee02a616f99d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a562f79870e745b7a8294ee02a616f99d">&#9670;&#160;</a></span>makekey()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void makekey </td>
          <td>(</td>
          <td class="paramtype">dbref</td>          <td class="paramname"><span class="paramname"><em>thing</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>atr</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="typedefs_8h.html#afddec1b6ac94228b3c142e2997b0166c">UDB_ANAME</a> *</td>          <td class="paramname"><span class="paramname"><em>abuff</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Make a key. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">thing</td><td>DBref of thing </td></tr>
    <tr><td class="paramname">atr</td><td>Attribute number </td></tr>
    <tr><td class="paramname">abuff</td><td>Attribute buffer </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a2203103a3d3f6ae5c4478fac9da606f2" name="a2203103a3d3f6ae5c4478fac9da606f2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2203103a3d3f6ae5c4478fac9da606f2">&#9670;&#160;</a></span>mkattr()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int mkattr </td>
          <td>(</td>
          <td class="paramtype">char *</td>          <td class="paramname"><span class="paramname"><em>buff</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Lookup attribute by name, creating if needed. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">buff</td><td>Attribute name </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>int </dd></dl>
<p>Unknown attr, create a new one. Check if it matches any attribute type pattern that we have defined; if it does, give it those flags. Otherwise, use the default vattr flags.</p>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="a1323df38074b528092a5ea1f2658ff2a" name="a1323df38074b528092a5ea1f2658ff2a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1323df38074b528092a5ea1f2658ff2a">&#9670;&#160;</a></span>anum_alc_top</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int anum_alc_top = 0</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Top of attr num lookup table </p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.12.0
</small></address>
</div><!-- doc-content -->
</body>
</html>
